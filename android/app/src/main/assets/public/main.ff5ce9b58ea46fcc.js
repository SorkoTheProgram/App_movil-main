(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1526:(mn,_t,k)=>{"use strict";k.d(_t,{fS:()=>um,Ix:()=>sl,H6:()=>Ov,T1:()=>oo,Wq:()=>Uc,uY:()=>Fl,W6:()=>ee,Ci:()=>Vh,YQ:()=>Hh,NJ:()=>Bc,Dc:()=>_n,GA:()=>zh,cm:()=>Ar,K$:()=>Le,FA:()=>bt,lo:()=>ai,bI:()=>Dn,qG:()=>pi,qi:()=>Ot,c8:()=>op,gS:()=>e0,C3:()=>fm,hq:()=>e_,me:()=>Lv,rJ:()=>Zg,Cs:()=>Ny,vN:()=>xv,kd:()=>IE,CL:()=>Pd,LA:()=>up,H9:()=>Oy,ol:()=>Fv,Q5:()=>ap,Os:()=>Vv,FD:()=>Xy,rf:()=>qy,Ws:()=>po,z6:()=>$c,x7:()=>Jy,nY:()=>pE,_e:()=>gE,GG:()=>cm,kU:()=>mE,Rr:()=>vE,GV:()=>Tp,AB:()=>qv,$1:()=>_p,po:()=>Dd,St:()=>Fy,aQ:()=>Ep,FC:()=>Ap,My:()=>Wy,P:()=>Hy,B:()=>Fc,yx:()=>lE,c4:()=>a0,O5:()=>hm,BN:()=>_E,He:()=>Mt,lN:()=>Zy,HM:()=>Ky,EO:()=>sm,mZ:()=>yE,iB:()=>tm,_M:()=>zy});var Be,je,c=k(467),f=k(2979),ne=k(8779),te=k(5398),ie=k(1401),ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ut,et,gt){gt||(gt=0);var wt=Array(16);if("string"==typeof et)for(var kt=0;16>kt;++kt)wt[kt]=et.charCodeAt(gt++)|et.charCodeAt(gt++)<<8|et.charCodeAt(gt++)<<16|et.charCodeAt(gt++)<<24;else for(kt=0;16>kt;++kt)wt[kt]=et[gt++]|et[gt++]<<8|et[gt++]<<16|et[gt++]<<24;var jt=ut.g[3],ht=(et=ut.g[0])+(jt^(gt=ut.g[1])&((kt=ut.g[2])^jt))+wt[0]+3614090360&4294967295;ht=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=(gt=(kt=(jt=(et=gt+(ht<<7&4294967295|ht>>>25))+((ht=jt+(kt^et&(gt^kt))+wt[1]+3905402710&4294967295)<<12&4294967295|ht>>>20))+((ht=kt+(gt^jt&(et^gt))+wt[2]+606105819&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(et^kt&(jt^et))+wt[3]+3250441966&4294967295)<<22&4294967295|ht>>>10))+((ht=et+(jt^gt&(kt^jt))+wt[4]+4118548399&4294967295)<<7&4294967295|ht>>>25))+((ht=jt+(kt^et&(gt^kt))+wt[5]+1200080426&4294967295)<<12&4294967295|ht>>>20))+((ht=kt+(gt^jt&(et^gt))+wt[6]+2821735955&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(et^kt&(jt^et))+wt[7]+4249261313&4294967295)<<22&4294967295|ht>>>10))+((ht=et+(jt^gt&(kt^jt))+wt[8]+1770035416&4294967295)<<7&4294967295|ht>>>25))+((ht=jt+(kt^et&(gt^kt))+wt[9]+2336552879&4294967295)<<12&4294967295|ht>>>20))+((ht=kt+(gt^jt&(et^gt))+wt[10]+4294925233&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(et^kt&(jt^et))+wt[11]+2304563134&4294967295)<<22&4294967295|ht>>>10))+((ht=et+(jt^gt&(kt^jt))+wt[12]+1804603682&4294967295)<<7&4294967295|ht>>>25))+((ht=jt+(kt^et&(gt^kt))+wt[13]+4254626195&4294967295)<<12&4294967295|ht>>>20))+((ht=kt+(gt^jt&(et^gt))+wt[14]+2792965006&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(et^kt&(jt^et))+wt[15]+1236535329&4294967295)<<22&4294967295|ht>>>10))+((ht=et+(kt^jt&(gt^kt))+wt[1]+4129170786&4294967295)<<5&4294967295|ht>>>27))+((ht=jt+(gt^kt&(et^gt))+wt[6]+3225465664&4294967295)<<9&4294967295|ht>>>23))+((ht=kt+(et^gt&(jt^et))+wt[11]+643717713&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(jt^et&(kt^jt))+wt[0]+3921069994&4294967295)<<20&4294967295|ht>>>12))+((ht=et+(kt^jt&(gt^kt))+wt[5]+3593408605&4294967295)<<5&4294967295|ht>>>27))+((ht=jt+(gt^kt&(et^gt))+wt[10]+38016083&4294967295)<<9&4294967295|ht>>>23))+((ht=kt+(et^gt&(jt^et))+wt[15]+3634488961&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(jt^et&(kt^jt))+wt[4]+3889429448&4294967295)<<20&4294967295|ht>>>12))+((ht=et+(kt^jt&(gt^kt))+wt[9]+568446438&4294967295)<<5&4294967295|ht>>>27))+((ht=jt+(gt^kt&(et^gt))+wt[14]+3275163606&4294967295)<<9&4294967295|ht>>>23))+((ht=kt+(et^gt&(jt^et))+wt[3]+4107603335&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(jt^et&(kt^jt))+wt[8]+1163531501&4294967295)<<20&4294967295|ht>>>12))+((ht=et+(kt^jt&(gt^kt))+wt[13]+2850285829&4294967295)<<5&4294967295|ht>>>27))+((ht=jt+(gt^kt&(et^gt))+wt[2]+4243563512&4294967295)<<9&4294967295|ht>>>23))+((ht=kt+(et^gt&(jt^et))+wt[7]+1735328473&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(jt^et&(kt^jt))+wt[12]+2368359562&4294967295)<<20&4294967295|ht>>>12))+((ht=et+(gt^kt^jt)+wt[5]+4294588738&4294967295)<<4&4294967295|ht>>>28))+((ht=jt+(et^gt^kt)+wt[8]+2272392833&4294967295)<<11&4294967295|ht>>>21))+((ht=kt+(jt^et^gt)+wt[11]+1839030562&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(kt^jt^et)+wt[14]+4259657740&4294967295)<<23&4294967295|ht>>>9))+((ht=et+(gt^kt^jt)+wt[1]+2763975236&4294967295)<<4&4294967295|ht>>>28))+((ht=jt+(et^gt^kt)+wt[4]+1272893353&4294967295)<<11&4294967295|ht>>>21))+((ht=kt+(jt^et^gt)+wt[7]+4139469664&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(kt^jt^et)+wt[10]+3200236656&4294967295)<<23&4294967295|ht>>>9))+((ht=et+(gt^kt^jt)+wt[13]+681279174&4294967295)<<4&4294967295|ht>>>28))+((ht=jt+(et^gt^kt)+wt[0]+3936430074&4294967295)<<11&4294967295|ht>>>21))+((ht=kt+(jt^et^gt)+wt[3]+3572445317&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(kt^jt^et)+wt[6]+76029189&4294967295)<<23&4294967295|ht>>>9))+((ht=et+(gt^kt^jt)+wt[9]+3654602809&4294967295)<<4&4294967295|ht>>>28))+((ht=jt+(et^gt^kt)+wt[12]+3873151461&4294967295)<<11&4294967295|ht>>>21))+((ht=kt+(jt^et^gt)+wt[15]+530742520&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(kt^jt^et)+wt[2]+3299628645&4294967295)<<23&4294967295|ht>>>9))+((ht=et+(kt^(gt|~jt))+wt[0]+4096336452&4294967295)<<6&4294967295|ht>>>26))+((ht=jt+(gt^(et|~kt))+wt[7]+1126891415&4294967295)<<10&4294967295|ht>>>22))+((ht=kt+(et^(jt|~gt))+wt[14]+2878612391&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(jt^(kt|~et))+wt[5]+4237533241&4294967295)<<21&4294967295|ht>>>11))+((ht=et+(kt^(gt|~jt))+wt[12]+1700485571&4294967295)<<6&4294967295|ht>>>26))+((ht=jt+(gt^(et|~kt))+wt[3]+2399980690&4294967295)<<10&4294967295|ht>>>22))+((ht=kt+(et^(jt|~gt))+wt[10]+4293915773&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(jt^(kt|~et))+wt[1]+2240044497&4294967295)<<21&4294967295|ht>>>11))+((ht=et+(kt^(gt|~jt))+wt[8]+1873313359&4294967295)<<6&4294967295|ht>>>26))+((ht=jt+(gt^(et|~kt))+wt[15]+4264355552&4294967295)<<10&4294967295|ht>>>22))+((ht=kt+(et^(jt|~gt))+wt[6]+2734768916&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(jt^(kt|~et))+wt[13]+1309151649&4294967295)<<21&4294967295|ht>>>11))+((jt=(et=gt+((ht=et+(kt^(gt|~jt))+wt[4]+4149444226&4294967295)<<6&4294967295|ht>>>26))+((ht=jt+(gt^(et|~kt))+wt[11]+3174756917&4294967295)<<10&4294967295|ht>>>22))^((kt=jt+((ht=kt+(et^(jt|~gt))+wt[2]+718787259&4294967295)<<15&4294967295|ht>>>17))|~et))+wt[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+et&4294967295,ut.g[1]=ut.g[1]+(kt+(ht<<21&4294967295|ht>>>11))&4294967295,ut.g[2]=ut.g[2]+kt&4294967295,ut.g[3]=ut.g[3]+jt&4294967295}function y(ut,et){this.h=et;for(var gt=[],wt=!0,kt=ut.length-1;0<=kt;kt--){var jt=0|ut[kt];wt&&jt==et||(gt[kt]=jt,wt=!1)}this.g=gt}(function n(ut,et){function gt(){}gt.prototype=et.prototype,ut.D=et.prototype,ut.prototype=new gt,ut.prototype.constructor=ut,ut.C=function(wt,kt,jt){for(var ht=Array(arguments.length-2),Ba=2;Ba<arguments.length;Ba++)ht[Ba-2]=arguments[Ba];return et.prototype[kt].apply(wt,ht)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(ut,et){void 0===et&&(et=ut.length);for(var gt=et-this.blockSize,wt=this.B,kt=this.h,jt=0;jt<et;){if(0==kt)for(;jt<=gt;)u(this,ut,jt),jt+=this.blockSize;if("string"==typeof ut){for(;jt<et;)if(wt[kt++]=ut.charCodeAt(jt++),kt==this.blockSize){u(this,wt),kt=0;break}}else for(;jt<et;)if(wt[kt++]=ut[jt++],kt==this.blockSize){u(this,wt),kt=0;break}}this.h=kt,this.o+=et},s.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var et=1;et<ut.length-8;++et)ut[et]=0;var gt=8*this.o;for(et=ut.length-8;et<ut.length;++et)ut[et]=255&gt,gt/=256;for(this.u(ut),ut=Array(16),et=gt=0;4>et;++et)for(var wt=0;32>wt;wt+=8)ut[gt++]=this.g[et]>>>wt&255;return ut};var x={};function L(ut){return-128<=ut&&128>ut?function m(ut,et){var gt=x;return Object.prototype.hasOwnProperty.call(gt,ut)?gt[ut]:gt[ut]=et(ut)}(ut,function(et){return new y([0|et],0>et?-1:0)}):new y([0|ut],0>ut?-1:0)}function X(ut){if(isNaN(ut)||!isFinite(ut))return ke;if(0>ut)return fn(X(-ut));for(var et=[],gt=1,wt=0;ut>=gt;wt++)et[wt]=ut/gt|0,gt*=4294967296;return new y(et,0)}var ke=L(0),ot=L(1),Ut=L(16777216);function on(ut){if(0!=ut.h)return!1;for(var et=0;et<ut.g.length;et++)if(0!=ut.g[et])return!1;return!0}function Cn(ut){return-1==ut.h}function fn(ut){for(var et=ut.g.length,gt=[],wt=0;wt<et;wt++)gt[wt]=~ut.g[wt];return new y(gt,~ut.h).add(ot)}function ar(ut,et){return ut.add(fn(et))}function yr(ut,et){for(;(65535&ut[et])!=ut[et];)ut[et+1]+=ut[et]>>>16,ut[et]&=65535,et++}function cr(ut,et){this.g=ut,this.h=et}function Wr(ut,et){if(on(et))throw Error("division by zero");if(on(ut))return new cr(ke,ke);if(Cn(ut))return et=Wr(fn(ut),et),new cr(fn(et.g),fn(et.h));if(Cn(et))return et=Wr(ut,fn(et)),new cr(fn(et.g),et.h);if(30<ut.g.length){if(Cn(ut)||Cn(et))throw Error("slowDivide_ only works with positive integers.");for(var gt=ot,wt=et;0>=wt.l(ut);)gt=Ai(gt),wt=Ai(wt);var kt=ei(gt,1),jt=ei(wt,1);for(wt=ei(wt,2),gt=ei(gt,2);!on(wt);){var ht=jt.add(wt);0>=ht.l(ut)&&(kt=kt.add(gt),jt=ht),wt=ei(wt,1),gt=ei(gt,1)}return et=ar(ut,kt.j(et)),new cr(kt,et)}for(kt=ke;0<=ut.l(et);){for(gt=Math.max(1,Math.floor(ut.m()/et.m())),wt=48>=(wt=Math.ceil(Math.log(gt)/Math.LN2))?1:Math.pow(2,wt-48),ht=(jt=X(gt)).j(et);Cn(ht)||0<ht.l(ut);)ht=(jt=X(gt-=wt)).j(et);on(jt)&&(jt=ot),kt=kt.add(jt),ut=ar(ut,ht)}return new cr(kt,ut)}function Ai(ut){for(var et=ut.g.length+1,gt=[],wt=0;wt<et;wt++)gt[wt]=ut.i(wt)<<1|ut.i(wt-1)>>>31;return new y(gt,ut.h)}function ei(ut,et){var gt=et>>5;et%=32;for(var wt=ut.g.length-gt,kt=[],jt=0;jt<wt;jt++)kt[jt]=0<et?ut.i(jt+gt)>>>et|ut.i(jt+gt+1)<<32-et:ut.i(jt+gt);return new y(kt,ut.h)}(l=y.prototype).m=function(){if(Cn(this))return-fn(this).m();for(var ut=0,et=1,gt=0;gt<this.g.length;gt++){var wt=this.i(gt);ut+=(0<=wt?wt:4294967296+wt)*et,et*=4294967296}return ut},l.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(on(this))return"0";if(Cn(this))return"-"+fn(this).toString(ut);for(var et=X(Math.pow(ut,6)),gt=this,wt="";;){var kt=Wr(gt,et).g,jt=((0<(gt=ar(gt,kt.j(et))).g.length?gt.g[0]:gt.h)>>>0).toString(ut);if(on(gt=kt))return jt+wt;for(;6>jt.length;)jt="0"+jt;wt=jt+wt}},l.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},l.l=function(ut){return Cn(ut=ar(this,ut))?-1:on(ut)?0:1},l.abs=function(){return Cn(this)?fn(this):this},l.add=function(ut){for(var et=Math.max(this.g.length,ut.g.length),gt=[],wt=0,kt=0;kt<=et;kt++){var jt=wt+(65535&this.i(kt))+(65535&ut.i(kt)),ht=(jt>>>16)+(this.i(kt)>>>16)+(ut.i(kt)>>>16);wt=ht>>>16,gt[kt]=(ht&=65535)<<16|(jt&=65535)}return new y(gt,-2147483648&gt[gt.length-1]?-1:0)},l.j=function(ut){if(on(this)||on(ut))return ke;if(Cn(this))return Cn(ut)?fn(this).j(fn(ut)):fn(fn(this).j(ut));if(Cn(ut))return fn(this.j(fn(ut)));if(0>this.l(Ut)&&0>ut.l(Ut))return X(this.m()*ut.m());for(var et=this.g.length+ut.g.length,gt=[],wt=0;wt<2*et;wt++)gt[wt]=0;for(wt=0;wt<this.g.length;wt++)for(var kt=0;kt<ut.g.length;kt++){var jt=this.i(wt)>>>16,ht=65535&this.i(wt),Ba=ut.i(kt)>>>16,ll=65535&ut.i(kt);gt[2*wt+2*kt]+=ht*ll,yr(gt,2*wt+2*kt),gt[2*wt+2*kt+1]+=jt*ll,yr(gt,2*wt+2*kt+1),gt[2*wt+2*kt+1]+=ht*Ba,yr(gt,2*wt+2*kt+1),gt[2*wt+2*kt+2]+=jt*Ba,yr(gt,2*wt+2*kt+2)}for(wt=0;wt<et;wt++)gt[wt]=gt[2*wt+1]<<16|gt[2*wt];for(wt=et;wt<2*et;wt++)gt[wt]=0;return new y(gt,0)},l.A=function(ut){return Wr(this,ut).h},l.and=function(ut){for(var et=Math.max(this.g.length,ut.g.length),gt=[],wt=0;wt<et;wt++)gt[wt]=this.i(wt)&ut.i(wt);return new y(gt,this.h&ut.h)},l.or=function(ut){for(var et=Math.max(this.g.length,ut.g.length),gt=[],wt=0;wt<et;wt++)gt[wt]=this.i(wt)|ut.i(wt);return new y(gt,this.h|ut.h)},l.xor=function(ut){for(var et=Math.max(this.g.length,ut.g.length),gt=[],wt=0;wt<et;wt++)gt[wt]=this.i(wt)^ut.i(wt);return new y(gt,this.h^ut.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,je=be.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=X,y.fromString=function he(ut,et){if(0==ut.length)throw Error("number format error: empty string");if(2>(et=et||10)||36<et)throw Error("radix out of range: "+et);if("-"==ut.charAt(0))return fn(he(ut.substring(1),et));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var gt=X(Math.pow(et,8)),wt=ke,kt=0;kt<ut.length;kt+=8){var jt=Math.min(8,ut.length-kt),ht=parseInt(ut.substring(kt,kt+jt),et);8>jt?(jt=X(Math.pow(et,jt)),wt=wt.j(jt).add(X(ht))):wt=(wt=wt.j(gt)).add(X(ht))}return wt},Be=be.Integer=y}).apply(typeof ae<"u"?ae:typeof self<"u"?self:typeof window<"u"?window:{});var $e,He,Ze,ct,nt,st,It,mt,Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(_,B,Q){return _==Array.prototype||_==Object.prototype||(_[B]=Q.value),_},s=function i(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ee&&Ee];for(var B=0;B<_.length;++B){var Q=_[B];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function u(_,B){if(B)e:{var Q=s;_=_.split(".");for(var Ce=0;Ce<_.length-1;Ce++){var Ft=_[Ce];if(!(Ft in Q))break e;Q=Q[Ft]}(B=B(Ce=Q[_=_[_.length-1]]))!=Ce&&null!=B&&n(Q,_,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(_){return _||function(){return function m(_,B){_ instanceof String&&(_+="");var Q=0,Ce=!1,Ft={next:function(){if(!Ce&&Q<_.length){var Xt=Q++;return{value:B(Xt,_[Xt]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return Ft[Symbol.iterator]=function(){return Ft},Ft}(this,function(B,Q){return Q})}});var y=y||{},x=this||self;function L(_){var B=typeof _;return"array"==(B="object"!=B?B:_?Array.isArray(_)?"array":B:"null")||"object"==B&&"number"==typeof _.length}function X(_){var B=typeof _;return"object"==B&&null!=_||"function"==B}function he(_,B,Q){return _.call.apply(_.bind,arguments)}function ke(_,B,Q){if(!_)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var Ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ft,Ce),_.apply(B,Ft)}}return function(){return _.apply(B,arguments)}}function ot(_,B,Q){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:ke).apply(null,arguments)}function Ut(_,B){var Q=Array.prototype.slice.call(arguments,1);return function(){var Ce=Q.slice();return Ce.push.apply(Ce,arguments),_.apply(this,Ce)}}function on(_,B){function Q(){}Q.prototype=B.prototype,_.aa=B.prototype,_.prototype=new Q,_.prototype.constructor=_,_.Qb=function(Ce,Ft,Xt){for(var Vn=Array(arguments.length-2),eo=2;eo<arguments.length;eo++)Vn[eo-2]=arguments[eo];return B.prototype[Ft].apply(Ce,Vn)}}function Cn(_){const B=_.length;if(0<B){const Q=Array(B);for(let Ce=0;Ce<B;Ce++)Q[Ce]=_[Ce];return Q}return[]}function fn(_,B){for(let Q=1;Q<arguments.length;Q++){const Ce=arguments[Q];if(L(Ce)){const Ft=_.length||0,Xt=Ce.length||0;_.length=Ft+Xt;for(let Vn=0;Vn<Xt;Vn++)_[Ft+Vn]=Ce[Vn]}else _.push(Ce)}}function yr(_){return/^[\s\xa0]*$/.test(_)}function cr(){var _=x.navigator;return _&&(_=_.userAgent)?_:""}function Wr(_){return Wr[" "](_),_}Wr[" "]=function(){};var Ai=!(-1==cr().indexOf("Gecko")||-1!=cr().toLowerCase().indexOf("webkit")&&-1==cr().indexOf("Edge")||-1!=cr().indexOf("Trident")||-1!=cr().indexOf("MSIE")||-1!=cr().indexOf("Edge"));function ei(_,B,Q){for(const Ce in _)B.call(Q,_[Ce],Ce,_)}function et(_){const B={};for(const Q in _)B[Q]=_[Q];return B}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(_,B){let Q,Ce;for(let Ft=1;Ft<arguments.length;Ft++){for(Q in Ce=arguments[Ft],Ce)_[Q]=Ce[Q];for(let Xt=0;Xt<gt.length;Xt++)Q=gt[Xt],Object.prototype.hasOwnProperty.call(Ce,Q)&&(_[Q]=Ce[Q])}}function kt(_){var B=1;_=_.split(":");const Q=[];for(;0<B&&_.length;)Q.push(_.shift()),B--;return _.length&&Q.push(_.join(":")),Q}function jt(_){x.setTimeout(()=>{throw _},0)}function ht(){var _=Wh;let B=null;return _.g&&(B=_.g,_.g=_.g.next,_.g||(_.h=null),B.next=null),B}var ll=new class ar{constructor(B,Q){this.i=B,this.j=Q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new gm,_=>_.reset());class gm{constructor(){this.next=this.g=this.h=null}set(B,Q){this.h=B,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let du,xd=!1,Wh=new class Ba{constructor(){this.h=this.g=null}add(B,Q){const Ce=ll.get();Ce.set(B,Q),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},wp=()=>{const _=x.Promise.resolve(void 0);du=()=>{_.then(mm)}};var mm=()=>{for(var _;_=ht();){try{_.h.call(_.g)}catch(Q){jt(Q)}var B=ll;B.j(_),100>B.h&&(B.h++,_.next=B.g,B.g=_)}xd=!1};function hu(){this.s=this.s,this.C=this.C}function ds(_,B){this.type=_,this.g=this.target=B,this.defaultPrevented=!1}hu.prototype.s=!1,hu.prototype.ma=function(){this.s||(this.s=!0,this.N())},hu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ds.prototype.h=function(){this.defaultPrevented=!0};var h0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var _=!1,B=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Q=()=>{};x.addEventListener("test",Q,B),x.removeEventListener("test",Q,B)}catch{}return _}();function Kh(_,B){if(ds.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Q=this.type=_.type,Ce=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=B,B=_.relatedTarget){if(Ai){e:{try{Wr(B.nodeName);var Ft=!0;break e}catch{}Ft=!1}Ft||(B=null)}}else"mouseover"==Q?B=_.fromElement:"mouseout"==Q&&(B=_.toElement);this.relatedTarget=B,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:f0[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Kh.aa.h.call(this)}}on(Kh,ds);var f0={2:"touch",3:"pen",4:"mouse"};Kh.prototype.h=function(){Kh.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),p0=0;function g0(_,B,Q,Ce,Ft){this.listener=_,this.proxy=null,this.src=B,this.type=Q,this.capture=!!Ce,this.ha=Ft,this.key=++p0,this.da=this.fa=!1}function Sp(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Rp(_){this.src=_,this.g={},this.h=0}function Mp(_,B){var Q=B.type;if(Q in _.g){var Xt,Ce=_.g[Q],Ft=Array.prototype.indexOf.call(Ce,B,void 0);(Xt=0<=Ft)&&Array.prototype.splice.call(Ce,Ft,1),Xt&&(Sp(B),0==_.g[Q].length&&(delete _.g[Q],_.h--))}}function Pp(_,B,Q,Ce){for(var Ft=0;Ft<_.length;++Ft){var Xt=_[Ft];if(!Xt.da&&Xt.listener==B&&Xt.capture==!!Q&&Xt.ha==Ce)return Ft}return-1}Rp.prototype.add=function(_,B,Q,Ce,Ft){var Xt=_.toString();(_=this.g[Xt])||(_=this.g[Xt]=[],this.h++);var Vn=Pp(_,B,Ce,Ft);return-1<Vn?(B=_[Vn],Q||(B.fa=!1)):((B=new g0(B,this.src,Xt,!!Ce,Ft)).fa=Q,_.push(B)),B};var vm="closure_lm_"+(1e6*Math.random()|0),_m={};function Qs(_,B,Q,Ce,Ft){if(Ce&&Ce.once)return v0(_,B,Q,Ce,Ft);if(Array.isArray(B)){for(var Xt=0;Xt<B.length;Xt++)Qs(_,B[Xt],Q,Ce,Ft);return null}return Q=Im(Q),_&&_[Nd]?_.K(B,Q,X(Ce)?!!Ce.capture:!!Ce,Ft):o_(_,B,Q,!1,Ce,Ft)}function o_(_,B,Q,Ce,Ft,Xt){if(!B)throw Error("Invalid event type");var Vn=X(Ft)?!!Ft.capture:!!Ft,eo=ym(_);if(eo||(_[vm]=eo=new Rp(_)),(Q=eo.add(B,Q,Ce,Vn,Xt)).proxy)return Q;if(Ce=function m0(){const B=_0;return function _(Q){return B.call(_.src,_.listener,Q)}}(),Q.proxy=Ce,Ce.src=_,Ce.listener=Q,_.addEventListener)h0||(Ft=Vn),void 0===Ft&&(Ft=!1),_.addEventListener(B.toString(),Ce,Ft);else if(_.attachEvent)_.attachEvent(s_(B.toString()),Ce);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(Ce)}return Q}function v0(_,B,Q,Ce,Ft){if(Array.isArray(B)){for(var Xt=0;Xt<B.length;Xt++)v0(_,B[Xt],Q,Ce,Ft);return null}return Q=Im(Q),_&&_[Nd]?_.L(B,Q,X(Ce)?!!Ce.capture:!!Ce,Ft):o_(_,B,Q,!0,Ce,Ft)}function xp(_,B,Q,Ce,Ft){if(Array.isArray(B))for(var Xt=0;Xt<B.length;Xt++)xp(_,B[Xt],Q,Ce,Ft);else Ce=X(Ce)?!!Ce.capture:!!Ce,Q=Im(Q),_&&_[Nd]?(_=_.i,(B=String(B).toString())in _.g&&-1<(Q=Pp(Xt=_.g[B],Q,Ce,Ft))&&(Sp(Xt[Q]),Array.prototype.splice.call(Xt,Q,1),0==Xt.length&&(delete _.g[B],_.h--))):_&&(_=ym(_))&&(B=_.g[B.toString()],_=-1,B&&(_=Pp(B,Q,Ce,Ft)),(Q=-1<_?B[_]:null)&&Np(Q))}function Np(_){if("number"!=typeof _&&_&&!_.da){var B=_.src;if(B&&B[Nd])Mp(B.i,_);else{var Q=_.type,Ce=_.proxy;B.removeEventListener?B.removeEventListener(Q,Ce,_.capture):B.detachEvent?B.detachEvent(s_(Q),Ce):B.addListener&&B.removeListener&&B.removeListener(Ce),(Q=ym(B))?(Mp(Q,_),0==Q.h&&(Q.src=null,B[vm]=null)):Sp(_)}}}function s_(_){return _ in _m?_m[_]:_m[_]="on"+_}function _0(_,B){if(_.da)_=!0;else{B=new Kh(B,this);var Q=_.listener,Ce=_.ha||_.src;_.fa&&Np(_),_=Q.call(Ce,B)}return _}function ym(_){return(_=_[vm])instanceof Rp?_:null}var Op="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(_){return"function"==typeof _?_:(_[Op]||(_[Op]=function(B){return _.handleEvent(B)}),_[Op])}function Us(){hu.call(this),this.i=new Rp(this),this.M=this,this.F=null}function Es(_,B){var Q,Ce=_.F;if(Ce)for(Q=[];Ce;Ce=Ce.F)Q.push(Ce);if(_=_.M,Ce=B.type||B,"string"==typeof B)B=new ds(B,_);else if(B instanceof ds)B.target=B.target||_;else{var Ft=B;wt(B=new ds(Ce,_),Ft)}if(Ft=!0,Q)for(var Xt=Q.length-1;0<=Xt;Xt--){var Vn=B.g=Q[Xt];Ft=kp(Vn,Ce,!0,B)&&Ft}if(Ft=kp(Vn=B.g=_,Ce,!0,B)&&Ft,Ft=kp(Vn,Ce,!1,B)&&Ft,Q)for(Xt=0;Xt<Q.length;Xt++)Ft=kp(Vn=B.g=Q[Xt],Ce,!1,B)&&Ft}function kp(_,B,Q,Ce){if(!(B=_.i.g[String(B)]))return!0;B=B.concat();for(var Ft=!0,Xt=0;Xt<B.length;++Xt){var Vn=B[Xt];if(Vn&&!Vn.da&&Vn.capture==Q){var eo=Vn.listener,Cs=Vn.ha||Vn.src;Vn.fa&&Mp(_.i,Vn),Ft=!1!==eo.call(Cs,Ce)&&Ft}}return Ft&&!Ce.defaultPrevented}function a_(_,B,Q){if("function"==typeof _)Q&&(_=ot(_,Q));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=ot(_.handleEvent,_)}return 2147483647<Number(B)?-1:x.setTimeout(_,B||0)}function l_(_){_.g=a_(()=>{_.g=null,_.i&&(_.i=!1,l_(_))},_.l);const B=_.h;_.h=null,_.m.apply(null,B)}on(Us,hu),Us.prototype[Nd]=!0,Us.prototype.removeEventListener=function(_,B,Q,Ce){xp(this,_,B,Q,Ce)},Us.prototype.N=function(){if(Us.aa.N.call(this),this.i){var B,_=this.i;for(B in _.g){for(var Q=_.g[B],Ce=0;Ce<Q.length;Ce++)Sp(Q[Ce]);delete _.g[B],_.h--}}this.F=null},Us.prototype.K=function(_,B,Q,Ce){return this.i.add(String(_),B,!1,Q,Ce)},Us.prototype.L=function(_,B,Q,Ce){return this.i.add(String(_),B,!0,Q,Ce)};class y0 extends hu{constructor(B,Q){super(),this.m=B,this.l=Q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:l_(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qh(_){hu.call(this),this.h=_,this.g={}}on(qh,hu);var ul=[];function Fp(_){ei(_.g,function(B,Q){this.g.hasOwnProperty(Q)&&Np(B)},_),_.g={}}qh.prototype.N=function(){qh.aa.N.call(this),Fp(this)},qh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Em=x.JSON.stringify,I0=x.JSON.parse,u_=class{stringify(_){return x.JSON.stringify(_,void 0)}parse(_){return x.JSON.parse(_,void 0)}};function Lp(){}function Vp(){}Lp.prototype.h=null;var Up={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bp(){ds.call(this,"d")}function $p(){ds.call(this,"c")}on(Bp,ds),on($p,ds);var zu={},Qh=null;function Od(){return Qh=Qh||new Us}function Bl(_){ds.call(this,zu.La,_)}function Yh(_){const B=Od();Es(B,new Bl(B))}function c_(_,B){ds.call(this,zu.STAT_EVENT,_),this.stat=B}function As(_){const B=Od();Es(B,new c_(B,_))}function d_(_,B){ds.call(this,zu.Ma,_),this.size=B}function $l(_,B){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){_()},B)}function kd(){this.g=!0}function Gu(_,B,Q,Ce){_.info(function(){return"XMLHTTP TEXT ("+B+"): "+function h_(_,B){if(!_.g)return B;if(!B)return null;try{var Q=JSON.parse(B);if(Q)for(_=0;_<Q.length;_++)if(Array.isArray(Q[_])){var Ce=Q[_];if(!(2>Ce.length)){var Ft=Ce[1];if(Array.isArray(Ft)&&!(1>Ft.length)){var Xt=Ft[0];if("noop"!=Xt&&"stop"!=Xt&&"close"!=Xt)for(var Vn=1;Vn<Ft.length;Vn++)Ft[Vn]=""}}}return Em(Q)}catch{return B}}(_,Q)+(Ce?" "+Ce:"")})}zu.La="serverreachability",on(Bl,ds),zu.STAT_EVENT="statevent",on(c_,ds),zu.Ma="timingevent",on(d_,ds),kd.prototype.xa=function(){this.g=!1},kd.prototype.info=function(){};var Am,Jh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},f_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function jp(){}function Wu(_,B,Q,Ce){this.j=_,this.i=B,this.l=Q,this.R=Ce||1,this.U=new qh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p_}function p_(){this.i=null,this.g="",this.h=!1}on(jp,Lp),jp.prototype.g=function(){return new XMLHttpRequest},jp.prototype.i=function(){return{}},Am=new jp;var g_={},Hp={};function Cm(_,B,Q){_.L=1,_.v=Wp(qu(B)),_.m=Q,_.P=!0,ef(_,null)}function ef(_,B){_.F=Date.now(),zp(_),_.A=qu(_.v);var Q=_.A,Ce=_.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Nm(Q.i,"t",Ce),_.C=0,Q=_.j.J,_.h=new p_,_.g=Jp(_.j,Q?B:null,!_.m),0<_.O&&(_.M=new y0(ot(_.Y,_,_.g),_.O)),B=_.U,Q=_.g,Ce=_.ca;var Ft="readystatechange";Array.isArray(Ft)||(Ft&&(ul[0]=Ft.toString()),Ft=ul);for(var Xt=0;Xt<Ft.length;Xt++){var Vn=Qs(Q,Ft[Xt],Ce||B.handleEvent,!1,B.h||B);if(!Vn)break;B.g[Vn.key]=Vn}B=_.H?et(_.H):{},_.m?(_.u||(_.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,B)):(_.u="GET",_.g.ea(_.A,_.u,null,B)),Yh(),function jc(_,B,Q,Ce,Ft,Xt){_.info(function(){if(_.g)if(Xt)for(var Vn="",eo=Xt.split("&"),Cs=0;Cs<eo.length;Cs++){var Ci=eo[Cs].split("=");if(1<Ci.length){var Bs=Ci[0];Ci=Ci[1];var Ts=Bs.split("_");Vn=2<=Ts.length&&"type"==Ts[1]?Vn+(Bs+"=")+Ci+"&":Vn+(Bs+"=redacted&")}}else Vn=null;else Vn=Xt;return"XMLHTTP REQ ("+Ce+") [attempt "+Ft+"]: "+B+"\n"+Q+"\n"+Vn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function m_(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function v_(_,B){var Q=_.C,Ce=B.indexOf("\n",Q);return-1==Ce?Hp:(Q=Number(B.substring(Q,Ce)),isNaN(Q)?g_:(Ce+=1)+Q>B.length?Hp:(B=B.slice(Ce,Ce+Q),_.C=Ce+Q,B))}function zp(_){_.S=Date.now()+_.I,Tm(_,_.I)}function Tm(_,B){if(null!=_.B)throw Error("WatchDog timer not null");_.B=$l(ot(_.ba,_),B)}function Dm(_){_.B&&(x.clearTimeout(_.B),_.B=null)}function tf(_){0==_.j.G||_.J||M_(_.j,_)}function Ku(_){Dm(_);var B=_.M;B&&"function"==typeof B.ma&&B.ma(),_.M=null,Fp(_.U),_.g&&(B=_.g,_.g=null,B.abort(),B.ma())}function nf(_,B){try{var Q=_.j;if(0!=Q.G&&(Q.g==_||bm(Q.h,_)))if(!_.K&&bm(Q.h,_)&&3==Q.G){try{var Ce=Q.Da.g.parse(B)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var Ft=Ce;if(0==Ft[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<_.F))break e;Zp(Q),Lm(Q)}Xp(Q),As(18)}}else Q.za=Ft[1],0<Q.za-Q.T&&37500>Ft[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=$l(ot(Q.Za,Q),6e3));if(1>=Ud(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Gc(Q,11)}else if((_.K||Q.g==_)&&Zp(Q),!yr(B))for(Ft=Q.Da.g.parse(B),B=0;B<Ft.length;B++){let Ci=Ft[B];if(Q.T=Ci[0],Ci=Ci[1],2==Q.G)if("c"==Ci[0]){Q.K=Ci[1],Q.ia=Ci[2];const Bs=Ci[3];null!=Bs&&(Q.la=Bs,Q.j.info("VER="+Q.la));const Ts=Ci[4];null!=Ts&&(Q.Aa=Ts,Q.j.info("SVER="+Q.Aa));const mu=Ci[5];null!=mu&&"number"==typeof mu&&0<mu&&(Q.L=Ce=1.5*mu,Q.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=Q;const cl=_.g;if(cl){const tg=cl.g?cl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tg){var Xt=Ce.h;Xt.g||-1==tg.indexOf("spdy")&&-1==tg.indexOf("quic")&&-1==tg.indexOf("h2")||(Xt.j=Xt.l,Xt.g=new Set,Xt.h&&(wm(Xt,Xt.h),Xt.h=null))}if(Ce.D){const ng=cl.g?cl.g.getResponseHeader("X-HTTP-Session-Id"):null;ng&&(Ce.ya=ng,go(Ce.I,Ce.D,ng))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-_.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var Vn=_;if((Ce=Q).qa=N_(Ce,Ce.J?Ce.ia:null,Ce.W),Vn.K){y_(Ce.h,Vn);var eo=Vn,Cs=Ce.L;Cs&&(eo.I=Cs),eo.B&&(Dm(eo),zp(eo)),Ce.g=Vn}else Um(Ce);0<Q.i.length&&ff(Q)}else"stop"!=Ci[0]&&"close"!=Ci[0]||Gc(Q,7);else 3==Q.G&&("stop"==Ci[0]||"close"==Ci[0]?"stop"==Ci[0]?Gc(Q,7):Hd(Q):"noop"!=Ci[0]&&Q.l&&Q.l.ta(Ci),Q.v=0)}Yh()}catch{}}Wu.prototype.ca=function(_){_=_.target;const B=this.M;B&&3==Ia(_)?B.j():this.Y(_)},Wu.prototype.Y=function(_){try{if(_==this.g)e:{const Ts=Ia(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>Ts)&&(3!=Ts||this.g&&(this.h.h||this.g.oa()||Fm(this.g)))){this.J||4!=Ts||7==B||Yh(),Dm(this);var Q=this.g.Z();this.X=Q;t:if(m_(this)){var Ce=Fm(this.g);_="";var Ft=Ce.length,Xt=4==Ia(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ku(this),tf(this);var Vn="";break t}this.h.i=new x.TextDecoder}for(B=0;B<Ft;B++)this.h.h=!0,_+=this.h.i.decode(Ce[B],{stream:!(Xt&&B==Ft-1)});Ce.length=0,this.h.g+=_,this.C=0,Vn=this.h.g}else Vn=this.g.oa();if(this.o=200==Q,function Fd(_,B,Q,Ce,Ft,Xt,Vn){_.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+Ft+"]: "+B+"\n"+Q+"\n"+Xt+" "+Vn})}(this.i,this.u,this.A,this.l,this.R,Ts,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var eo,Cs=this.g;if((eo=Cs.g?Cs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(eo)){var Ci=eo;break t}}Ci=null}if(!(Q=Ci)){this.o=!1,this.s=3,As(12),Ku(this),tf(this);break e}Gu(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nf(this,Q)}if(this.P){let cl;for(Q=!0;!this.J&&this.C<Vn.length;){if(cl=v_(this,Vn),cl==Hp){4==Ts&&(this.s=4,As(14),Q=!1),Gu(this.i,this.l,null,"[Incomplete Response]");break}if(cl==g_){this.s=4,As(15),Gu(this.i,this.l,Vn,"[Invalid Chunk]"),Q=!1;break}Gu(this.i,this.l,cl,null),nf(this,cl)}if(m_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ts||0!=Vn.length||this.h.h||(this.s=1,As(16),Q=!1),this.o=this.o&&Q,Q){if(0<Vn.length&&!this.W){this.W=!0;var Bs=this.j;Bs.g==this&&Bs.ba&&!Bs.M&&(Bs.j.info("Great, no buffering proxy detected. Bytes received: "+Vn.length),Qp(Bs),Bs.M=!0,As(11))}}else Gu(this.i,this.l,Vn,"[Invalid Chunked Response]"),Ku(this),tf(this)}else Gu(this.i,this.l,Vn,null),nf(this,Vn);4==Ts&&Ku(this),this.o&&!this.J&&(4==Ts?M_(this.j,this):(this.o=!1,zp(this)))}else(function b_(_){const B={};_=(_.g&&2<=Ia(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<_.length;Ce++){if(yr(_[Ce]))continue;var Q=kt(_[Ce]);const Ft=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const Xt=B[Ft]||[];B[Ft]=Xt,Xt.push(Q)}!function ut(_,B){for(const Q in _)B.call(void 0,_[Q],Q,_)}(B,function(Ce){return Ce.join(", ")})})(this.g),400==Q&&0<Vn.indexOf("Unknown SID")?(this.s=3,As(12)):(this.s=0,As(13)),Ku(this),tf(this)}}}catch{}},Wu.prototype.cancel=function(){this.J=!0,Ku(this)},Wu.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Zh(_,B){_.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(Yh(),As(17)),Ku(this),this.s=2,tf(this)):Tm(this,this.S-_)};var __=class{constructor(_,B){this.g=_,this.map=B}};function Ld(_){this.l=_||10,_=x.PerformanceNavigationTiming?0<(_=x.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vd(_){return!!_.h||!!_.g&&_.g.size>=_.j}function Ud(_){return _.h?1:_.g?_.g.size:0}function bm(_,B){return _.h?_.h==B:!!_.g&&_.g.has(B)}function wm(_,B){_.g?_.g.add(B):_.h=B}function y_(_,B){_.h&&_.h==B?_.h=null:_.g&&_.g.has(B)&&_.g.delete(B)}function rf(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let B=_.i;for(const Q of _.g.values())B=B.concat(Q.D);return B}return Cn(_.i)}function A0(_,B){if(_.forEach&&"function"==typeof _.forEach)_.forEach(B,void 0);else if(L(_)||"string"==typeof _)Array.prototype.forEach.call(_,B,void 0);else for(var Q=function E0(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(L(_)||"string"==typeof _){var B=[];_=_.length;for(var Q=0;Q<_;Q++)B.push(Q);return B}B=[],Q=0;for(const Ce in _)B[Q++]=Ce;return B}}}(_),Ce=function Sm(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(L(_)){for(var B=[],Q=_.length,Ce=0;Ce<Q;Ce++)B.push(_[Ce]);return B}for(Ce in B=[],Q=0,_)B[Q++]=_[Ce];return B}(_),Ft=Ce.length,Xt=0;Xt<Ft;Xt++)B.call(void 0,Ce[Xt],Q&&Q[Xt],_)}Ld.prototype.cancel=function(){if(this.i=rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var C0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Hc){this.h=_.h,Gp(this,_.j),this.o=_.o,this.g=_.g,Rm(this,_.s),this.l=_.l;var B=_.i,Q=new pu;Q.i=B.i,B.g&&(Q.g=new Map(B.g),Q.h=B.h),I_(this,Q),this.m=_.m}else _&&(B=String(_).match(C0))?(this.h=!1,Gp(this,B[1]||"",!0),this.o=zc(B[2]||""),this.g=zc(B[3]||"",!0),Rm(this,B[4]),this.l=zc(B[5]||"",!0),I_(this,B[6]||"",!0),this.m=zc(B[7]||"")):(this.h=!1,this.i=new pu(null,this.h))}function qu(_){return new Hc(_)}function Gp(_,B,Q){_.j=Q?zc(B,!0):B,_.j&&(_.j=_.j.replace(/:$/,""))}function Rm(_,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);_.s=B}else _.s=null}function I_(_,B,Q){B instanceof pu?(_.i=B,function b0(_,B){B&&!_.j&&(gu(_),_.i=null,_.g.forEach(function(Q,Ce){var Ft=Ce.toLowerCase();Ce!=Ft&&(Pm(this,Ce),Nm(this,Ft,Q))},_)),_.j=B}(_.i,_.h)):(Q||(B=fu(B,A_)),_.i=new pu(B,_.h))}function go(_,B,Q){_.i.set(B,Q)}function Wp(_){return go(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function zc(_,B){return _?B?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function fu(_,B,Q){return"string"==typeof _?(_=encodeURI(_).replace(B,Mm),Q&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Mm(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Hc.prototype.toString=function(){var _=[],B=this.j;B&&_.push(fu(B,sf,!0),":");var Q=this.g;return(Q||"file"==B)&&(_.push("//"),(B=this.o)&&_.push(fu(B,sf,!0),"@"),_.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&_.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&_.push("/"),_.push(fu(Q,"/"==Q.charAt(0)?af:E_,!0))),(Q=this.i.toString())&&_.push("?",Q),(Q=this.m)&&_.push("#",fu(Q,D0)),_.join("")};var sf=/[#\/\?@]/g,E_=/[#\?:]/g,af=/[#\?]/g,A_=/[#\?@]/g,D0=/#/g;function pu(_,B){this.h=this.g=null,this.i=_||null,this.j=!!B}function gu(_){_.g||(_.g=new Map,_.h=0,_.i&&function T0(_,B){if(_){_=_.split("&");for(var Q=0;Q<_.length;Q++){var Ce=_[Q].indexOf("="),Ft=null;if(0<=Ce){var Xt=_[Q].substring(0,Ce);Ft=_[Q].substring(Ce+1)}else Xt=_[Q];B(Xt,Ft?decodeURIComponent(Ft.replace(/\+/g," ")):"")}}}(_.i,function(B,Q){_.add(decodeURIComponent(B.replace(/\+/g," ")),Q)}))}function Pm(_,B){gu(_),B=Bd(_,B),_.g.has(B)&&(_.i=null,_.h-=_.g.get(B).length,_.g.delete(B))}function xm(_,B){return gu(_),B=Bd(_,B),_.g.has(B)}function Nm(_,B,Q){Pm(_,B),0<Q.length&&(_.i=null,_.g.set(Bd(_,B),Cn(Q)),_.h+=Q.length)}function Bd(_,B){return B=String(B),_.j&&(B=B.toLowerCase()),B}function Xu(_,B,Q,Ce,Ft){try{Ft&&(Ft.onload=null,Ft.onerror=null,Ft.onabort=null,Ft.ontimeout=null),Ce(Q)}catch{}}function S0(){this.g=new u_}function R0(_,B,Q){const Ce=Q||"";try{A0(_,function(Ft,Xt){let Vn=Ft;X(Ft)&&(Vn=Em(Ft)),B.push(Ce+Xt+"="+encodeURIComponent(Vn))})}catch(Ft){throw B.push(Ce+"type="+encodeURIComponent("_badmap")),Ft}}function Qu(_){this.l=_.Ub||null,this.j=_.eb||!1}function uf(_,B){Us.call(this),this.D=_,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Om(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function $d(_){_.readyState=4,_.l=null,_.j=null,_.v=null,cf(_)}function cf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function km(_){let B="";return ei(_,function(Q,Ce){B+=Ce,B+=":",B+=Q,B+="\r\n"}),B}function df(_,B,Q){e:{for(Ce in Q){var Ce=!1;break e}Ce=!0}Ce||(Q=km(Q),"string"==typeof _?null!=Q&&encodeURIComponent(String(Q)):go(_,B,Q))}function mo(_){Us.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=pu.prototype).add=function(_,B){gu(this),this.i=null,_=Bd(this,_);var Q=this.g.get(_);return Q||this.g.set(_,Q=[]),Q.push(B),this.h+=1,this},l.forEach=function(_,B){gu(this),this.g.forEach(function(Q,Ce){Q.forEach(function(Ft){_.call(B,Ft,Ce,this)},this)},this)},l.na=function(){gu(this);const _=Array.from(this.g.values()),B=Array.from(this.g.keys()),Q=[];for(let Ce=0;Ce<B.length;Ce++){const Ft=_[Ce];for(let Xt=0;Xt<Ft.length;Xt++)Q.push(B[Ce])}return Q},l.V=function(_){gu(this);let B=[];if("string"==typeof _)xm(this,_)&&(B=B.concat(this.g.get(Bd(this,_))));else{_=Array.from(this.g.values());for(let Q=0;Q<_.length;Q++)B=B.concat(_[Q])}return B},l.set=function(_,B){return gu(this),this.i=null,xm(this,_=Bd(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[B]),this.h+=1,this},l.get=function(_,B){return _&&0<(_=this.V(_)).length?String(_[0]):B},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],B=Array.from(this.g.keys());for(var Q=0;Q<B.length;Q++){var Ce=B[Q];const Xt=encodeURIComponent(String(Ce)),Vn=this.V(Ce);for(Ce=0;Ce<Vn.length;Ce++){var Ft=Xt;""!==Vn[Ce]&&(Ft+="="+encodeURIComponent(String(Vn[Ce]))),_.push(Ft)}}return this.i=_.join("&")},on(Qu,Lp),Qu.prototype.g=function(){return new uf(this.l,this.j)},Qu.prototype.i=function(_){return function(){return _}}({}),on(uf,Us),(l=uf.prototype).open=function(_,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=B,this.readyState=1,cf(this)},l.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(B.body=_),(this.D||x).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$d(this)),this.readyState=0},l.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Om(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var B=_.value?_.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!_.done}))&&(this.response=this.responseText+=B)}_.done?$d(this):cf(this),3==this.readyState&&Om(this)}},l.Ra=function(_){this.g&&(this.response=this.responseText=_,$d(this))},l.Qa=function(_){this.g&&(this.response=_,$d(this))},l.ga=function(){this.g&&$d(this)},l.setRequestHeader=function(_,B){this.u.append(_,B)},l.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],B=this.h.entries();for(var Q=B.next();!Q.done;)_.push((Q=Q.value)[0]+": "+Q[1]),Q=B.next();return _.join("\r\n")},Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),on(mo,Us);var M0=/^https?$/i,P0=["POST","PUT"];function C_(_,B){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=B,_.m=5,T_(_),Kp(_)}function T_(_){_.A||(_.A=!0,Es(_,"complete"),Es(_,"error"))}function D_(_){if(_.h&&typeof y<"u"&&(!_.v[1]||4!=Ia(_)||2!=_.Z()))if(_.u&&4==Ia(_))a_(_.Ea,0,_);else if(Es(_,"readystatechange"),4==Ia(_)){_.h=!1;try{const Vn=_.Z();e:switch(Vn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Q;if(!(Q=B)){var Ce;if(Ce=0===Vn){var Ft=String(_.D).match(C0)[1]||null;!Ft&&x.self&&x.self.location&&(Ft=x.self.location.protocol.slice(0,-1)),Ce=!M0.test(Ft?Ft.toLowerCase():"")}Q=Ce}if(Q)Es(_,"complete"),Es(_,"success");else{_.m=6;try{var Xt=2<Ia(_)?_.g.statusText:""}catch{Xt=""}_.l=Xt+" ["+_.Z()+"]",T_(_)}}finally{Kp(_)}}}function Kp(_,B){if(_.g){qp(_);const Q=_.g,Ce=_.v[0]?()=>{}:null;_.g=null,_.v=null,B||Es(_,"ready");try{Q.onreadystatechange=Ce}catch{}}}function qp(_){_.I&&(x.clearTimeout(_.I),_.I=null)}function Ia(_){return _.g?_.g.readyState:0}function Fm(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(_,B,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[_]||B}function jd(_){this.Aa=0,this.i=[],this.j=new kd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hf("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hf("baseRetryDelayMs",5e3,_),this.cb=hf("retryDelaySeedMs",1e4,_),this.Wa=hf("forwardChannelMaxRetries",2,_),this.wa=hf("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Ld(_&&_.concurrentRequestLimit),this.Da=new S0,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Hd(_){if(w_(_),3==_.G){var B=_.U++,Q=qu(_.I);if(go(Q,"SID",_.K),go(Q,"RID",B),go(Q,"TYPE","terminate"),zd(_,Q),(B=new Wu(_,_.j,B)).L=2,B.v=Wp(qu(Q)),Q=!1,x.navigator&&x.navigator.sendBeacon)try{Q=x.navigator.sendBeacon(B.v.toString(),"")}catch{}!Q&&x.Image&&((new Image).src=B.v,Q=!0),Q||(B.g=Jp(B.j,null),B.g.ea(B.v)),B.F=Date.now(),zp(B)}x_(_)}function Lm(_){_.g&&(Qp(_),_.g.cancel(),_.g=null)}function w_(_){Lm(_),_.u&&(x.clearTimeout(_.u),_.u=null),Zp(_),_.h.cancel(),_.s&&("number"==typeof _.s&&x.clearTimeout(_.s),_.s=null)}function ff(_){if(!Vd(_.h)&&!_.s){_.s=!0;var B=_.Ga;du||wp(),xd||(du(),xd=!0),Wh.add(B,_),_.B=0}}function S_(_,B){var Q;Q=B?B.l:_.U++;const Ce=qu(_.I);go(Ce,"SID",_.K),go(Ce,"RID",Q),go(Ce,"AID",_.T),zd(_,Ce),_.m&&_.o&&df(Ce,_.m,_.o),Q=new Wu(_,_.j,Q,_.B+1),null===_.m&&(Q.H=_.o),B&&(_.i=B.D.concat(_.i)),B=R_(_,Q,1e3),Q.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),wm(_.h,Q),Cm(Q,Ce,B)}function zd(_,B){_.H&&ei(_.H,function(Q,Ce){go(B,Ce,Q)}),_.l&&A0({},function(Q,Ce){go(B,Ce,Q)})}function R_(_,B,Q){Q=Math.min(_.i.length,Q);var Ce=_.l?ot(_.l.Na,_.l,_):null;e:{var Ft=_.i;let Xt=-1;for(;;){const Vn=["count="+Q];-1==Xt?0<Q?(Xt=Ft[0].g,Vn.push("ofs="+Xt)):Xt=0:Vn.push("ofs="+Xt);let eo=!0;for(let Cs=0;Cs<Q;Cs++){let Ci=Ft[Cs].g;const Bs=Ft[Cs].map;if(Ci-=Xt,0>Ci)Xt=Math.max(0,Ft[Cs].g-100),eo=!1;else try{R0(Bs,Vn,"req"+Ci+"_")}catch{Ce&&Ce(Bs)}}if(eo){Ce=Vn.join("&");break e}}}return _=_.i.splice(0,Q),B.D=_,Ce}function Um(_){if(!_.g&&!_.u){_.Y=1;var B=_.Fa;du||wp(),xd||(du(),xd=!0),Wh.add(B,_),_.v=0}}function Xp(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=$l(ot(_.Fa,_),P_(_,_.v)),_.v++,0))}function Qp(_){null!=_.A&&(x.clearTimeout(_.A),_.A=null)}function Yp(_){_.g=new Wu(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var B=qu(_.qa);go(B,"RID","rpc"),go(B,"SID",_.K),go(B,"AID",_.T),go(B,"CI",_.F?"0":"1"),!_.F&&_.ja&&go(B,"TO",_.ja),go(B,"TYPE","xmlhttp"),zd(_,B),_.m&&_.o&&df(B,_.m,_.o),_.L&&(_.g.I=_.L);var Q=_.g;_=_.ia,Q.L=1,Q.v=Wp(qu(B)),Q.m=null,Q.P=!0,ef(Q,_)}function Zp(_){null!=_.C&&(x.clearTimeout(_.C),_.C=null)}function M_(_,B){var Q=null;if(_.g==B){Zp(_),Qp(_),_.g=null;var Ce=2}else{if(!bm(_.h,B))return;Q=B.D,y_(_.h,B),Ce=1}if(0!=_.G)if(B.o)if(1==Ce){Q=B.m?B.m.length:0,B=Date.now()-B.F;var Ft=_.B;Es(Ce=Od(),new d_(Ce,Q)),ff(_)}else Um(_);else if(3==(Ft=B.s)||0==Ft&&0<B.X||!(1==Ce&&function Vm(_,B){return!(Ud(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=B.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=$l(ot(_.Ga,_,B),P_(_,_.B)),_.B++,0)))}(_,B)||2==Ce&&Xp(_)))switch(Q&&0<Q.length&&(B=_.h,B.i=B.i.concat(Q)),Ft){case 1:Gc(_,5);break;case 4:Gc(_,10);break;case 3:Gc(_,6);break;default:Gc(_,2)}}function P_(_,B){let Q=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Q*=2),Q*B}function Gc(_,B){if(_.j.info("Error code "+B),2==B){var Q=ot(_.fb,_),Ce=_.Xa;const Ft=!Ce;Ce=new Hc(Ce||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Gp(Ce,"https"),Wp(Ce),Ft?function w0(_,B){const Q=new kd;if(x.Image){const Ce=new Image;Ce.onload=Ut(Xu,Q,"TestLoadImage: loaded",!0,B,Ce),Ce.onerror=Ut(Xu,Q,"TestLoadImage: error",!1,B,Ce),Ce.onabort=Ut(Xu,Q,"TestLoadImage: abort",!1,B,Ce),Ce.ontimeout=Ut(Xu,Q,"TestLoadImage: timeout",!1,B,Ce),x.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=_}else B(!1)}(Ce.toString(),Q):function lf(_,B){new kd;const Ce=new AbortController,Ft=setTimeout(()=>{Ce.abort(),Xu(0,0,!1,B)},1e4);fetch(_,{signal:Ce.signal}).then(Xt=>{clearTimeout(Ft),Xu(0,0,!!Xt.ok,B)}).catch(()=>{clearTimeout(Ft),Xu(0,0,!1,B)})}(Ce.toString(),Q)}else As(2);_.G=0,_.l&&_.l.sa(B),x_(_),w_(_)}function x_(_){if(_.G=0,_.ka=[],_.l){const B=rf(_.h);(0!=B.length||0!=_.i.length)&&(fn(_.ka,B),fn(_.ka,_.i),_.h.i.length=0,Cn(_.i),_.i.length=0),_.l.ra()}}function N_(_,B,Q){var Ce=Q instanceof Hc?qu(Q):new Hc(Q);if(""!=Ce.g)B&&(Ce.g=B+"."+Ce.g),Rm(Ce,Ce.s);else{var Ft=x.location;Ce=Ft.protocol,B=B?B+"."+Ft.hostname:Ft.hostname,Ft=+Ft.port;var Xt=new Hc(null);Ce&&Gp(Xt,Ce),B&&(Xt.g=B),Ft&&Rm(Xt,Ft),Q&&(Xt.l=Q),Ce=Xt}return B=_.ya,(Q=_.D)&&B&&go(Ce,Q,B),go(Ce,"VER",_.la),zd(_,Ce),Ce}function Jp(_,B,Q){if(B&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new mo(_.Ca&&!_.pa?new Qu({eb:Q}):_.pa)).Ha(_.J),B}function O_(){}function eg(){}function Ea(_,B){Us.call(this),this.g=new jd(B),this.l=_,this.h=B&&B.messageUrlParams||null,_=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(_?_["X-WebChannel-Content-Type"]=B.messageContentType:_={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(_?_["X-WebChannel-Client-Profile"]=B.va:_={"X-WebChannel-Client-Profile":B.va}),this.g.S=_,(_=B&&B.Sb)&&!yr(_)&&(this.g.m=_),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!yr(B)&&(this.g.D=B,null!==(_=this.h)&&B in _&&B in(_=this.h)&&delete _[B]),this.j=new Zu(this)}function Yu(_){Bp.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var B=_.__sm__;if(B){e:{for(const Q in B){_=Q;break e}_=void 0}(this.i=_)&&(_=this.i,B=null!==B&&_ in B?B[_]:void 0),this.data=B}else this.data=_}function Gd(){$p.call(this),this.status=1}function Zu(_){this.g=_}(l=mo.prototype).Ha=function(_){this.J=_},l.ea=function(_,B,Q,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);B=B?B.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Am.g(),this.v=function Xh(_){return _.h||(_.h=_.i())}(this.o?this.o:Am),this.g.onreadystatechange=ot(this.Ea,this);try{this.B=!0,this.g.open(B,String(_),!0),this.B=!1}catch(Xt){return void C_(this,Xt)}if(_=Q||"",Q=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var Ft in Ce)Q.set(Ft,Ce[Ft]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const Xt of Ce.keys())Q.set(Xt,Ce.get(Xt))}Ce=Array.from(Q.keys()).find(Xt=>"content-type"==Xt.toLowerCase()),Ft=x.FormData&&_ instanceof x.FormData,!(0<=Array.prototype.indexOf.call(P0,B,void 0))||Ce||Ft||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Xt,Vn]of Q)this.g.setRequestHeader(Xt,Vn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qp(this),this.u=!0,this.g.send(_),this.u=!1}catch(Xt){C_(this,Xt)}},l.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Es(this,"complete"),Es(this,"abort"),Kp(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kp(this,!0)),mo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?D_(this):this.bb())},l.bb=function(){D_(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Ia(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(_){if(this.g){var B=this.g.responseText;return _&&0==B.indexOf(_)&&(B=B.substring(_.length)),I0(B)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=jd.prototype).la=8,l.G=1,l.connect=function(_,B,Q,Ce){As(0),this.W=_,this.H=B||{},Q&&void 0!==Ce&&(this.H.OSID=Q,this.H.OAID=Ce),this.F=this.X,this.I=N_(this,null,this.W),ff(this)},l.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ft=new Wu(this,this.j,_);let Xt=this.o;if(this.S&&(Xt?(Xt=et(Xt),wt(Xt,this.S)):Xt=this.S),null!==this.m||this.O||(Ft.H=Xt,Xt=null),this.P)e:{for(var B=0,Q=0;Q<this.i.length;Q++){var Ce=this.i[Q];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(B+=Ce)){B=Q;break e}if(4096===B||Q===this.i.length-1){B=Q+1;break e}}B=1e3}else B=1e3;B=R_(this,Ft,B),go(Q=qu(this.I),"RID",_),go(Q,"CVER",22),this.D&&go(Q,"X-HTTP-Session-Id",this.D),zd(this,Q),Xt&&(this.O?B="headers="+encodeURIComponent(String(km(Xt)))+"&"+B:this.m&&df(Q,this.m,Xt)),wm(this.h,Ft),this.Ua&&go(Q,"TYPE","init"),this.P?(go(Q,"$req",B),go(Q,"SID","null"),Ft.T=!0,Cm(Ft,Q,null)):Cm(Ft,Q,B),this.G=2}}else 3==this.G&&(_?S_(this,_):0==this.i.length||Vd(this.h)||S_(this))},l.Fa=function(){if(this.u=null,Yp(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=$l(ot(this.ab,this),_)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,As(10),Lm(this),Yp(this))},l.Za=function(){null!=this.C&&(this.C=null,Lm(this),Xp(this),As(19))},l.fb=function(_){_?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=O_.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},eg.prototype.g=function(_,B){return new Ea(_,B)},on(Ea,Us),Ea.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ea.prototype.close=function(){Hd(this.g)},Ea.prototype.o=function(_){var B=this.g;if("string"==typeof _){var Q={};Q.__data__=_,_=Q}else this.u&&((Q={}).__data__=Em(_),_=Q);B.i.push(new __(B.Ya++,_)),3==B.G&&ff(B)},Ea.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,Ea.aa.N.call(this)},on(Yu,Bp),on(Gd,$p),on(Zu,O_),Zu.prototype.ua=function(){Es(this.g,"a")},Zu.prototype.ta=function(_){Es(this.g,new Yu(_))},Zu.prototype.sa=function(_){Es(this.g,new Gd)},Zu.prototype.ra=function(){Es(this.g,"b")},eg.prototype.createWebChannel=eg.prototype.g,Ea.prototype.send=Ea.prototype.o,Ea.prototype.open=Ea.prototype.m,Ea.prototype.close=Ea.prototype.close,mt=ge.createWebChannelTransport=function(){return new eg},It=ge.getStatEventTarget=function(){return Od()},st=ge.Event=zu,nt=ge.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jh.NO_ERROR=0,Jh.TIMEOUT=8,Jh.HTTP_ERROR=6,ct=ge.ErrorCode=Jh,f_.COMPLETE="complete",Ze=ge.EventType=f_,Vp.EventType=Up,Up.OPEN="a",Up.CLOSE="b",Up.ERROR="c",Up.MESSAGE="d",Us.prototype.listen=Us.prototype.K,He=ge.WebChannel=Vp,ge.FetchXmlHttpFactory=Qu,mo.prototype.listenOnce=mo.prototype.L,mo.prototype.getLastError=mo.prototype.Ka,mo.prototype.getLastErrorCode=mo.prototype.Ba,mo.prototype.getStatus=mo.prototype.Z,mo.prototype.getResponseJson=mo.prototype.Oa,mo.prototype.getResponseText=mo.prototype.oa,mo.prototype.send=mo.prototype.ea,mo.prototype.setWithCredentials=mo.prototype.Ha,$e=ge.XhrIo=mo}).apply(typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{});const Se="@firebase/firestore";class _e{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}_e.UNAUTHENTICATED=new _e(null),_e.GOOGLE_CREDENTIALS=new _e("google-credentials-uid"),_e.FIRST_PARTY=new _e("first-party-uid"),_e.MOCK_USER=new _e("mock-user");let Me="10.14.0";const dt=new te.Vy("@firebase/firestore");function at(){return dt.logLevel}function Mt(l){dt.setLogLevel(l)}function pe(l,...n){if(dt.logLevel<=te.$b.DEBUG){const i=n.map(zt);dt.debug(`Firestore (${Me}): ${l}`,...i)}}function De(l,...n){if(dt.logLevel<=te.$b.ERROR){const i=n.map(zt);dt.error(`Firestore (${Me}): ${l}`,...i)}}function Ot(l,...n){if(dt.logLevel<=te.$b.WARN){const i=n.map(zt);dt.warn(`Firestore (${Me}): ${l}`,...i)}}function zt(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Nt(l="Unexpected state"){const n=`FIRESTORE (${Me}) INTERNAL ASSERTION FAILED: `+l;throw De(n),new Error(n)}function Et(l,n){l||Nt()}function Dn(l,n){l||Nt()}function Fe(l,n){return l}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ie.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ye{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class re{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(_e.UNAUTHENTICATED))}shutdown(){}}class Qe{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ke{constructor(n){this.t=n,this.currentUser=_e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Et(void 0===this.o);let u=this.i;const m=X=>this.i!==u?(u=this.i,i(X)):Promise.resolve();let y=new ye;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new ye,n.enqueueRetryable(()=>m(this.currentUser))};const x=()=>{const X=y;n.enqueueRetryable((0,c.A)(function*(){yield X.promise,yield m(s.currentUser)}))},L=X=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(X=>L(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?L(X):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new ye)}},0),x()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et("string"==typeof s.accessToken),new re(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Et(null===n||"string"==typeof n),new _e(n)}}class Ve{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=_e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rt{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new Ve(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(_e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lt{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class St{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){Et(void 0===this.o);const s=m=>{null!=m.error&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.R;return this.R=m.token,pe("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(m.token):Promise.resolve()};this.o=m=>{n.enqueueRetryable(()=>s(m))};const u=m=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Et("string"==typeof i.token),this.R=i.token,new lt(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class dn{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=sn(40);for(let m=0;m<u.length;++m)s.length<20&&u[m]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return s}}function Zt(l,n){return l<n?-1:l>n?1:0}function Mn(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function En(l){return l+"\0"}class _n{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return _n.fromMillis(Date.now())}static fromDate(n){return _n.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new _n(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Zt(this.nanoseconds,n.nanoseconds):Zt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Kt(n)}static min(){return new Kt(new _n(0,0))}static max(){return new Kt(new _n(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ir{constructor(n,i,s){void 0===i?i=0:i>n.length&&Nt(),void 0===s?s=n.length-i:s>n.length-i&&Nt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===ir.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof ir?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const m=n.get(u),y=i.get(u);if(m<y)return-1;if(m>y)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Tt extends ir{construct(n,i,s){return new Tt(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new ee(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Tt(i)}static emptyPath(){return new Tt([])}}const Pt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ir{construct(n,i,s){return new bt(n,i,s)}static isValidIdentifier(n){return Pt.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bt(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const m=()=>{if(0===s.length)throw new ee(Y.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let y=!1;for(;u<n.length;){const x=n[u];if("\\"===x){if(u+1===n.length)throw new ee(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const L=n[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ee(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=L,u+=2}else"`"===x?(y=!y,u++):"."!==x||y?(s+=x,u++):(m(),u++)}if(m(),y)throw new ee(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new bt(i)}static emptyPath(){return new bt([])}}class Le{constructor(n){this.path=n}static fromPath(n){return new Le(Tt.fromString(n))}static fromName(n){return new Le(Tt.fromString(n).popFirst(5))}static empty(){return new Le(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Tt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Tt.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Le(new Tt(n.slice()))}}class Nn{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function zn(l){return l.fields.find(n=>2===n.kind)}function vn(l){return l.fields.filter(n=>2!==n.kind)}Nn.UNKNOWN_ID=-1;class Wn{constructor(n,i){this.fieldPath=n,this.kind=i}}class kn{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new kn(0,pr.min())}}function er(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Kt.fromTimestamp(1e9===s?new _n(i+1,0):new _n(i,s));return new pr(u,Le.empty(),n)}function fr(l){return new pr(l.readTime,l.key,-1)}class pr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new pr(Kt.min(),Le.empty(),-1)}static max(){return new pr(Kt.max(),Le.empty(),-1)}}function tr(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=Le.comparator(l.documentKey,n.documentKey),0!==i?i:Zt(l.largestBatchId,n.largestBatchId))}const Gr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Vr(l){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.A)(function*(l){if(l.code!==Y.FAILED_PRECONDITION||l.message!==Gr)throw l;pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class yt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new yt((s,u)=>{this.nextCallback=m=>{this.wrapSuccess(n,m).next(s,u)},this.catchCallback=m=>{this.wrapFailure(i,m).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof yt?i:yt.resolve(i)}catch(i){return yt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):yt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):yt.reject(i)}static resolve(n){return new yt((i,s)=>{i(n)})}static reject(n){return new yt((i,s)=>{s(n)})}static waitFor(n){return new yt((i,s)=>{let u=0,m=0,y=!1;n.forEach(x=>{++u,x.next(()=>{++m,y&&m===u&&i()},L=>s(L))}),y=!0,m===u&&i()})}static or(n){let i=yt.resolve(!1);for(const s of n)i=i.next(u=>u?yt.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,m)=>{s.push(i.call(this,u,m))}),this.waitFor(s)}static mapArray(n,i){return new yt((s,u)=>{const m=n.length,y=new Array(m);let x=0;for(let L=0;L<m;L++){const X=L;i(n[X]).next(he=>{y[X]=he,++x,x===m&&s(y)},he=>u(he))}})}static doWhile(n,i){return new yt((s,u)=>{const m=()=>{!0===n()?i().next(()=>{m()},u):s()};m()})}}class Fr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new ye,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Pe(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Ht(s.target.error);this.V.reject(new Pe(n,u))}}static open(n,i,s,u){try{return new Fr(i,n.transaction(u,s))}catch(m){throw new Pe(i,m)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(pe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new At(i)}}class Vt{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===Vt.S((0,ie.ZQ)())&&De("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return pe("SimpleDb","Removing database:",n),Je(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,ie.zW)())return!1;if(Vt.v())return!0;const n=(0,ie.ZQ)(),i=Vt.S(n),s=0<i&&i<10,u=fe(n),m=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||m)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,c.A)(function*(){return i.db||(pe("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const m=indexedDB.open(i.name,i.version);m.onsuccess=y=>{s(y.target.result)},m.onblocked=()=>{u(new Pe(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const x=y.target.error;u("VersionError"===x.name?new ee(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new ee(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Pe(n,x))},m.onupgradeneeded=y=>{pe("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.p.O(y.target.result,m.transaction,y.oldVersion,i.version).next(()=>{pe("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var m=this;return(0,c.A)(function*(){const y="readonly"===i;let x=0;for(;;){++x;try{m.db=yield m.M(n);const L=Fr.open(m.db,n,y?"readonly":"readwrite",s),X=u(L).next(he=>(L.g(),he)).catch(he=>(L.abort(he),yt.reject(he))).toPromise();return X.catch(()=>{}),yield L.m,X}catch(L){const X=L,he="FirebaseError"!==X.name&&x<3;if(pe("SimpleDb","Transaction failed with error:",X.message,"Retrying:",he),m.close(),!he)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function fe(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class ze{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Je(this.B.delete())}}class Pe extends ee{constructor(n,i){super(Y.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Oe(l){return"IndexedDbTransactionError"===l.name}class At{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(pe("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(pe("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Je(s)}add(n){return pe("SimpleDb","ADD",this.store.name,n,n),Je(this.store.add(n))}get(n){return Je(this.store.get(n)).next(i=>(void 0===i&&(i=null),pe("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return pe("SimpleDb","DELETE",this.store.name,n),Je(this.store.delete(n))}count(){return pe("SimpleDb","COUNT",this.store.name),Je(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const m=u.getAll(s.range);return new yt((y,x)=>{m.onerror=L=>{x(L.target.error)},m.onsuccess=L=>{y(L.target.result)}})}{const m=this.cursor(s),y=[];return this.W(m,(x,L)=>{y.push(L)}).next(()=>y)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new yt((u,m)=>{s.onerror=y=>{m(y.target.error)},s.onsuccess=y=>{u(y.target.result)}})}j(n,i){pe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(m,y,x)=>x.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new yt((s,u)=>{i.onerror=m=>{const y=Ht(m.target.error);u(y)},i.onsuccess=m=>{const y=m.target.result;y?n(y.primaryKey,y.value).next(x=>{x?y.continue():s()}):s()}})}W(n,i){const s=[];return new yt((u,m)=>{n.onerror=y=>{m(y.target.error)},n.onsuccess=y=>{const x=y.target.result;if(!x)return void u();const L=new ze(x),X=i(x.primaryKey,x.value,L);if(X instanceof yt){const he=X.catch(ke=>(L.done(),yt.reject(ke)));s.push(he)}L.isDone?u():null===L.K?x.continue():x.continue(L.K)}}).next(()=>yt.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Je(l){return new yt((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=Ht(s.target.error);i(u)}})}let it=!1;function Ht(l){const n=Vt.S((0,ie.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return it||(it=!0,setTimeout(()=>{throw s},0)),s}}return l}class Te{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;pe("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,c.A)(function*(){i.task=null;try{pe("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Oe(s)?pe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Vr(s)}yield i.X(6e4)}))}}class Re{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,c.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,m=!0;return yt.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(y=>{if(null!==y&&!s.has(y))return pe("IndexBackfiller",`Processing collection: ${y}`),this.ne(n,y,u).next(x=>{u-=x,s.add(y)});m=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(n,y).next(()=>this.re(u,m)).next(x=>(pe("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(n,i,x))).next(()=>y.size)}))}re(n,i){let s=n;return i.changes.forEach((u,m)=>{const y=fr(m);tr(y,s)>0&&(s=y)}),new pr(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let We=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Lt(l){return null==l}function ft(l){return 0===l&&1/l==-1/0}function pn(l){return"number"==typeof l&&Number.isInteger(l)&&!ft(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function cn(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=$r(n)),n=Mr(l.get(i),n);return $r(n)}function Mr(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const m=l.charAt(u);switch(m){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=m}}return i}function $r(l){return l+"\x01\x01"}function Hn(l){const n=l.length;if(Et(n>=2),2===n)return Et("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Tt.emptyPath();const i=n-2,s=[];let u="";for(let m=0;m<n;){const y=l.indexOf("\x01",m);switch((y<0||y>i)&&Nt(),l.charAt(y+1)){case"\x01":const x=l.substring(m,y);let L;0===u.length?L=x:(u+=x,L=u,u=""),s.push(L);break;case"\x10":u+=l.substring(m,y),u+="\0";break;case"\x11":u+=l.substring(m,y+1);break;default:Nt()}m=y+2}return new Tt(s)}const Er=["userId","batchId"];function Un(l,n){return[l,cn(n)]}function Lr(l,n,i){return[l,cn(n),i]}const Sr={},Fn=["prefixPath","collectionGroup","readTime","documentId"],Pr=["prefixPath","collectionGroup","documentId"],_i=["collectionGroup","readTime","prefixPath","documentId"],Mi=["canonicalId","targetId"],ki=["targetId","path"],Fi=["path","targetId"],gr=["collectionId","parent"],se=["indexId","uid"],K=["uid","sequenceNumber"],ve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z=["indexId","uid","orderedDocumentKey"],J=["userId","collectionPath","documentId"],we=["userId","collectionPath","largestBatchId"],vt=["userId","collectionGroup","largestBatchId"],Bt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rn=[...Bt,"documentOverlays"],Bn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xn=Bn,$n=[...xn,"indexConfiguration","indexState","indexEntries"],nr=$n,Pn=[...$n,"globals"];class mr extends jn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function On(l,n){const i=Fe(l);return Vt.F(i._e,n)}function br(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function or(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function ti(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class lr{constructor(n,i){this.comparator=n,this.root=i||ci.EMPTY}insert(n,i){return new lr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(n){return new lr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ci.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new xo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new xo(this.root,n,this.comparator,!1)}getReverseIterator(){return new xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new xo(this.root,n,this.comparator,!0)}}class xo{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!n.isEmpty();)if(m=i?s(n.key,i):1,i&&u&&(m*=-1),m<0)n=this.isReverse?n.left:n.right;else{if(0===m){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ci{constructor(n,i,s,u,m){this.key=n,this.value=i,this.color=null!=s?s:ci.RED,this.left=null!=u?u:ci.EMPTY,this.right=null!=m?m:ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,m){return new ci(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const m=s(n,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===m?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return ci.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const n=this.left.check();if(n!==this.right.check())throw Nt();return n+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,i,s,u,m){return this}insert(n,i,s){return new ci(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(n){this.comparator=n,this.data=new lr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new ji(this.data.getIterator())}getIteratorFrom(n){return new ji(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof vr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,m=s.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new vr(this.comparator);return i.data=n,i}}class ji{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ao(l){return l.hasNext()?l.getNext():void 0}class Di{constructor(n){this.fields=n,n.sort(bt.comparator)}static empty(){return new Di([])}unionWith(n){let i=new vr(bt.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Di(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Mn(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class Pi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function pi(){return typeof atob<"u"}class ri{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Pi("Invalid base64 string: "+m):m}}(n);return new ri(i)}static fromUint8Array(n){const i=function(u){let m="";for(let y=0;y<u.length;++y)m+=String.fromCharCode(u[y]);return m}(n);return new ri(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Zt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const Gn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(l){if(Et(!!l),"string"==typeof l){let n=0;const i=Gn.exec(l);if(Et(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:di(l.seconds),nanos:di(l.nanos)}}function di(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function bi(l){return"string"==typeof l?ri.fromBase64String(l):ri.fromUint8Array(l)}function Do(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function lo(l){const n=l.mapValue.fields.__previous_value__;return Do(n)?lo(n):n}function hs(l){const n=dr(l.mapValue.fields.__local_write_time__.timestampValue);return new _n(n.seconds,n.nanos)}class Ki{constructor(n,i,s,u,m,y,x,L,X){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=x,this.longPollingOptions=L,this.useFetchStreams=X}}class Ar{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Ar("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Ar&&n.projectId===this.projectId&&n.database===this.database}}const vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jo={nullValue:"NULL_VALUE"};function ii(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Do(l)?4:Ct(l)?9007199254740991:Xe(l)?10:11:Nt()}function Li(l,n){if(l===n)return!0;const i=ii(l);if(i!==ii(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return hs(l).isEqual(hs(n));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const y=dr(u.timestampValue),x=dr(m.timestampValue);return y.seconds===x.seconds&&y.nanos===x.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return m=n,bi(l.bytesValue).isEqual(bi(m.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,m){return di(u.geoPointValue.latitude)===di(m.geoPointValue.latitude)&&di(u.geoPointValue.longitude)===di(m.geoPointValue.longitude)}(l,n);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return di(u.integerValue)===di(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const y=di(u.doubleValue),x=di(m.doubleValue);return y===x?ft(y)===ft(x):isNaN(y)&&isNaN(x)}return!1}(l,n);case 9:return Mn(l.arrayValue.values||[],n.arrayValue.values||[],Li);case 10:case 11:return function(u,m){const y=u.mapValue.fields||{},x=m.mapValue.fields||{};if(br(y)!==br(x))return!1;for(const L in y)if(y.hasOwnProperty(L)&&(void 0===x[L]||!Li(y[L],x[L])))return!1;return!0}(l,n);default:return Nt()}var m}function Vi(l,n){return void 0!==(l.values||[]).find(i=>Li(i,n))}function _o(l,n){if(l===n)return 0;const i=ii(l),s=ii(n);if(i!==s)return Zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Zt(l.booleanValue,n.booleanValue);case 2:return function(m,y){const x=di(m.integerValue||m.doubleValue),L=di(y.integerValue||y.doubleValue);return x<L?-1:x>L?1:x===L?0:isNaN(x)?isNaN(L)?0:-1:1}(l,n);case 3:return bo(l.timestampValue,n.timestampValue);case 4:return bo(hs(l),hs(n));case 5:return Zt(l.stringValue,n.stringValue);case 6:return function(m,y){const x=bi(m),L=bi(y);return x.compareTo(L)}(l.bytesValue,n.bytesValue);case 7:return function(m,y){const x=m.split("/"),L=y.split("/");for(let X=0;X<x.length&&X<L.length;X++){const he=Zt(x[X],L[X]);if(0!==he)return he}return Zt(x.length,L.length)}(l.referenceValue,n.referenceValue);case 8:return function(m,y){const x=Zt(di(m.latitude),di(y.latitude));return 0!==x?x:Zt(di(m.longitude),di(y.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return gi(l.arrayValue,n.arrayValue);case 10:return function(m,y){var x,L,X,he;const Ut=null===(x=(m.fields||{}).value)||void 0===x?void 0:x.arrayValue,on=null===(L=(y.fields||{}).value)||void 0===L?void 0:L.arrayValue,Cn=Zt((null===(X=null==Ut?void 0:Ut.values)||void 0===X?void 0:X.length)||0,(null===(he=null==on?void 0:on.values)||void 0===he?void 0:he.length)||0);return 0!==Cn?Cn:gi(Ut,on)}(l.mapValue,n.mapValue);case 11:return function(m,y){if(m===vo.mapValue&&y===vo.mapValue)return 0;if(m===vo.mapValue)return 1;if(y===vo.mapValue)return-1;const x=m.fields||{},L=Object.keys(x),X=y.fields||{},he=Object.keys(X);L.sort(),he.sort();for(let ke=0;ke<L.length&&ke<he.length;++ke){const ot=Zt(L[ke],he[ke]);if(0!==ot)return ot;const Ut=_o(x[L[ke]],X[he[ke]]);if(0!==Ut)return Ut}return Zt(L.length,he.length)}(l.mapValue,n.mapValue);default:throw Nt()}}function bo(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return Zt(l,n);const i=dr(l),s=dr(n),u=Zt(i.seconds,s.seconds);return 0!==u?u:Zt(i.nanos,s.nanos)}function gi(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const m=_o(i[u],s[u]);if(m)return m}return Zt(i.length,s.length)}function yo(l){return No(l)}function No(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=dr(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?bi(l.bytesValue).toBase64():"referenceValue"in l?Le.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const m of i.values||[])u?u=!1:s+=",",s+=No(m);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",m=!0;for(const y of s)m?m=!1:u+=",",u+=`${y}:${No(i.fields[y])}`;return u+"}"}(l.mapValue):Nt()}function O(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function A(l){return!!l&&"integerValue"in l}function N(l){return!!l&&"arrayValue"in l}function b(l){return!!l&&"nullValue"in l}function j(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function oe(l){return!!l&&"mapValue"in l}function Xe(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $t(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return or(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=$t(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=$t(l.arrayValue.values[i]);return n}return Object.assign({},l)}function Ct(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const qt={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Jt(l){return"nullValue"in l?jo:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?O(Ar.empty(),Le.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Xe(l)?qt:{mapValue:{}}:Nt()}function gn(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?O(Ar.empty(),Le.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?qt:"mapValue"in l?Xe(l)?{mapValue:{}}:vo:Nt()}function bn(l,n){const i=_o(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function Kn(l,n){const i=_o(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Tn{constructor(n){this.value=n}static empty(){return new Tn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!oe(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=$t(i)}setAll(n){let i=bt.emptyPath(),s={},u=[];n.forEach((y,x)=>{if(!i.isImmediateParentOf(x)){const L=this.getFieldsMap(i);this.applyChanges(L,s,u),s={},u=[],i=x.popLast()}y?s[x.lastSegment()]=$t(y):u.push(x.lastSegment())});const m=this.getFieldsMap(i);this.applyChanges(m,s,u)}delete(n){const i=this.field(n.popLast());oe(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Li(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];oe(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){or(i,(u,m)=>n[u]=m);for(const u of s)delete n[u]}clone(){return new Tn($t(this.value))}}function Ur(l){const n=[];return or(l.fields,(i,s)=>{const u=new bt([i]);if(oe(s)){const m=Ur(s.mapValue).fields;if(0===m.length)n.push(u);else for(const y of m)n.push(u.child(y))}else n.push(u)}),new Di(n)}class sr{constructor(n,i,s,u,m,y,x){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=m,this.data=y,this.documentState=x}static newInvalidDocument(n){return new sr(n,0,Kt.min(),Kt.min(),Kt.min(),Tn.empty(),0)}static newFoundDocument(n,i,s,u){return new sr(n,1,i,Kt.min(),s,u,0)}static newNoDocument(n,i){return new sr(n,2,i,Kt.min(),Kt.min(),Tn.empty(),0)}static newUnknownDocument(n,i){return new sr(n,3,i,Kt.min(),Kt.min(),Tn.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof sr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qr{constructor(n,i){this.position=n,this.inclusive=i}}function Xr(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const m=n[u],y=l.position[u];if(s=m.field.isKeyField()?Le.comparator(Le.fromName(y.referenceValue),i.key):_o(y,i.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function hi(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!Li(l.position[i],n.position[i]))return!1;return!0}class qi{constructor(n,i="asc"){this.field=n,this.dir=i}}function Io(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class uo{}class _r extends uo{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Rs(n,i,s):"array-contains"===i?new xr(n,s):"in"===i?new To(n,s):"not-in"===i?new Xi(n,s):"array-contains-any"===i?new Go(n,s):new _r(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new fl(n,s):new Ms(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(_o(i,this.value)):null!==i&&ii(this.value)===ii(i)&&this.matchesComparison(_o(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends uo{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Rr(n,i)}matches(n){return ko(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ko(l){return"and"===l.op}function ns(l){return"or"===l.op}function Ro(l){return Fo(l)&&ko(l)}function Fo(l){for(const n of l.filters)if(n instanceof Rr)return!1;return!0}function Ss(l){if(l instanceof _r)return l.field.canonicalString()+l.op.toString()+yo(l.value);if(Ro(l))return l.filters.map(n=>Ss(n)).join(",");{const n=l.filters.map(i=>Ss(i)).join(",");return`${l.op}(${n})`}}function Ho(l,n){return l instanceof _r?(s=l,(u=n)instanceof _r&&s.op===u.op&&s.field.isEqual(u.field)&&Li(s.value,u.value)):l instanceof Rr?function(s,u){return u instanceof Rr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((m,y,x)=>m&&Ho(y,u.filters[x]),!0)}(l,n):void Nt();var s,u}function wi(l,n){const i=l.filters.concat(n);return Rr.create(i,l.op)}function zo(l){return l instanceof _r?`${(i=l).field.canonicalString()} ${i.op} ${yo(i.value)}`:l instanceof Rr?function(i){return i.op.toString()+" {"+i.getFilters().map(zo).join(" ,")+"}"}(l):"Filter";var i}class Rs extends _r{constructor(n,i,s){super(n,i,s),this.key=Le.fromName(s.referenceValue)}matches(n){const i=Le.comparator(n.key,this.key);return this.matchesComparison(i)}}class fl extends _r{constructor(n,i){super(n,"in",i),this.keys=Hi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Ms extends _r{constructor(n,i){super(n,"not-in",i),this.keys=Hi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function Hi(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Le.fromName(s.referenceValue))}class xr extends _r{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return N(i)&&Vi(i.arrayValue,this.value)}}class To extends _r{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Vi(this.value.arrayValue,i)}}class Xi extends _r{constructor(n,i){super(n,"not-in",i)}matches(n){if(Vi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Vi(this.value.arrayValue,i)}}class Go extends _r{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!N(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Vi(this.value.arrayValue,s))}}class Ps{constructor(n,i=null,s=[],u=[],m=null,y=null,x=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=m,this.startAt=y,this.endAt=x,this.ue=null}}function Wo(l,n=null,i=[],s=[],u=null,m=null,y=null){return new Ps(l,n,i,s,u,m,y)}function oi(l){const n=Fe(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Ss(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),Lt(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>yo(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>yo(s)).join(",")),n.ue=i}return n.ue}function Qi(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!Io(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Ho(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!hi(l.startAt,n.startAt)&&hi(l.endAt,n.endAt)}function Ta(l){return Le.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function fs(l,n){return l.filters.filter(i=>i instanceof _r&&i.field.isEqual(n))}function $s(l,n,i){let s=jo,u=!0;for(const m of fs(l,n)){let y=jo,x=!0;switch(m.op){case"<":case"<=":y=Jt(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,x=!1;break;case"!=":case"not-in":y=jo}bn({value:s,inclusive:u},{value:y,inclusive:x})<0&&(s=y,u=x)}if(null!==i)for(let m=0;m<l.orderBy.length;++m)if(l.orderBy[m].field.isEqual(n)){const y=i.position[m];bn({value:s,inclusive:u},{value:y,inclusive:i.inclusive})<0&&(s=y,u=i.inclusive);break}return{value:s,inclusive:u}}function js(l,n,i){let s=vo,u=!0;for(const m of fs(l,n)){let y=vo,x=!0;switch(m.op){case">=":case">":y=gn(m.value),x=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,x=!1;break;case"!=":case"not-in":y=vo}Kn({value:s,inclusive:u},{value:y,inclusive:x})>0&&(s=y,u=x)}if(null!==i)for(let m=0;m<l.orderBy.length;++m)if(l.orderBy[m].field.isEqual(n)){const y=i.position[m];Kn({value:s,inclusive:u},{value:y,inclusive:i.inclusive})>0&&(s=y,u=i.inclusive);break}return{value:s,inclusive:u}}class Eo{constructor(n,i=null,s=[],u=[],m=null,y="F",x=null,L=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=m,this.limitType=y,this.startAt=x,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function xs(l,n,i,s,u,m,y,x){return new Eo(l,n,i,s,u,m,y,x)}function Ko(l){return new Eo(l)}function Qr(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Lo(l){return null!==l.collectionGroup}function ps(l){const n=Fe(l);if(null===n.ce){n.ce=[];const i=new Set;for(const m of n.explicitOrderBy)n.ce.push(m),i.add(m.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let x=new vr(bt.comparator);return y.filters.forEach(L=>{L.getFlattenedFilters().forEach(X=>{X.isInequality()&&(x=x.add(X.field))})}),x})(n).forEach(m=>{i.has(m.canonicalString())||m.isKeyField()||n.ce.push(new qi(m,s))}),i.has(bt.keyField().canonicalString())||n.ce.push(new qi(bt.keyField(),s))}return n.ce}function to(l){const n=Fe(l);return n.le||(n.le=function sa(l,n){if("F"===l.limitType)return Wo(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new qi(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new qr(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new qr(l.startAt.position,l.startAt.inclusive):null;return Wo(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,ps(l))),n.le}function Ys(l,n){const i=l.filters.concat([n]);return new Eo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function W(l,n,i){return new Eo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function v(l,n){return Qi(to(l),to(n))&&l.limitType===n.limitType}function C(l){return`${oi(to(l))}|lt:${l.limitType}`}function w(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>zo(u)).join(", ")}]`),Lt(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>yo(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>yo(u)).join(",")),`Target(${s})`}(to(l))}; limitType=${l.limitType})`}function U(l,n){return n.isFoundDocument()&&function(s,u){const m=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Le.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(l,n)&&function(s,u){for(const m of ps(s))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(l,n)&&function(s,u){for(const m of s.filters)if(!m.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(y,x,L){const X=Xr(y,x,L);return y.inclusive?X<=0:X<0}(s.startAt,ps(s),u)||s.endAt&&!function(y,x,L){const X=Xr(y,x,L);return y.inclusive?X>=0:X>0}(s.endAt,ps(s),u)));var s,u}function Ie(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function pt(l){return(n,i)=>{let s=!1;for(const u of ps(l)){const m=Qt(u,n,i);if(0!==m)return m;s=s||u.field.isKeyField()}return 0}}function Qt(l,n,i){const s=l.field.isKeyField()?Le.comparator(n.key,i.key):function(m,y,x){const L=y.data.field(m),X=x.data.field(m);return null!==L&&null!==X?_o(L,X):Nt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Nt()}}class yn{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,m]of s)if(this.equalsFn(u,n))return m}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],n))return void(u[m]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){or(this.inner,(i,s)=>{for(const[u,m]of s)n(u,m)})}isEmpty(){return ti(this.inner)}size(){return this.innerSize}}const wn=new lr(Le.comparator);function Ln(){return wn}const hr=new lr(Le.comparator);function ni(...l){let n=hr;for(const i of l)n=n.insert(i.key,i);return n}function yi(l){let n=hr;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function Kr(){return Br()}function Jn(){return Br()}function Br(){return new yn(l=>l.toString(),(l,n)=>l.isEqual(n))}const jr=new lr(Le.comparator),zi=new vr(Le.comparator);function qn(...l){let n=zi;for(const i of l)n=n.add(i);return n}const Yi=new vr(Zt);function Ui(){return Yi}function no(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ft(n)?"-0":n}}function rs(l){return{integerValue:""+l}}function aa(l,n){return pn(n)?rs(n):no(l,n)}class is{constructor(){this._=void 0}}function Da(l,n,i){return l instanceof Zs?function(u,m){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&Do(m)&&(m=lo(m)),m&&(y.fields.__previous_value__=m),{mapValue:y}}(i,n):l instanceof ja?la(l,n):l instanceof ba?Ha(l,n):function(u,m){const y=pl(u,m),x=Hl(y)+Hl(u.Pe);return A(y)&&A(u.Pe)?rs(x):no(u.serializer,x)}(l,n)}function yu(l,n,i){return l instanceof ja?la(l,n):l instanceof ba?Ha(l,n):i}function pl(l,n){return l instanceof Hs?A(s=n)||(m=s)&&"doubleValue"in m?n:{integerValue:0}:null;var s,m}class Zs extends is{}class ja extends is{constructor(n){super(),this.elements=n}}function la(l,n){const i=zs(n);for(const s of l.elements)i.some(u=>Li(u,s))||i.push(s);return{arrayValue:{values:i}}}class ba extends is{constructor(n){super(),this.elements=n}}function Ha(l,n){let i=zs(n);for(const s of l.elements)i=i.filter(u=>!Li(u,s));return{arrayValue:{values:i}}}class Hs extends is{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function Hl(l){return di(l.integerValue||l.doubleValue)}function zs(l){return N(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class wa{constructor(n,i){this.field=n,this.transform=i}}class zl{constructor(n,i){this.version=n,this.transformResults=i}}class Si{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Si}static exists(n){return new Si(void 0,n)}static updateTime(n){return new Si(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ua(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Gs{}function os(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new as(l.key,Si.none()):new Js(l.key,l.data,Si.none());{const i=l.data,s=Tn.empty();let u=new vr(bt.comparator);for(let m of n.fields)if(!u.has(m)){let y=i.field(m);null===y&&m.length>1&&(m=m.popLast(),y=i.field(m)),null===y?s.delete(m):s.set(m,y),u=u.add(m)}return new Uo(l.key,s,new Di(u.toArray()),Si.none())}}function ss(l,n,i){l instanceof Js?function(u,m,y){const x=u.value.clone(),L=Iu(u.fieldTransforms,m,y.transformResults);x.setAll(L),m.convertToFoundDocument(y.version,x).setHasCommittedMutations()}(l,n,i):l instanceof Uo?function(u,m,y){if(!ua(u.precondition,m))return void m.convertToUnknownDocument(y.version);const x=Iu(u.fieldTransforms,m,y.transformResults),L=m.data;L.setAll(Ra(u)),L.setAll(x),m.convertToFoundDocument(y.version,L).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function ca(l,n,i,s){return l instanceof Js?function(m,y,x,L){if(!ua(m.precondition,y))return x;const X=m.value.clone(),he=Ns(m.fieldTransforms,L,y);return X.setAll(he),y.convertToFoundDocument(y.version,X).setHasLocalMutations(),null}(l,n,i,s):l instanceof Uo?function(m,y,x,L){if(!ua(m.precondition,y))return x;const X=Ns(m.fieldTransforms,L,y),he=y.data;return he.setAll(Ra(m)),he.setAll(X),y.convertToFoundDocument(y.version,he).setHasLocalMutations(),null===x?null:x.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ke=>ke.field))}(l,n,i,s):(x=i,ua(l.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):x);var y,x}function gl(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),m=pl(s.transform,u||null);null!=m&&(null===i&&(i=Tn.empty()),i.set(s.field,m))}return i||null}function Sa(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Mn(s,u,(m,y)=>function za(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof ja&&u instanceof ja||s instanceof ba&&u instanceof ba?Mn(s.elements,u.elements,Li):s instanceof Hs&&u instanceof Hs?Li(s.Pe,u.Pe):s instanceof Zs&&u instanceof Zs);var s,u}(m,y))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class Js extends Gs{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Uo extends Gs{constructor(n,i,s,u,m=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ra(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function Iu(l,n,i){const s=new Map;Et(l.length===i.length);for(let u=0;u<i.length;u++){const m=l[u],y=m.transform,x=n.data.field(m.field);s.set(m.field,yu(y,x,i[u]))}return s}function Ns(l,n,i){const s=new Map;for(const u of l){const m=u.transform,y=i.data.field(u.field);s.set(u.field,Da(m,y,n))}return s}class as extends Gs{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gl extends Gs{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ml{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(n.key)&&ss(m,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=ca(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=ca(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=Jn();return this.mutations.forEach(u=>{const m=n.get(u.key),y=m.overlayedDocument;let x=this.applyToLocalView(y,m.mutatedFields);x=i.has(u.key)?null:x;const L=os(y,x);null!==L&&s.set(u.key,L),y.isValidDocument()||y.convertToNoDocument(Kt.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),qn())}isEqual(n){return this.batchId===n.batchId&&Mn(this.mutations,n.mutations,(i,s)=>Sa(i,s))&&Mn(this.baseMutations,n.baseMutations,(i,s)=>Sa(i,s))}}class R{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Et(n.mutations.length===s.length);let u=function(){return jr}();const m=n.mutations;for(let y=0;y<m.length;y++)u=u.insert(m[y].key,s[y].version);return new R(n,i,s,u)}}class z{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class H{constructor(n,i){this.count=n,this.unchangedNames=i}}var ue,Ne;function Gt(l){switch(l){default:return Nt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function ln(l){if(void 0===l)return De("GRPC error has no .code"),Y.UNKNOWN;switch(l){case ue.OK:return Y.OK;case ue.CANCELLED:return Y.CANCELLED;case ue.UNKNOWN:return Y.UNKNOWN;case ue.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ue.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ue.INTERNAL:return Y.INTERNAL;case ue.UNAVAILABLE:return Y.UNAVAILABLE;case ue.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ue.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ue.NOT_FOUND:return Y.NOT_FOUND;case ue.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ue.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ue.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ue.ABORTED:return Y.ABORTED;case ue.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ue.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ue.DATA_LOSS:return Y.DATA_LOSS;default:return Nt()}}(Ne=ue||(ue={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";function Yr(){return new TextEncoder}const Jr=new Be([4294967295,4294967295],0);function Hr(l){const n=Yr().encode(l),i=new je;return i.update(n),new Uint8Array(i.digest())}function mi(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),m=n.getUint32(12,!0);return[new Be([i,s],0),new Be([u,m],0)]}class si{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ri(`Invalid padding: ${i}`);if(s<0)throw new Ri(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Ri(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Ri(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Be.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(Be.fromNumber(s)));return 1===u.compare(Jr)&&(u=new Be([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Hr(n),[s,u]=mi(i);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,u,m);if(!this.de(y))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,m=new Uint8Array(Math.ceil(n/8)),y=new si(m,u,i);return s.forEach(x=>y.insert(x)),y}insert(n){if(0===this.Ie)return;const i=Hr(n),[s,u]=mi(i);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,u,m);this.Ae(y)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ii{constructor(n,i,s,u,m){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,Nr.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Ii(Kt.min(),u,new lr(Zt),Ln(),qn())}}class Nr{constructor(n,i,s,u,m){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Nr(s,i,qn(),qn(),qn())}}class un{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Yn{constructor(n,i){this.targetId=n,this.me=i}}class xi{constructor(n,i,s=ri.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class co{constructor(){this.fe=0,this.ge=Ws(),this.pe=ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=qn(),i=qn(),s=qn();return this.ge.forEach((u,m)=>{switch(m){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Nt()}}),new Nr(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=Ws()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bi{constructor(n){this.Le=n,this.Be=new Map,this.ke=Ln(),this.qe=Ao(),this.Qe=new lr(Zt)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:Nt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const m=u.target;if(Ta(m))if(0===s){const y=new Le(m.path);this.Ue(i,y,sr.newNoDocument(y,Kt.min()))}else Et(1===s);else{const y=this.Ye(i);if(y!==s){const x=this.Ze(n),L=x?this.Xe(x,n,y):1;0!==L&&(this.je(i),this.Qe=this.Qe.insert(i,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=i;let y,x;try{y=bi(s).toUint8Array()}catch(L){if(L instanceof Pi)return Ot("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{x=new si(y,u,m)}catch(L){return Ot(L instanceof Ri?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===x.Ie?null:x}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(m=>{const y=this.Le.tt(),x=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;n.mightContain(x)||(this.Ue(i,m,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((m,y)=>{const x=this.Je(y);if(x){if(m.current&&Ta(x.target)){const L=new Le(x.target.path);null!==this.ke.get(L)||this.it(y,L)||this.Ue(y,L,sr.newNoDocument(L,n))}m.be&&(i.set(y,m.ve()),m.Ce())}});let s=qn();this.qe.forEach((m,y)=>{let x=!0;y.forEachWhile(L=>{const X=this.Je(L);return!X||"TargetPurposeLimboResolution"===X.purpose||(x=!1,!1)}),x&&(s=s.add(m))}),this.ke.forEach((m,y)=>y.setReadTime(n));const u=new Ii(n,i,this.Qe,this.ke,s);return this.ke=Ln(),this.qe=Ao(),this.Qe=new lr(Zt),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new co,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new vr(Zt),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||pe("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new co),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function Ao(){return new lr(Le.comparator)}function Ws(){return new lr(Le.comparator)}const Ti={asc:"ASCENDING",desc:"DESCENDING"},Gi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ks={and:"AND",or:"OR"};class Cr{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function da(l,n){return l.useProto3Json||Lt(n)?n:{value:n}}function Bo(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ga(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function ro(l,n){return Bo(l,n.toTimestamp())}function Ei(l){return Et(!!l),Kt.fromTimestamp(function(i){const s=dr(i);return new _n(s.seconds,s.nanos)}(l))}function vl(l,n){return Co(l,n).canonicalString()}function Co(l,n){const i=(u=l,new Tt(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Ma(l){const n=Tt.fromString(l);return Et(Yl(n)),n}function Pa(l,n){return vl(l.databaseId,n.path)}function ho(l,n){const i=Ma(n);if(i.get(1)!==l.databaseId.projectId)throw new ee(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new ee(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Le(yl(i))}function _l(l,n){return vl(l.databaseId,n)}function fi(l){const n=Ma(l);return 4===n.length?Tt.emptyPath():yl(n)}function rr(l){return new Tt(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function yl(l){return Et(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Wl(l,n,i){return{name:Pa(l,n),fields:i.value.mapValue.fields}}function Os(l,n,i){const s=ho(l,n.name),u=Ei(n.updateTime),m=n.createTime?Ei(n.createTime):Kt.min(),y=new Tn({mapValue:{fields:n.fields}}),x=sr.newFoundDocument(s,u,m,y);return i&&x.setHasCommittedMutations(),i?x.setHasCommittedMutations():x}function Ni(l,n){let i;if(n instanceof Js)i={update:Wl(l,n.key,n.value)};else if(n instanceof as)i={delete:Pa(l,n.key)};else if(n instanceof Uo)i={update:Wl(l,n.key,n.data),updateMask:hv(n.fieldMask)};else{if(!(n instanceof Gl))return Nt();i={verify:Pa(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(m,y){const x=y.transform;if(x instanceof Zs)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof ja)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof ba)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Hs)return{fieldPath:y.field.canonicalString(),increment:x.Pe};throw Nt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(m=n.precondition).updateTime?{updateTime:ro(l,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Nt()),i;var m}function Kl(l,n){const i=n.currentDocument?void 0!==(m=n.currentDocument).updateTime?Si.updateTime(Ei(m.updateTime)):void 0!==m.exists?Si.exists(m.exists):Si.none():Si.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(y,x){let L=null;"setToServerValue"in x?(Et("REQUEST_TIME"===x.setToServerValue),L=new Zs):"appendMissingElements"in x?L=new ja(x.appendMissingElements.values||[]):"removeAllFromArray"in x?L=new ba(x.removeAllFromArray.values||[]):"increment"in x?L=new Hs(y,x.increment):Nt();const X=bt.fromServerFormat(x.fieldPath);return new wa(X,L)}(l,u)):[];var m;if(n.update){const u=ho(l,n.update.name),m=new Tn({mapValue:{fields:n.update.fields}});if(n.updateMask){const y=new Di((n.updateMask.fieldPaths||[]).map(he=>bt.fromServerFormat(he)));return new Uo(u,m,y,i,s)}return new Js(u,m,i,s)}if(n.delete){const u=ho(l,n.delete);return new as(u,i)}if(n.verify){const u=ho(l,n.verify);return new Gl(u,i)}return Nt()}function wo(l,n){return{documents:[_l(l,n.path)]}}function ea(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=_l(l,u);const m=function(X){if(0!==X.length)return ic(Rr.create(X,"and"))}(n.filters);m&&(i.structuredQuery.where=m);const y=function(X){if(0!==X.length)return X.map(he=>{return{field:ha((ot=he).field),direction:Eu(ot.dir)};var ot})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const x=da(l,n.limit);return null!==x&&(i.structuredQuery.limit=x),n.startAt&&(i.structuredQuery.startAt={before:(X=n.startAt).inclusive,values:X.position}),n.endAt&&(i.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(n.endAt)),{_t:i,parent:u};var X}function ql(l){let n=fi(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Et(1===s);const he=i.from[0];he.allDescendants?u=he.collectionId:n=n.child(he.collectionId)}let m=[];i.where&&(m=function(ke){const ot=Wa(ke);return ot instanceof Rr&&Ro(ot)?ot.getFilters():[ot]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(ot=>{return new qi(Ql((on=ot).field),function(fn){switch(fn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(on.direction));var on}));let x=null;i.limit&&(x=function(ke){let ot;return ot="object"==typeof ke?ke.value:ke,Lt(ot)?null:ot}(i.limit));let L=null;var ke;i.startAt&&(L=new qr((ke=i.startAt).values||[],!!ke.before));let X=null;return i.endAt&&(X=function(ke){return new qr(ke.values||[],!ke.before)}(i.endAt)),xs(n,u,y,m,x,"F",L,X)}function Wa(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ql(i.unaryFilter.field);return _r.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ql(i.unaryFilter.field);return _r.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Ql(i.unaryFilter.field);return _r.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ql(i.unaryFilter.field);return _r.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(l):void 0!==l.fieldFilter?_r.create(Ql((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Rr.create(i.compositeFilter.filters.map(s=>Wa(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Nt()}}(i.compositeFilter.op))}(l):Nt();var i}function Eu(l){return Ti[l]}function Wc(l){return Gi[l]}function Xl(l){return Ks[l]}function ha(l){return{fieldPath:l.canonicalString()}}function Ql(l){return bt.fromServerFormat(l.fieldPath)}function ic(l){return l instanceof _r?function(i){if("=="===i.op){if(j(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NAN"}};if(b(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(j(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NAN"}};if(b(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(i.field),op:Wc(i.op),value:i.value}}}(l):l instanceof Rr?function(i){const s=i.getFilters().map(u=>ic(u));return 1===s.length?s[0]:{compositeFilter:{op:Xl(i.op),filters:s}}}(l):Nt()}function hv(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Yl(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ka{constructor(n,i,s,u,m=Kt.min(),y=Kt.min(),x=ri.EMPTY_BYTE_STRING,L=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=x,this.expectedCount=L}withSequenceNumber(n){return new Ka(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class D{constructor(n){this.ct=n}}function F(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:M(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Pa(m=l.ct,(y=n).key),fields:y.data.value.mapValue.fields,updateTime:Bo(m,y.version.toTimestamp()),createTime:Bo(m,y.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:V(n.version)};else{if(!n.isUnknownDocument())return Nt();s.unknownDocument={path:i.path.toArray(),version:V(n.version)}}var m,y;return s}function M(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function V(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function de(l){const n=new _n(l.seconds,l.nanoseconds);return Kt.fromTimestamp(n)}function me(l,n){const i=(n.baseMutations||[]).map(m=>Kl(l.ct,m));for(let m=0;m<n.mutations.length-1;++m)m+1<n.mutations.length&&void 0!==n.mutations[m+1].transform&&(n.mutations[m].updateTransforms=n.mutations[m+1].transform.fieldTransforms,n.mutations.splice(m+1,1),++m);const s=n.mutations.map(m=>Kl(l.ct,m)),u=_n.fromMillis(n.localWriteTimeMs);return new ml(n.batchId,u,i,s)}function Dt(l){const n=de(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?de(l.lastLimboFreeSnapshotVersion):Kt.min();let s;return s=void 0!==l.query.documents?(Et(1===(m=l.query).documents.length),to(Ko(fi(m.documents[0])))):function(m){return to(ql(m))}(l.query),new Ka(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,ri.fromBase64String(l.resumeToken));var m}function tn(l,n){const i=V(n.snapshotVersion),s=V(n.lastLimboFreeSnapshotVersion);let u;u=Ta(n.target)?wo(l.ct,n.target):ea(l.ct,n.target)._t;const m=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:oi(n.target),readTime:i,resumeToken:m,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Rt(l){const n=ql({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?W(n,n.limit,"L"):n}function Sn(l,n){return new z(n.largestBatchId,Kl(l.ct,n.overlayMutation))}function Tr(l,n){const i=n.path.lastSegment();return[l,cn(n.path.popLast()),i]}function ui(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:V(s.readTime),documentKey:cn(s.documentKey.path),largestBatchId:s.largestBatchId}}class Or{getBundleMetadata(n,i){return io(n).get(i).next(s=>{if(s)return{id:(m=s).bundleId,createTime:de(m.createTime),version:m.version};var m})}saveBundleMetadata(n,i){return io(n).put({bundleId:(u=i).id,createTime:V(Ei(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return qo(n).get(i).next(s=>{if(s)return{name:(m=s).name,query:Rt(m.bundledQuery),readTime:de(m.readTime)};var m})}saveNamedQuery(n,i){return qo(n).put({name:(u=i).name,readTime:V(Ei(u.readTime)),bundledQuery:u.bundledQuery});var u}}function io(l){return On(l,"bundles")}function qo(l){return On(l,"namedQueries")}class Mo{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Mo(n,i.uid||"")}getOverlay(n,i){return ms(n).get(Tr(this.userId,i)).next(s=>s?Sn(this.serializer,s):null)}getOverlays(n,i){const s=Kr();return yt.forEach(i,u=>this.getOverlay(n,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((m,y)=>{const x=new z(i,y);u.push(this.ht(n,x))}),yt.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(y=>u.add(cn(y.getCollectionPath())));const m=[];return u.forEach(y=>{const x=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);m.push(ms(n).j("collectionPathOverlayIndex",x))}),yt.waitFor(m)}getOverlaysForCollection(n,i,s){const u=Kr(),m=cn(i),y=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ms(n).U("collectionPathOverlayIndex",y).next(x=>{for(const L of x){const X=Sn(this.serializer,L);u.set(X.getKey(),X)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const m=Kr();let y;const x=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ms(n).J({index:"collectionGroupOverlayIndex",range:x},(L,X,he)=>{const ke=Sn(this.serializer,X);m.size()<u||ke.largestBatchId===y?(m.set(ke.getKey(),ke),y=ke.largestBatchId):he.done()}).next(()=>m)}ht(n,i){return ms(n).put(function(u,m,y){const[x,L,X]=Tr(m,y.mutation.key);return{userId:m,collectionPath:L,documentId:X,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Ni(u.ct,y.mutation)}}(this.serializer,this.userId,i))}}function ms(l){return On(l,"documentOverlays")}class vs{Pt(n){return On(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?ri.fromUint8Array(s):ri.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class ks{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(di(n.integerValue));else if("doubleValue"in n){const s=di(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ft(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=dr(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(bi(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?Ct(n)?this.dt(i,Number.MAX_SAFE_INTEGER):Xe(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Nt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const m=n.fields||{};this.dt(i,53);const y="value",x=(null===(u=null===(s=m[y].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(di(x)),this.Vt(y,i),this.Tt(m[y],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),Le.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function oc(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function qa(l){const n=64-function(s){let u=0;for(let m=0;m<8;++m){const y=oc(255&s[m]);if(u+=y,8!==y)break}return u}(l);return Math.ceil(n/8)}ks.vt=new ks;class Kc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=qa(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=qa(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(m){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,m,!1),new Uint8Array(y.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class El{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Au{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Zl{constructor(){this.jt=new Kc,this.Ht=new El(this.jt),this.Jt=new Au(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ls{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new ls(this.indexId,this.documentKey,this.arrayValue,s)}}function fa(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Jl(l.arrayValue,n.arrayValue),0!==i?i:(i=Jl(l.directionalValue,n.directionalValue),0!==i?i:Le.comparator(l.documentKey,n.documentKey)))}function Jl(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class Zr{constructor(n){this.Xt=new vr((i,s)=>bt.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(Et(n.collectionGroup===this.collectionId),this.nn)return!1;const i=zn(n);if(void 0!==i&&!this.sn(i))return!1;const s=vn(n);let u=new Set,m=0,y=0;for(;m<s.length&&this.sn(s[m]);++m)u=u.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!u.has(x.field.canonicalString())){const L=s[m];if(!this.on(x,L)||!this._n(this.en[y++],L))return!1}++m}for(;m<s.length;++m)if(y>=this.en.length||!this._n(this.en[y++],s[m]))return!1;return!0}an(){if(this.nn)return null;let n=new vr(bt.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Wn(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new Wn(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new Wn(s.field,"asc"===s.dir?0:1)));return new Nn(Nn.UNKNOWN_ID,this.collectionId,i,kn.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Cu(l){var n,i;if(Et(l instanceof _r||l instanceof Rr),l instanceof _r){if(l instanceof To){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(m=>_r.create(l.field,"==",m)))||[];return Rr.create(u,"or")}return l}const s=l.filters.map(u=>Cu(u));return Rr.create(s,l.op)}function sc(l){if(0===l.getFilters().length)return[];const n=xa(Cu(l));return Et(Al(n)),Xo(n)||Yd(n)?[n]:n.getFilters()}function Xo(l){return l instanceof _r}function Yd(l){return l instanceof Rr&&Ro(l)}function Al(l){return Xo(l)||Yd(l)||function(i){if(i instanceof Rr&&ns(i)){for(const s of i.getFilters())if(!Xo(s)&&!Yd(s))return!1;return!0}return!1}(l)}function xa(l){if(Et(l instanceof _r||l instanceof Rr),l instanceof _r)return l;if(1===l.filters.length)return xa(l.filters[0]);const n=l.filters.map(s=>xa(s));let i=Rr.create(n,l.op);return i=Cl(i),Al(i)?i:(Et(i instanceof Rr),Et(ko(i)),Et(i.filters.length>1),i.filters.reduce((s,u)=>_s(s,u)))}function _s(l,n){let i;return Et(l instanceof _r||l instanceof Rr),Et(n instanceof _r||n instanceof Rr),i=l instanceof _r?n instanceof _r?Rr.create([l,n],"and"):Af(l,n):n instanceof _r?Af(n,l):function(u,m){if(Et(u.filters.length>0&&m.filters.length>0),ko(u)&&ko(m))return wi(u,m.getFilters());const y=ns(u)?u:m,x=ns(u)?m:u,L=y.filters.map(X=>_s(X,x));return Rr.create(L,"or")}(l,n),Cl(i)}function Af(l,n){if(ko(n))return wi(n,l.getFilters());{const i=n.filters.map(s=>_s(l,s));return Rr.create(i,"or")}}function Cl(l){if(Et(l instanceof _r||l instanceof Rr),l instanceof _r)return l;const n=l.getFilters();if(1===n.length)return Cl(n[0]);if(Fo(l))return l;const i=n.map(u=>Cl(u)),s=[];return i.forEach(u=>{u instanceof _r?s.push(u):u instanceof Rr&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Rr.create(s,l.op)}class wg{constructor(){this.un=new us}addToCollectionParentIndex(n,i){return this.un.add(i),yt.resolve()}getCollectionParents(n,i){return yt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return yt.resolve()}deleteFieldIndex(n,i){return yt.resolve()}deleteAllFieldIndexes(n){return yt.resolve()}createTargetIndexes(n,i){return yt.resolve()}getDocumentsMatchingTarget(n,i){return yt.resolve(null)}getIndexType(n,i){return yt.resolve(0)}getFieldIndexes(n,i){return yt.resolve([])}getNextCollectionGroupToUpdate(n){return yt.resolve(null)}getMinOffset(n,i){return yt.resolve(pr.min())}getMinOffsetFromCollectionGroup(n,i){return yt.resolve(pr.min())}updateCollectionGroup(n,i,s){return yt.resolve()}updateIndexEntries(n,i){return yt.resolve()}}class us{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new vr(Tt.comparator),m=!u.has(s);return this.index[i]=u.add(s),m}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new vr(Tt.comparator)).toArray()}}const ac=new Uint8Array(0);class qc{constructor(n,i){this.databaseId=i,this.cn=new us,this.ln=new yn(s=>oi(s),(s,u)=>Qi(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const m={collectionId:s,parent:cn(u)};return lc(n).put(m)}return yt.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[En(i),""],!1,!0);return lc(n).U(u).next(m=>{for(const y of m){if(y.collectionId!==i)break;s.push(Hn(y.parent))}return s})}addFieldIndex(n,i){const s=pa(n),u={indexId:(x=i).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var x;delete u.indexId;const m=s.add(u);if(i.indexState){const y=Qa(n);return m.next(x=>{y.put(ui(x,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return m.next()}deleteFieldIndex(n,i){const s=pa(n),u=Qa(n),m=Xa(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=pa(n),s=Xa(n),u=Qa(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return yt.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const m=new Zr(s).an();if(null!=m)return this.addFieldIndex(n,m)}}))}getDocumentsMatchingTarget(n,i){const s=Xa(n);let u=!0;const m=new Map;return yt.forEach(this.hn(i),y=>this.Pn(n,y).next(x=>{u&&(u=!!x),m.set(y,x)})).next(()=>{if(u){let y=qn();const x=[];return yt.forEach(m,(L,X)=>{var cr;pe("IndexedDbIndexManager",`Using index ${cr=L,`id=${cr.indexId}|cg=${cr.collectionGroup}|f=${cr.fields.map(Wr=>`${Wr.fieldPath}:${Wr.kind}`).join(",")}`} to execute ${oi(i)}`);const he=function(cr,Wr){const Ai=zn(Wr);if(void 0===Ai)return null;for(const ei of fs(cr,Ai.fieldPath))switch(ei.op){case"array-contains-any":return ei.value.arrayValue.values||[];case"array-contains":return[ei.value]}return null}(X,L),ke=function(cr,Wr){const Ai=new Map;for(const ei of vn(Wr))for(const ut of fs(cr,ei.fieldPath))switch(ut.op){case"==":case"in":Ai.set(ei.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Ai.set(ei.fieldPath.canonicalString(),ut.value),Array.from(Ai.values())}return null}(X,L),ot=function(cr,Wr){const Ai=[];let ei=!0;for(const ut of vn(Wr)){const et=0===ut.kind?$s(cr,ut.fieldPath,cr.startAt):js(cr,ut.fieldPath,cr.startAt);Ai.push(et.value),ei&&(ei=et.inclusive)}return new qr(Ai,ei)}(X,L),Ut=function(cr,Wr){const Ai=[];let ei=!0;for(const ut of vn(Wr)){const et=0===ut.kind?js(cr,ut.fieldPath,cr.endAt):$s(cr,ut.fieldPath,cr.endAt);Ai.push(et.value),ei&&(ei=et.inclusive)}return new qr(Ai,ei)}(X,L),on=this.In(L,X,ot),Cn=this.In(L,X,Ut),fn=this.Tn(L,X,ke),ar=this.En(L.indexId,he,on,ot.inclusive,Cn,Ut.inclusive,fn);return yt.forEach(ar,yr=>s.G(yr,i.limit).next(cr=>{cr.forEach(Wr=>{const Ai=Le.fromSegments(Wr.documentKey);y.has(Ai)||(y=y.add(Ai),x.push(Ai))})}))}).next(()=>x)}return yt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:sc(Rr.create(n.filters,"and")).map(s=>Wo(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,m,y,x){const L=(null!=i?i.length:1)*Math.max(s.length,m.length),X=L/(null!=i?i.length:1),he=[];for(let ke=0;ke<L;++ke){const ot=i?this.dn(i[ke/X]):ac,Ut=this.An(n,ot,s[ke%X],u),on=this.Rn(n,ot,m[ke%X],y),Cn=x.map(fn=>this.An(n,ot,fn,!0));he.push(...this.createRange(Ut,on,Cn))}return he}An(n,i,s,u){const m=new ls(n,Le.empty(),i,s);return u?m:m.Zt()}Rn(n,i,s,u){const m=new ls(n,Le.empty(),i,s);return u?m.Zt():m}Pn(n,i){const s=new Zr(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(m=>{let y=null;for(const x of m)s.rn(x)&&(!y||x.fields.length>y.fields.length)&&(y=x);return y})}getIndexType(n,i){let s=2;const u=this.hn(i);return yt.forEach(u,m=>this.Pn(n,m).next(y=>{y?0!==s&&y.fields.length<function(L){let X=new vr(bt.comparator),he=!1;for(const ke of L.filters)for(const ot of ke.getFlattenedFilters())ot.field.isKeyField()||("array-contains"===ot.op||"array-contains-any"===ot.op?he=!0:X=X.add(ot.field));for(const ke of L.orderBy)ke.field.isKeyField()||(X=X.add(ke.field));return X.size+(he?1:0)}(m)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new Zl;for(const u of vn(n)){const m=i.data.field(u.fieldPath);if(null==m)return null;const y=s.Yt(u.kind);ks.vt.It(m,y)}return s.zt()}dn(n){const i=new Zl;return ks.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new Zl;return ks.vt.It(O(this.databaseId,i),s.Yt(function(m){const y=vn(m);return 0===y.length?0:y[y.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new Zl);let m=0;for(const y of vn(n)){const x=s[m++];for(const L of u)if(this.fn(i,y.fieldPath)&&N(x))u=this.gn(u,y,x);else{const X=L.Yt(y.kind);ks.vt.It(x,X)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],m=[];for(const y of s.arrayValue.values||[])for(const x of u){const L=new Zl;L.seed(x.zt()),ks.vt.It(y,L.Yt(i.kind)),m.push(L)}return m}fn(n,i){return!!n.filters.find(s=>s instanceof _r&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=pa(n),u=Qa(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(m=>{const y=[];return yt.forEach(m,x=>u.get([x.indexId,this.uid]).next(L=>{y.push(function(he,ke){const ot=ke?new kn(ke.sequenceNumber,new pr(de(ke.readTime),new Le(Hn(ke.documentKey)),ke.largestBatchId)):kn.empty(),Ut=he.fields.map(([on,Cn])=>new Wn(bt.fromServerFormat(on),Cn));return new Nn(he.indexId,he.collectionGroup,Ut,ot)}(x,L))})).next(()=>y)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const m=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Zt(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=pa(n),m=Qa(n);return this.yn(n).next(y=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(x=>yt.forEach(x,L=>m.put(ui(L.indexId,this.uid,y,s)))))}updateIndexEntries(n,i){const s=new Map;return yt.forEach(i,(u,m)=>{const y=s.get(u.collectionGroup);return(y?yt.resolve(y):this.getFieldIndexes(n,u.collectionGroup)).next(x=>(s.set(u.collectionGroup,x),yt.forEach(x,L=>this.wn(n,u,L).next(X=>{const he=this.Sn(m,L);return X.isEqual(he)?yt.resolve():this.bn(n,m,L,X,he)}))))})}Dn(n,i,s,u){return Xa(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return Xa(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=Xa(n);let m=new vr(fa);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(y,x)=>{m=m.add(new ls(s.indexId,i,x.arrayValue,x.directionalValue))}).next(()=>m)}Sn(n,i){let s=new vr(fa);const u=this.Vn(i,n);if(null==u)return s;const m=zn(i);if(null!=m){const y=n.data.field(m.fieldPath);if(N(y))for(const x of y.arrayValue.values||[])s=s.add(new ls(i.indexId,n.key,this.dn(x),u))}else s=s.add(new ls(i.indexId,n.key,ac,u));return s}bn(n,i,s,u,m){pe("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const y=[];return function(L,X,he,ke,ot){const Ut=L.getIterator(),on=X.getIterator();let Cn=ao(Ut),fn=ao(on);for(;Cn||fn;){let ar=!1,yr=!1;if(Cn&&fn){const cr=he(Cn,fn);cr<0?yr=!0:cr>0&&(ar=!0)}else null!=Cn?yr=!0:ar=!0;ar?(ke(fn),fn=ao(on)):yr?(ot(Cn),Cn=ao(Ut)):(Cn=ao(Ut),fn=ao(on))}}(u,m,fa,x=>{y.push(this.Dn(n,i,s,x))},x=>{y.push(this.vn(n,i,s,x))}),yt.waitFor(y)}yn(n){let i=1;return Qa(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,m)=>{m.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((y,x)=>fa(y,x)).filter((y,x,L)=>!x||0!==fa(y,L[x-1]));const u=[];u.push(n);for(const y of s){const x=fa(y,n),L=fa(y,i);if(0===x)u[0]=n.Zt();else if(x>0&&L<0)u.push(y),u.push(y.Zt());else if(L>0)break}u.push(i);const m=[];for(let y=0;y<u.length;y+=2){if(this.Cn(u[y],u[y+1]))return[];m.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,ac,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,ac,[]]))}return m}Cn(n,i){return fa(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(uc)}getMinOffset(n,i){return yt.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||Nt())).next(uc)}}function lc(l){return On(l,"collectionParents")}function Xa(l){return On(l,"indexEntries")}function pa(l){return On(l,"indexConfiguration")}function Qa(l){return On(l,"indexState")}function uc(l){Et(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;tr(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new pr(n.readTime,n.documentKey,i)}const Tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Wi(n,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wr(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),m=[],y=IDBKeyRange.only(i.batchId);let x=0;const L=s.J({range:y},(he,ke,ot)=>(x++,ot.delete()));m.push(L.next(()=>{Et(1===x)}));const X=[];for(const he of i.mutations){const ke=Lr(n,he.key.path,i.batchId);m.push(u.delete(ke)),X.push(he.key)}return yt.waitFor(m).next(()=>X)}function eu(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Nt();n=l.noDocument}return JSON.stringify(n).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class Tl{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){Et(""!==n.uid);const m=n.isAuthenticated()?n.uid:"";return new Tl(m,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dl(n).J({index:"userMutationsIndex",range:s},(u,m,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const m=Du(n),y=Dl(n);return y.add({}).next(x=>{Et("number"==typeof x);const L=new ml(x,i,s,u),X=function(Ut,on,Cn){const fn=Cn.baseMutations.map(yr=>Ni(Ut.ct,yr)),ar=Cn.mutations.map(yr=>Ni(Ut.ct,yr));return{userId:on,batchId:Cn.batchId,localWriteTimeMs:Cn.localWriteTime.toMillis(),baseMutations:fn,mutations:ar}}(this.serializer,this.userId,L),he=[];let ke=new vr((ot,Ut)=>Zt(ot.canonicalString(),Ut.canonicalString()));for(const ot of u){const Ut=Lr(this.userId,ot.key.path,x);ke=ke.add(ot.key.path.popLast()),he.push(y.put(X)),he.push(m.put(Ut,Sr))}return ke.forEach(ot=>{he.push(this.indexManager.addToCollectionParentIndex(n,ot))}),n.addOnCommittedListener(()=>{this.Fn[x]=L.keys()}),yt.waitFor(he).next(()=>L)})}lookupMutationBatch(n,i){return Dl(n).get(i).next(s=>s?(Et(s.userId===this.userId),me(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?yt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return Dl(n).J({index:"userMutationsIndex",range:u},(y,x,L)=>{x.userId===this.userId&&(Et(x.batchId>=s),m=me(this.serializer,x)),L.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Dl(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,m,y)=>{s=m.batchId,y.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dl(n).U("userMutationsIndex",i).next(s=>s.map(u=>me(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=Un(this.userId,i.path),u=IDBKeyRange.lowerBound(s),m=[];return Du(n).J({range:u},(y,x,L)=>{const[X,he,ke]=y,ot=Hn(he);if(X===this.userId&&i.path.isEqual(ot))return Dl(n).get(ke).next(Ut=>{if(!Ut)throw Nt();Et(Ut.userId===this.userId),m.push(me(this.serializer,Ut))});L.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new vr(Zt);const u=[];return i.forEach(m=>{const y=Un(this.userId,m.path),x=IDBKeyRange.lowerBound(y),L=Du(n).J({range:x},(X,he,ke)=>{const[ot,Ut,on]=X,Cn=Hn(Ut);ot===this.userId&&m.path.isEqual(Cn)?s=s.add(on):ke.done()});u.push(L)}),yt.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,m=Un(this.userId,s),y=IDBKeyRange.lowerBound(m);let x=new vr(Zt);return Du(n).J({range:y},(L,X,he)=>{const[ke,ot,Ut]=L,on=Hn(ot);ke===this.userId&&s.isPrefixOf(on)?on.length===u&&(x=x.add(Ut)):he.done()}).next(()=>this.xn(n,x))}xn(n,i){const s=[],u=[];return i.forEach(m=>{u.push(Dl(n).get(m).next(y=>{if(null===y)throw Nt();Et(y.userId===this.userId),s.push(me(this.serializer,y))}))}),yt.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return wr(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),yt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return yt.resolve();const s=IDBKeyRange.lowerBound(function(y){return[y]}(this.userId)),u=[];return Du(n).J({range:s},(m,y,x)=>{if(m[0]===this.userId){const L=Hn(m[1]);u.push(L)}else x.done()}).next(()=>{Et(0===u.length)})})}containsKey(n,i){return Xc(n,this.userId,i)}Nn(n){return Cf(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xc(l,n,i){const s=Un(n,i.path),u=s[1],m=IDBKeyRange.lowerBound(s);let y=!1;return Du(l).J({range:m,H:!0},(x,L,X)=>{const[he,ke,ot]=x;he===n&&ke===u&&(y=!0),X.done()}).next(()=>y)}function Dl(l){return On(l,"mutations")}function Du(l){return On(l,"documentMutations")}function Cf(l){return On(l,"mutationQueues")}class Ya{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ya(0)}static kn(){return new Ya(-1)}}class Tf{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new Ya(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Kt.fromTimestamp(new _n(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>ta(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(Et(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const m=[];return ta(n).J((y,x)=>{const L=Dt(x);L.sequenceNumber<=i&&null===s.get(L.targetId)&&(u++,m.push(this.removeTargetData(n,L)))}).next(()=>yt.waitFor(m)).next(()=>u)}forEachTarget(n,i){return ta(n).J((s,u)=>{const m=Dt(u);i(m)})}qn(n){return Qc(n).get("targetGlobalKey").next(i=>(Et(null!==i),i))}Qn(n,i){return Qc(n).put("targetGlobalKey",i)}Kn(n,i){return ta(n).put(tn(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=oi(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return ta(n).J({range:u,index:"queryTargetsIndex"},(y,x,L)=>{const X=Dt(x);Qi(i,X.target)&&(m=X,L.done())}).next(()=>m)}addMatchingKeys(n,i,s){const u=[],m=bl(n);return i.forEach(y=>{const x=cn(y.path);u.push(m.put({targetId:s,path:x})),u.push(this.referenceDelegate.addReference(n,s,y))}),yt.waitFor(u)}removeMatchingKeys(n,i,s){const u=bl(n);return yt.forEach(i,m=>{const y=cn(m.path);return yt.waitFor([u.delete([s,y]),this.referenceDelegate.removeReference(n,s,m)])})}removeMatchingKeysForTargetId(n,i){const s=bl(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=bl(n);let m=qn();return u.J({range:s,H:!0},(y,x,L)=>{const X=Hn(y[1]),he=new Le(X);m=m.add(he)}).next(()=>m)}containsKey(n,i){const s=cn(i.path),u=IDBKeyRange.bound([s],[En(s)],!1,!0);let m=0;return bl(n).J({index:"documentTargetsIndex",H:!0,range:u},([y,x],L,X)=>{0!==y&&(m++,X.done())}).next(()=>m>0)}ot(n,i){return ta(n).get(i).next(s=>s?Dt(s):null)}}function ta(l){return On(l,"targets")}function Qc(l){return On(l,"targetGlobal")}function bl(l){return On(l,"targetDocuments")}function Df([l,n],[i,s]){const u=Zt(l,i);return 0===u?Zt(n,s):u}class Zd{constructor(n){this.Un=n,this.buffer=new vr(Df),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Df(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bf{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;pe("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,c.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Oe(s)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Vr(s)}yield i.Hn(3e5)}))}}class en{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return yt.resolve(We.oe);const s=new Zd(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(Tu)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tu):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,m,y,x,L,X;const he=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),u=this.params.maximumSequenceNumbersToCollect):u=ke,y=Date.now(),this.nthSequenceNumber(n,u))).next(ke=>(s=ke,x=Date.now(),this.removeTargets(n,s,i))).next(ke=>(m=ke,L=Date.now(),this.removeOrphanedDocuments(n,s))).next(ke=>(X=Date.now(),at()<=te.$b.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-he}ms\n\tDetermined least recently used ${u} in `+(x-y)+`ms\n\tRemoved ${m} targets in `+(L-x)+`ms\n\tRemoved ${ke} documents in `+(X-L)+`ms\nTotal Duration: ${X-he}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:ke})))}}class Yc{constructor(n,i){this.db=n,this.garbageCollector=function zr(l,n){return new en(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return bu(n,s)}removeReference(n,i,s){return bu(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return bu(n,i)}nr(n,i){return function(u,m){let y=!1;return Cf(u).Y(x=>Xc(u,x,m).next(L=>(L&&(y=!0),yt.resolve(!L)))).next(()=>y)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.tr(n,(y,x)=>{if(x<=i){const L=this.nr(n,y).next(X=>{if(!X)return m++,s.getEntry(n,y).next(()=>(s.removeEntry(y,Kt.min()),bl(n).delete([0,cn(y.path)])))});u.push(L)}}).next(()=>yt.waitFor(u)).next(()=>s.apply(n)).next(()=>m)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return bu(n,i)}tr(n,i){const s=bl(n);let u,m=We.oe;return s.J({index:"documentTargetsIndex"},([y,x],{path:L,sequenceNumber:X})=>{0===y?(m!==We.oe&&i(new Le(Hn(u)),m),m=X,u=L):m=We.oe}).next(()=>{m!==We.oe&&i(new Le(Hn(u)),m)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function bu(l,n){return bl(l).put((u=l.currentSequenceNumber,{targetId:0,path:cn(n.path),sequenceNumber:u}));var u}class vi{constructor(){this.changes=new yn(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,sr.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?yt.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class wf{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Za(n).put(s)}removeEntry(n,i,s){return Za(n).delete(function(m,y){const x=m.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],M(y),x[x.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=sr.newInvalidDocument(i);return Za(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(nu(i))},(u,m)=>{s=this.ir(i,m)}).next(()=>s)}sr(n,i){let s={size:0,document:sr.newInvalidDocument(i)};return Za(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(nu(i))},(u,m)=>{s={document:this.ir(i,m),size:eu(m)}}).next(()=>s)}getEntries(n,i){let s=Ln();return this._r(n,i,(u,m)=>{const y=this.ir(u,m);s=s.insert(u,y)}).next(()=>s)}ar(n,i){let s=Ln(),u=new lr(Le.comparator);return this._r(n,i,(m,y)=>{const x=this.ir(m,y);s=s.insert(m,x),u=u.insert(m,eu(y))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return yt.resolve();let u=new vr(Sg);i.forEach(L=>u=u.add(L));const m=IDBKeyRange.bound(nu(u.first()),nu(u.last())),y=u.getIterator();let x=y.getNext();return Za(n).J({index:"documentKeyIndex",range:m},(L,X,he)=>{const ke=Le.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;x&&Sg(x,ke)<0;)s(x,null),x=y.getNext();x&&x.isEqual(ke)&&(s(x,X),x=y.hasNext()?y.getNext():null),x?he.$(nu(x)):he.done()}).next(()=>{for(;x;)s(x,null),x=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,m){const y=i.path,x=[y.popLast().toArray(),y.lastSegment(),M(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Za(n).U(IDBKeyRange.bound(x,L,!0)).next(X=>{null==m||m.incrementDocumentReadCount(X.length);let he=Ln();for(const ke of X){const ot=this.ir(Le.fromSegments(ke.prefixPath.concat(ke.collectionGroup,ke.documentId)),ke);ot.isFoundDocument()&&(U(i,ot)||u.has(ot.key))&&(he=he.insert(ot.key,ot))}return he})}getAllFromCollectionGroup(n,i,s,u){let m=Ln();const y=Jd(i,s),x=Jd(i,pr.max());return Za(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,x,!0)},(L,X,he)=>{const ke=this.ir(Le.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);m=m.insert(ke.key,ke),m.size===u&&he.done()}).next(()=>m)}newChangeBuffer(n){return new na(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return cc(n).get("remoteDocumentGlobalKey").next(i=>(Et(!!i),i))}rr(n,i){return cc(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function P(l,n){let i;if(n.document)i=Os(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=Le.fromSegments(n.noDocument.path),u=de(n.noDocument.readTime);i=sr.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Nt();{const s=Le.fromSegments(n.unknownDocument.path),u=de(n.unknownDocument.version);i=sr.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const m=new _n(u[0],u[1]);return Kt.fromTimestamp(m)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(Kt.min()))return s}return sr.newInvalidDocument(n)}}function tu(l){return new wf(l)}class na extends vi{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new yn(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new vr((m,y)=>Zt(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const x=this.lr.get(m);if(i.push(this.cr.removeEntry(n,m,x.readTime)),y.isValidDocument()){const L=F(this.cr.serializer,y);u=u.add(m.path.popLast());const X=eu(L);s+=X-x.size,i.push(this.cr.addEntry(n,m,L))}else if(s-=x.size,this.trackRemovals){const L=F(this.cr.serializer,y.convertToNoDocument(Kt.min()));i.push(this.cr.addEntry(n,m,L))}}),u.forEach(m=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,m))}),i.push(this.cr.updateMetadata(n,s)),yt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((m,y)=>{this.lr.set(m,{size:y,readTime:s.get(m).readTime})}),s))}}function cc(l){return On(l,"remoteDocumentGlobal")}function Za(l){return On(l,"remoteDocumentsV14")}function nu(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Jd(l,n){const i=n.documentKey.path.toArray();return[l,M(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Sg(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let m=0;m<i.length-2&&m<s.length-2;++m)if(u=Zt(i[m],s[m]),u)return u;return u=Zt(i.length,s.length),u||(u=Zt(i[i.length-2],s[s.length-2]),u||Zt(i[i.length-1],s[s.length-1]))}class Sf{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class eh{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&ca(s.mutation,u,Di.empty(),_n.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,qn()).next(()=>s))}getLocalViewOfDocuments(n,i,s=qn()){const u=Kr();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(m=>{let y=ni();return m.forEach((x,L)=>{y=y.insert(x,L.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const s=Kr();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,qn()))}populateOverlays(n,i,s){const u=[];return s.forEach(m=>{i.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(n,u).next(m=>{m.forEach((y,x)=>{i.set(y,x)})})}computeViews(n,i,s,u){let m=Ln();const y=Br(),x=Br();return i.forEach((L,X)=>{const he=s.get(X.key);u.has(X.key)&&(void 0===he||he.mutation instanceof Uo)?m=m.insert(X.key,X):void 0!==he?(y.set(X.key,he.mutation.getFieldMask()),ca(he.mutation,X,he.mutation.getFieldMask(),_n.now())):y.set(X.key,Di.empty())}),this.recalculateAndSaveOverlays(n,m).next(L=>(L.forEach((X,he)=>y.set(X,he)),i.forEach((X,he)=>{var ke;return x.set(X,new Sf(he,null!==(ke=y.get(X))&&void 0!==ke?ke:null))}),x))}recalculateAndSaveOverlays(n,i){const s=Br();let u=new lr((y,x)=>y-x),m=qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const x of y)x.keys().forEach(L=>{const X=i.get(L);if(null===X)return;let he=s.get(L)||Di.empty();he=x.applyToLocalView(X,he),s.set(L,he);const ke=(u.get(x.batchId)||qn()).add(L);u=u.insert(x.batchId,ke)})}).next(()=>{const y=[],x=u.getReverseIterator();for(;x.hasNext();){const L=x.getNext(),X=L.key,he=L.value,ke=Jn();he.forEach(ot=>{if(!m.has(ot)){const Ut=os(i.get(ot),s.get(ot));null!==Ut&&ke.set(ot,Ut),m=m.add(ot)}}),y.push(this.documentOverlayCache.saveOverlays(n,X,ke))}return yt.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Le.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Lo(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var y}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(m=>{const y=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-m.size):yt.resolve(Kr());let x=-1,L=m;return y.next(X=>yt.forEach(X,(he,ke)=>(x<ke.largestBatchId&&(x=ke.largestBatchId),m.get(he)?yt.resolve():this.remoteDocumentCache.getEntry(n,he).next(ot=>{L=L.insert(he,ot)}))).next(()=>this.populateOverlays(n,X,m)).next(()=>this.computeViews(n,L,X,qn())).next(he=>({batchId:x,changes:yi(he)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Le(i)).next(s=>{let u=ni();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const m=i.collectionGroup;let y=ni();return this.indexManager.getCollectionParents(n,m).next(x=>yt.forEach(x,L=>{const X=(ke=i,ot=L.child(m),new Eo(ot,null,ke.explicitOrderBy.slice(),ke.filters.slice(),ke.limit,ke.limitType,ke.startAt,ke.endAt));var ke,ot;return this.getDocumentsMatchingCollectionQuery(n,X,s,u).next(he=>{he.forEach((ke,ot)=>{y=y.insert(ke,ot)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,s,u){let m;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(y=>(m=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,m,u))).next(y=>{m.forEach((L,X)=>{const he=X.getKey();null===y.get(he)&&(y=y.insert(he,sr.newInvalidDocument(he)))});let x=ni();return y.forEach((L,X)=>{const he=m.get(L);void 0!==he&&ca(he.mutation,X,Di.empty(),_n.now()),U(i,X)&&(x=x.insert(L,X))}),x})}}class Zc{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return yt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Ei(u.createTime)}),yt.resolve();var u}getNamedQuery(n,i){return yt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Rt(u.bundledQuery),readTime:Ei(u.readTime)}),yt.resolve();var u}}class ys{constructor(){this.overlays=new lr(Le.comparator),this.Ir=new Map}getOverlay(n,i){return yt.resolve(this.overlays.get(i))}getOverlays(n,i){const s=Kr();return yt.forEach(i,u=>this.getOverlay(n,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,m)=>{this.ht(n,i,m)}),yt.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(s)),yt.resolve()}getOverlaysForCollection(n,i,s){const u=Kr(),m=i.length+1,y=new Le(i.child("")),x=this.overlays.getIteratorFrom(y);for(;x.hasNext();){const L=x.getNext().value,X=L.getKey();if(!i.isPrefixOf(X.path))break;X.path.length===m&&L.largestBatchId>s&&u.set(L.getKey(),L)}return yt.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let m=new lr((X,he)=>X-he);const y=this.overlays.getIterator();for(;y.hasNext();){const X=y.getNext().value;if(X.getKey().getCollectionGroup()===i&&X.largestBatchId>s){let he=m.get(X.largestBatchId);null===he&&(he=Kr(),m=m.insert(X.largestBatchId,he)),he.set(X.getKey(),X)}}const x=Kr(),L=m.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((X,he)=>x.set(X,he)),!(x.size()>=u)););return yt.resolve(x)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const y=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new z(i,s));let m=this.Ir.get(i);void 0===m&&(m=qn(),this.Ir.set(i,m)),this.Ir.set(i,m.add(s.key))}}class Ja{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(n){return yt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,yt.resolve()}}class dc{constructor(){this.Tr=new vr(Oi.Er),this.dr=new vr(Oi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new Oi(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new Oi(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new Le(new Tt([])),s=new Oi(i,n),u=new Oi(i,n+1),m=[];return this.dr.forEachInRange([s,u],y=>{this.Vr(y),m.push(y.key)}),m}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Le(new Tt([])),s=new Oi(i,n),u=new Oi(i,n+1);let m=qn();return this.dr.forEachInRange([s,u],y=>{m=m.add(y.key)}),m}containsKey(n){const i=new Oi(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Oi{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Le.comparator(n.key,i.key)||Zt(n.wr,i.wr)}static Ar(n,i){return Zt(n.wr,i.wr)||Le.comparator(n.key,i.key)}}class ra{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new vr(Oi.Er)}checkEmpty(n){return yt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const m=this.Sr;this.Sr++;const y=new ml(m,i,s,u);this.mutationQueue.push(y);for(const x of u)this.br=this.br.add(new Oi(x.key,m)),this.indexManager.addToCollectionParentIndex(n,x.key.path.popLast());return yt.resolve(y)}lookupMutationBatch(n,i){return yt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),m=u<0?0:u;return yt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Oi(i,0),u=new Oi(i,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([s,u],y=>{const x=this.Dr(y.wr);m.push(x)}),yt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new vr(Zt);return i.forEach(u=>{const m=new Oi(u,0),y=new Oi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,y],x=>{s=s.add(x.wr)})}),yt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let m=s;Le.isDocumentKey(m)||(m=m.child(""));const y=new Oi(new Le(m),0);let x=new vr(Zt);return this.br.forEachWhile(L=>{const X=L.key.path;return!!s.isPrefixOf(X)&&(X.length===u&&(x=x.add(L.wr)),!0)},y),yt.resolve(this.Cr(x))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Et(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return yt.forEach(i.mutations,u=>{const m=new Oi(u.key,i.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new Oi(i,0),u=this.br.firstAfterOrEqual(s);return yt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return yt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Rg{constructor(n){this.Mr=n,this.docs=new lr(Le.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),m=u?u.size:0,y=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return yt.resolve(s?s.document.mutableCopy():sr.newInvalidDocument(i))}getEntries(n,i){let s=Ln();return i.forEach(u=>{const m=this.docs.get(u);s=s.insert(u,m?m.document.mutableCopy():sr.newInvalidDocument(u))}),yt.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let m=Ln();const y=i.path,x=new Le(y.child("")),L=this.docs.getIteratorFrom(x);for(;L.hasNext();){const{key:X,value:{document:he}}=L.getNext();if(!y.isPrefixOf(X.path))break;X.path.length>y.length+1||tr(fr(he),s)<=0||(u.has(he.key)||U(i,he))&&(m=m.insert(he.key,he.mutableCopy()))}return yt.resolve(m)}getAllFromCollectionGroup(n,i,s,u){Nt()}Or(n,i){return yt.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new Rf(this)}getSize(n){return yt.resolve(this.size)}}class Rf extends vi{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),yt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Mg{constructor(n){this.persistence=n,this.Nr=new yn(i=>oi(i),Qi),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dc,this.targetCount=0,this.kr=Ya.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),yt.resolve()}getLastRemoteSnapshotVersion(n){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return yt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),yt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Ya(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,yt.resolve()}updateTargetData(n,i){return this.Kn(i),yt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,yt.resolve()}removeTargets(n,i,s){let u=0;const m=[];return this.Nr.forEach((y,x)=>{x.sequenceNumber<=i&&null===s.get(x.targetId)&&(this.Nr.delete(y),m.push(this.removeMatchingKeysForTargetId(n,x.targetId)),u++)}),yt.waitFor(m).next(()=>u)}getTargetCount(n){return yt.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return yt.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),yt.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,m=[];return u&&i.forEach(y=>{m.push(u.markPotentiallyOrphaned(n,y))}),yt.waitFor(m)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),yt.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return yt.resolve(s)}containsKey(n,i){return yt.resolve(this.Br.containsKey(i))}}class th{constructor(n,i){this.qr={},this.overlays={},this.Qr=new We(0),this.Kr=!1,this.Kr=!0,this.$r=new Ja,this.referenceDelegate=n(this),this.Ur=new Mg(this),this.indexManager=new wg,this.remoteDocumentCache=new Rg(s=>this.referenceDelegate.Wr(s)),this.serializer=new D(i),this.Gr=new Zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new ys,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new ra(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){pe("MemoryPersistence","Starting transaction:",n);const u=new nh(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(m=>this.referenceDelegate.jr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Hr(n,i){return yt.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class nh extends jn{constructor(n){super(),this.currentSequenceNumber=n}}class wu{constructor(n){this.persistence=n,this.Jr=new dc,this.Yr=null}static Zr(n){return new wu(n)}get Xr(){if(this.Yr)return this.Yr;throw Nt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),yt.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),yt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),yt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(m=>this.Xr.add(m.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.Xr,s=>{const u=Le.fromPath(s);return this.ei(n,u).next(m=>{m||i.removeEntry(u,Kt.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return yt.or([()=>yt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Jc{constructor(n){this.serializer=n}O(n,i,s,u){const m=new Fr("createOrUpgrade",i);var L;s<1&&u>=1&&(n.createObjectStore("owner"),(L=n).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0}),L.createObjectStore("documentMutations"),ed(n),function(L){L.createObjectStore("remoteDocuments")}(n));let y=yt.resolve();return s<3&&u>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(n),ed(n)),y=y.next(()=>function(L){const X=L.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",he)}(m))),s<4&&u>=4&&(0!==s&&(y=y.next(()=>function(L,X){return X.store("mutations").U().next(he=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0});const ke=X.store("mutations"),ot=he.map(Ut=>ke.put(Ut));return yt.waitFor(ot)})}(n,m))),y=y.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(y=y.next(()=>this.ni(m))),s<6&&u>=6&&(y=y.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(n),this.ri(m)))),s<7&&u>=7&&(y=y.next(()=>this.ii(m))),s<8&&u>=8&&(y=y.next(()=>this.si(n,m))),s<9&&u>=9&&(y=y.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(y=y.next(()=>this.oi(m))),s<11&&u>=11&&(y=y.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(y=y.next(()=>{!function(L){const X=L.createObjectStore("documentOverlays",{keyPath:J});X.createIndex("collectionPathOverlayIndex",we,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",vt,{unique:!1})}(n)})),s<13&&u>=13&&(y=y.next(()=>function(L){const X=L.createObjectStore("remoteDocumentsV14",{keyPath:Fn});X.createIndex("documentKeyIndex",Pr),X.createIndex("collectionGroupIndex",_i)}(n)).next(()=>this._i(n,m)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(y=y.next(()=>this.ai(n,m))),s<15&&u>=15&&(y=y.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:se}).createIndex("sequenceNumberIndex",K,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:ve}).createIndex("documentKeyIndex",Z,{unique:!1})}(n))),s<16&&u>=16&&(y=y.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(y=y.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(n)})),y}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=eu(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>yt.forEach(u,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(x=>yt.forEach(x,L=>{Et(L.userId===m.userId);const X=me(this.serializer,L);return wr(n,m.userId,X).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return s.J((y,x)=>{const L=new Tt(y),X=[0,cn(L)];m.push(i.get(X).next(he=>he?yt.resolve():i.put({targetId:0,path:cn(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>yt.waitFor(m))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:gr});const s=i.store("collectionParents"),u=new us,m=y=>{if(u.add(y)){const x=y.lastSegment(),L=y.popLast();return s.put({collectionId:x,parent:cn(L)})}};return i.store("remoteDocuments").J({H:!0},(y,x)=>{const L=new Tt(y);return m(L.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([y,x,L],X)=>{const he=Hn(x);return m(he.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const m=Dt(u),y=tn(this.serializer,m);return i.put(y)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((m,y)=>{const x=i.store("remoteDocumentsV14"),L=(ke=y,ke.document?new Le(Tt.fromString(ke.document.name).popFirst(5)):ke.noDocument?Le.fromSegments(ke.noDocument.path):ke.unknownDocument?Le.fromSegments(ke.unknownDocument.path):Nt()).path.toArray(),X={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var ke;u.push(x.put(X))}).next(()=>yt.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=tu(this.serializer),m=new th(wu.Zr,this.serializer.ct);return s.U().next(y=>{const x=new Map;return y.forEach(L=>{var X;let he=null!==(X=x.get(L.userId))&&void 0!==X?X:qn();me(this.serializer,L).keys().forEach(ke=>he=he.add(ke)),x.set(L.userId,he)}),yt.forEach(x,(L,X)=>{const he=new _e(X),ke=Mo.lt(this.serializer,he),ot=m.getIndexManager(he),Ut=Tl.lt(he,this.serializer,ot,m.referenceDelegate);return new eh(u,Ut,ke,ot).recalculateAndSaveOverlaysForDocumentKeys(new mr(i,We.oe),L).next()})})}}function ed(l){l.createObjectStore("targetDocuments",{keyPath:ki}).createIndex("documentTargetsIndex",Fi,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mi,{unique:!0}),l.createObjectStore("targetGlobal")}const td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hc{constructor(n,i,s,u,m,y,x,L,X,he,ke=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=m,this.window=y,this.document=x,this.ci=X,this.li=he,this.hi=ke,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ot=>Promise.resolve(),!hc.D())throw new ee(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yc(this,u),this.Ai=i+"main",this.serializer=new D(L),this.Ri=new Vt(this.Ai,this.hi,new Jc(this.serializer)),this.$r=new vs,this.Ur=new Tf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tu(this.serializer),this.Gr=new Or,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===he&&De("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(Y.FAILED_PRECONDITION,td);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new We(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,c.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,c.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,c.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>fc(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Oe(n))return pe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Ru(n).get("owner").next(i=>yt.resolve(this.vi(i)))}Ci(n){return fc(n).delete(this.clientId)}Fi(){var n=this;return(0,c.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=On(s,"clientMetadata");return u.U().next(m=>{const y=n.xi(m,18e5),x=m.filter(L=>-1===y.indexOf(L));return yt.forEach(x,L=>u.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?yt.resolve(!0):Ru(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new ee(Y.FAILED_PRECONDITION,td);return!1}}return!(!this.networkEnabled||!this.inForeground)||fc(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&pe("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,c.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new mr(i,We.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>fc(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Tl.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new qc(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Mo.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){pe("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",m=17===(L=this.hi)?Pn:16===L?nr:15===L?$n:14===L?xn:13===L?Bn:12===L?rn:11===L?Bt:void Nt();var L;let y;return this.Ri.runTransaction(n,u,m,x=>(y=new mr(x,this.Qr?this.Qr.next():We.oe),"readwrite-primary"===i?this.wi(y).next(L=>!!L||this.Si(y)).next(L=>{if(!L)throw De(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ee(Y.FAILED_PRECONDITION,Gr);return s(y)}).next(L=>this.Di(y).next(()=>L)):this.Ki(y).next(()=>s(y)))).then(x=>(y.raiseOnCommittedEvent(),x))}Ki(n){return Ru(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new ee(Y.FAILED_PRECONDITION,td)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ru(n).put("owner",i)}static D(){return Vt.D()}bi(n){const i=Ru(n);return i.get("owner").next(s=>this.vi(s)?(pe("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):yt.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(De(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,ie.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return pe("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return De("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){De("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ru(l){return On(l,"owner")}function fc(l){return On(l,"clientMetadata")}function nd(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class pc{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=qn(),u=qn();for(const m of i.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new pc(n,i.fromCache,s,u)}}class rh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Mf{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ie.nr)()?8:fe((0,ie.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const m={result:null};return this.Yi(n,i).next(y=>{m.result=y}).next(()=>{if(!m.result)return this.Zi(n,i,u,s).next(y=>{m.result=y})}).next(()=>{if(m.result)return;const y=new rh;return this.Xi(n,i,y).next(x=>{if(m.result=x,this.zi)return this.es(n,i,y,x.size)})}).next(()=>m.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(at()<=te.$b.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",w(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),yt.resolve()):(at()<=te.$b.DEBUG&&pe("QueryEngine","Query:",w(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(at()<=te.$b.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",w(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,to(i))):yt.resolve())}Yi(n,i){if(Qr(i))return yt.resolve(null);let s=to(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=W(i,null,"F"),s=to(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(m=>{const y=qn(...m);return this.Ji.getDocuments(n,y).next(x=>this.indexManager.getMinOffset(n,s).next(L=>{const X=this.ts(i,x);return this.ns(i,X,y,L.readTime)?this.Yi(n,W(i,null,"F")):this.rs(n,X,i,L)}))})))}Zi(n,i,s,u){return Qr(i)||u.isEqual(Kt.min())?yt.resolve(null):this.Ji.getDocuments(n,s).next(m=>{const y=this.ts(i,m);return this.ns(i,y,s,u)?yt.resolve(null):(at()<=te.$b.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),w(i)),this.rs(n,y,i,er(u,-1)).next(x=>x))})}ts(n,i){let s=new vr(pt(n));return i.forEach((u,m)=>{U(n,m)&&(s=s.add(m))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const m="F"===n.limitType?i.last():i.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Xi(n,i,s){return at()<=te.$b.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",w(i)),this.Ji.getDocumentsMatchingQuery(n,i,pr.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(m=>(i.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Qo{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new lr(Zt),this._s=new yn(m=>oi(m),Qi),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new eh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function wl(l,n,i,s){return new Qo(l,n,i,s)}function $i(l,n){return gc.apply(this,arguments)}function gc(){return(gc=(0,c.A)(function*(l,n){const i=Fe(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(m=>(u=m,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(m=>{const y=[],x=[];let L=qn();for(const X of u){y.push(X.batchId);for(const he of X.mutations)L=L.add(he.key)}for(const X of m){x.push(X.batchId);for(const he of X.mutations)L=L.add(he.key)}return i.localDocuments.getDocuments(s,L).next(X=>({hs:X,removedBatchIds:y,addedBatchIds:x}))})})})).apply(this,arguments)}function Pf(l){const n=Fe(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function sh(l,n,i){let s=qn(),u=qn();return i.forEach(m=>s=s.add(m)),n.getEntries(l,s).next(m=>{let y=Ln();return i.forEach((x,L)=>{const X=m.get(x);L.isFoundDocument()!==X.isFoundDocument()&&(u=u.add(x)),L.isNoDocument()&&L.version.isEqual(Kt.min())?(n.removeEntry(x,L.readTime),y=y.insert(x,L)):!X.isValidDocument()||L.version.compareTo(X.version)>0||0===L.version.compareTo(X.version)&&X.hasPendingWrites?(n.addEntry(L),y=y.insert(x,L)):pe("LocalStore","Ignoring outdated watch update for ",x,". Current version:",X.version," Watch version:",L.version)}),{Ps:y,Is:u}})}function ah(l,n){const i=Fe(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function ga(l,n){const i=Fe(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(m=>m?(u=m,yt.resolve(u)):i.Ur.allocateTargetId(s).next(y=>(u=new Ka(n,y,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function Yo(l,n,i){return lh.apply(this,arguments)}function lh(){return(lh=(0,c.A)(function*(l,n,i){const s=Fe(l),u=s.os.get(n),m=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",m,y=>s.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Oe(y))throw y;pe("LocalStore",`Failed to update sequence numbers for target ${n}: ${y}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function Mu(l,n,i){const s=Fe(l);let u=Kt.min(),m=qn();return s.persistence.runTransaction("Execute query","readwrite",y=>function(L,X,he){const ke=Fe(L),ot=ke._s.get(he);return void 0!==ot?yt.resolve(ke.os.get(ot)):ke.Ur.getTargetData(X,he)}(s,y,to(n)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(y,x.targetId).next(L=>{m=L})}).next(()=>s.ss.getDocumentsMatchingQuery(y,n,i?u:Kt.min(),i?m:qn())).next(x=>(iu(s,Ie(n),x),{documents:x,Ts:m})))}function ru(l,n){const i=Fe(l),s=Fe(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,n).next(y=>y?y.target:null))}function Pu(l,n){const i=Fe(l),s=i.us.get(n)||Kt.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,er(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(iu(i,n,u),u))}function iu(l,n,i){let s=l.us.get(n)||Kt.min();i.forEach((u,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),l.us.set(n,s)}function mc(){return(mc=(0,c.A)(function*(l,n,i,s){const u=Fe(l);let m=qn(),y=Ln();for(const X of i){const he=n.Es(X.metadata.name);X.document&&(m=m.add(he));const ke=n.ds(X);ke.setReadTime(n.As(X.metadata.readTime)),y=y.insert(he,ke)}const x=u.cs.newChangeBuffer({trackRemovals:!0}),L=yield ga(u,(he=s,to(Ko(Tt.fromString(`__bundle__/docs/${he}`)))));var he;return u.persistence.runTransaction("Apply bundle documents","readwrite",X=>sh(X,x,y).next(he=>(x.apply(X),he)).next(he=>u.Ur.removeMatchingKeysForTargetId(X,L.targetId).next(()=>u.Ur.addMatchingKeys(X,m,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(X,he.Ps,he.Is)).next(()=>he.Ps)))})).apply(this,arguments)}function Pg(l,n){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.A)(function*(l,n,i=qn()){const s=yield ga(l,to(Rt(n.bundledQuery))),u=Fe(l);return u.persistence.runTransaction("Save named query","readwrite",m=>{const y=Ei(n.readTime);if(s.snapshotVersion.compareTo(y)>=0)return u.Gr.saveNamedQuery(m,n);const x=s.withResumeToken(ri.EMPTY_BYTE_STRING,y);return u.os=u.os.insert(x.targetId,x),u.Ur.updateTargetData(m,x).next(()=>u.Ur.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>u.Ur.addMatchingKeys(m,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(m,n))})})).apply(this,arguments)}function xu(l,n){return`firestore_clients_${l}_${n}`}function xf(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function vc(l,n){return`firestore_targets_${l}_${n}`}class Nu{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let m,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(m=new ee(u.error.code,u.error.message))),y?new Nu(n,i,u.state,m):(De("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class _c{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(u=new ee(s.error.code,s.error.message))),m?new _c(n,s.state,u):(De("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ch{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,m=Ui();for(let y=0;u&&y<s.activeTargetIds.length;++y)u=pn(s.activeTargetIds[y]),m=m.add(s.activeTargetIds[y]);return u?new ch(n,m):(De("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class dh{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new dh(i.clientId,i.onlineState):(De("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Rl{constructor(){this.activeTargetIds=Ui()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Nf{constructor(n,i,s,u,m){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new lr(Zt),this.started=!1,this.bs=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=xu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Rl),this.Cs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,c.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const m=n.getItem(xu(n.persistenceKey,u));if(m){const y=ch.Rs(u,m);y&&(n.Ss=n.Ss.insert(y.clientId,y))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n,i=!0){let s="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(vc(this.persistenceKey,n));if(u){const m=_c.Rs(n,u);m&&(s=m.state)}}return i&&this.Ks.fs(n),this.Ns(),s}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(vc(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return pe("SharedClientState","READ",n,i),i}setItem(n,i){pe("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){pe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(pe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void De("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(y){let x=We.oe;if(null!=y)try{const L=JSON.parse(y);Et("number"==typeof L),x=L}catch(L){De("SharedClientState","Failed to read sequence number from WebStorage",L)}return x}(s.newValue);u!==We.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(m=>i.syncEngine.eo(m)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new Nu(this.currentUser,n,i,s),m=xf(this.persistenceKey,this.currentUser,n);this.setItem(m,u.Vs())}Qs(n){const i=xf(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=vc(this.persistenceKey,n),m=new _c(n,i,s);this.setItem(u,m.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return ch.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return Nu.Rs(new _e(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return _c.Rs(u,i)}Ls(n){return dh.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,c.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);pe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),m=this.ks(s),y=[],x=[];return m.forEach(L=>{u.has(L)||y.push(L)}),u.forEach(L=>{m.has(L)||x.push(L)}),this.syncEngine.io(y,x).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Ui();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class rd{constructor(){this.so=new Rl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Rl,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class el{_o(n){}shutdown(){}}class id{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Na=null;function hh(){return null===Na?Na=268435456+Math.round(2147483648*Math.random()):Na++,"0x"+Na.toString(16)}const yc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fh{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const $o="WebChannelConnection";class od extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Fo(){return!1}Mo(i,s,u,m,y){const x=hh(),L=this.xo(i,s.toUriEncodedString());pe("RestConnection",`Sending RPC '${i}' ${x}:`,L,u);const X={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(X,m,y),this.No(i,L,X,u).then(he=>(pe("RestConnection",`Received RPC '${i}' ${x}: `,he),he),he=>{throw Ot("RestConnection",`RPC '${i}' ${x} failed with error: `,he,"url: ",L,"request:",u),he})}Lo(i,s,u,m,y,x){return this.Mo(i,s,u,m,y)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Me,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,y)=>i[y]=m),u&&u.headers.forEach((m,y)=>i[y]=m)}xo(i,s){return`${this.Do}/v1/${s}:${yc[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const m=hh();return new Promise((y,x)=>{const L=new $e;L.setWithCredentials(!0),L.listenOnce(Ze.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ct.NO_ERROR:const he=L.getResponseJson();pe($o,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(he)),y(he);break;case ct.TIMEOUT:pe($o,`RPC '${n}' ${m} timed out`),x(new ee(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ct.HTTP_ERROR:const ke=L.getStatus();if(pe($o,`RPC '${n}' ${m} failed with status:`,ke,"response text:",L.getResponseText()),ke>0){let ot=L.getResponseJson();Array.isArray(ot)&&(ot=ot[0]);const Ut=null==ot?void 0:ot.error;if(Ut&&Ut.status&&Ut.message){const on=function(fn){const ar=fn.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ar)>=0?ar:Y.UNKNOWN}(Ut.status);x(new ee(on,Ut.message))}else x(new ee(Y.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new ee(Y.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{pe($o,`RPC '${n}' ${m} completed.`)}});const X=JSON.stringify(u);pe($o,`RPC '${n}' ${m} sending request:`,u),L.send(i,"POST",X,s,15)})}Bo(n,i,s){const u=hh(),m=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=mt(),x=It(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(L.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,i,s),L.encodeInitMessageHeaders=!0;const he=m.join("");pe($o,`Creating RPC '${n}' stream ${u}: ${he}`,L);const ke=y.createWebChannel(he,L);let ot=!1,Ut=!1;const on=new fh({Io:fn=>{Ut?pe($o,`Not sending because RPC '${n}' stream ${u} is closed:`,fn):(ot||(pe($o,`Opening RPC '${n}' stream ${u} transport.`),ke.open(),ot=!0),pe($o,`RPC '${n}' stream ${u} sending:`,fn),ke.send(fn))},To:()=>ke.close()}),Cn=(fn,ar,yr)=>{fn.listen(ar,cr=>{try{yr(cr)}catch(Wr){setTimeout(()=>{throw Wr},0)}})};return Cn(ke,He.EventType.OPEN,()=>{Ut||(pe($o,`RPC '${n}' stream ${u} transport opened.`),on.yo())}),Cn(ke,He.EventType.CLOSE,()=>{Ut||(Ut=!0,pe($o,`RPC '${n}' stream ${u} transport closed`),on.So())}),Cn(ke,He.EventType.ERROR,fn=>{Ut||(Ut=!0,Ot($o,`RPC '${n}' stream ${u} transport errored:`,fn),on.So(new ee(Y.UNAVAILABLE,"The operation could not be completed")))}),Cn(ke,He.EventType.MESSAGE,fn=>{var ar;if(!Ut){const yr=fn.data[0];Et(!!yr);const Wr=yr.error||(null===(ar=yr[0])||void 0===ar?void 0:ar.error);if(Wr){pe($o,`RPC '${n}' stream ${u} received error:`,Wr);const Ai=Wr.status;let ei=function(gt){const wt=ue[gt];if(void 0!==wt)return ln(wt)}(Ai),ut=Wr.message;void 0===ei&&(ei=Y.INTERNAL,ut="Unknown error status: "+Ai+" with message "+Wr.message),Ut=!0,on.So(new ee(ei,ut)),ke.close()}else pe($o,`RPC '${n}' stream ${u} received:`,yr),on.bo(yr)}}),Cn(x,st.STAT_EVENT,fn=>{fn.stat===nt.PROXY?pe($o,`RPC '${n}' stream ${u} detected buffering proxy`):fn.stat===nt.NOPROXY&&pe($o,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{on.wo()},0),on}}function ph(){return typeof window<"u"?window:null}function Ic(){return typeof document<"u"?document:null}function Ou(l){return new Cr(l,!0)}class gh{constructor(n,i,s=1e3,u=1.5,m=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&pe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ma{constructor(n,i,s,u,m,y,x,L){this.ui=n,this.Ho=s,this.Jo=u,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=x,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gh(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,c.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,c.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,c.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(De(i.toString()),De("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Y.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new ee(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,c.A)(function*(){n.state=0,n.start()}))}I_(n){return pe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xg extends ma{constructor(n,i,s,u,m,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,y),this.serializer=m}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function Il(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(X=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Nt(),u=n.targetChange.targetIds||[],m=function(X,he){return X.useProto3Json?(Et(void 0===he||"string"==typeof he),ri.fromBase64String(he||"")):(Et(void 0===he||he instanceof Buffer||he instanceof Uint8Array),ri.fromUint8Array(he||new Uint8Array))}(l,n.targetChange.resumeToken),y=n.targetChange.cause,x=y&&function(X){const he=void 0===X.code?Y.UNKNOWN:ln(X.code);return new ee(he,X.message||"")}(y);i=new xi(s,u,m,x||null)}else if("documentChange"in n){const s=n.documentChange,u=ho(l,s.document.name),m=Ei(s.document.updateTime),y=s.document.createTime?Ei(s.document.createTime):Kt.min(),x=new Tn({mapValue:{fields:s.document.fields}}),L=sr.newFoundDocument(u,m,y,x);i=new un(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in n){const s=n.documentDelete,u=ho(l,s.document),m=s.readTime?Ei(s.readTime):Kt.min(),y=sr.newNoDocument(u,m);i=new un([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const s=n.documentRemove,u=ho(l,s.document);i=new un([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Nt();{const s=n.filter,{count:u=0,unchangedNames:m}=s,y=new H(u,m);i=new Yn(s.targetId,y)}}var X;return i}(this.serializer,n),s=function(m){if(!("targetChange"in m))return Kt.min();const y=m.targetChange;return y.targetIds&&y.targetIds.length?Kt.min():y.readTime?Ei(y.readTime):Kt.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=rr(this.serializer),i.addTarget=function(m,y){let x;const L=y.target;if(x=Ta(L)?{documents:wo(m,L)}:{query:ea(m,L)._t},x.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){x.resumeToken=Ga(m,y.resumeToken);const X=da(m,y.expectedCount);null!==X&&(x.expectedCount=X)}else if(y.snapshotVersion.compareTo(Kt.min())>0){x.readTime=Bo(m,y.snapshotVersion.toTimestamp());const X=da(m,y.expectedCount);null!==X&&(x.expectedCount=X)}return x}(this.serializer,n);const s=function gs(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=rr(this.serializer),i.removeTarget=n,this.a_(i)}}class Ec extends ma{constructor(n,i,s,u,m,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,y),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Et(!!n.streamToken),this.lastStreamToken=n.streamToken,Et(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Et(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function Zi(l,n){return l&&l.length>0?(Et(void 0!==n),l.map(i=>function(u,m){let y=Ei(u.updateTime?u.updateTime:m);return y.isEqual(Kt.min())&&(y=Ei(m)),new zl(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Ei(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=rr(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>Ni(this.serializer,s))};this.a_(i)}}class Ac extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ee(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Mo(n,Co(i,s),u,m,y)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ee(Y.UNKNOWN,m.toString())})}Lo(n,i,s,u,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,x])=>this.connection.Lo(n,Co(i,s),u,y,x,m)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new ee(Y.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Of{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(De(i),this.D_=!1):pe("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class sd{constructor(n,i,s,u,m){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(x=>{s.enqueueAndForget((0,c.A)(function*(){var L;nl(y)&&(pe("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,c.A)(function*(he){const ke=Fe(he);ke.L_.add(4),yield ou(ke),ke.q_.set("Unknown"),ke.L_.delete(4),yield tl(ke)}),function X(he){return L.apply(this,arguments)})(y))}))}),this.q_=new Of(s,u)}}function tl(l){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.A)(function*(l){if(nl(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function ou(l){return ad.apply(this,arguments)}function ad(){return(ad=(0,c.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Ml(l,n){const i=Fe(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),vh(i)?Oa(i):xl(i).r_()&&mh(i,n))}function su(l,n){const i=Fe(l),s=xl(i);i.N_.delete(n),s.r_()&&Tc(i,n),0===i.N_.size&&(s.r_()?s.o_():nl(i)&&i.q_.set("Unknown"))}function mh(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Kt.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}xl(l).A_(n)}function Tc(l,n){l.Q_.xe(n),xl(l).R_(n)}function Oa(l){l.Q_=new Bi({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),xl(l).start(),l.q_.v_()}function vh(l){return nl(l)&&!xl(l).n_()&&l.N_.size>0}function nl(l){return 0===Fe(l).L_.size}function _h(l){l.Q_=void 0}function ku(l){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Po(l){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.A)(function*(l){l.N_.forEach((n,i)=>{mh(l,n)})})).apply(this,arguments)}function kf(l,n){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.A)(function*(l,n){_h(l),vh(l)?(l.q_.M_(n),Oa(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Ng(l,n,i){return ud.apply(this,arguments)}function ud(){return ud=(0,c.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof xi&&2===n.state&&n.cause)try{yield(s=(0,c.A)(function*(m,y){const x=y.cause;for(const L of y.targetIds)m.N_.has(L)&&(yield m.remoteSyncer.rejectListen(L,x),m.N_.delete(L),m.Q_.removeTarget(L))}),function u(m,y){return s.apply(this,arguments)})(l,n)}catch(s){pe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Pl(l,s)}else if(n instanceof un?l.Q_.Ke(n):n instanceof Yn?l.Q_.He(n):l.Q_.We(n),!i.isEqual(Kt.min()))try{const s=yield Pf(l.localStore);i.compareTo(s)>=0&&(yield function(m,y){const x=m.Q_.rt(y);return x.targetChanges.forEach((L,X)=>{if(L.resumeToken.approximateByteSize()>0){const he=m.N_.get(X);he&&m.N_.set(X,he.withResumeToken(L.resumeToken,y))}}),x.targetMismatches.forEach((L,X)=>{const he=m.N_.get(L);if(!he)return;m.N_.set(L,he.withResumeToken(ri.EMPTY_BYTE_STRING,he.snapshotVersion)),Tc(m,L);const ke=new Ka(he.target,L,X,he.sequenceNumber);mh(m,ke)}),m.remoteSyncer.applyRemoteEvent(x)}(l,i))}catch(s){pe("RemoteStore","Failed to raise snapshot:",s),yield Pl(l,s)}var s}),ud.apply(this,arguments)}function Pl(l,n,i){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.A)(function*(l,n,i){if(!Oe(n))throw n;l.L_.add(1),yield ou(l),l.q_.set("Offline"),i||(i=()=>Pf(l.localStore)),l.asyncQueue.enqueueRetryable((0,c.A)(function*(){pe("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield tl(l)}))})).apply(this,arguments)}function wc(l,n){return n().catch(i=>Pl(l,i,n))}function rl(l){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.A)(function*(l){const n=Fe(l),i=So(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;cd(n);)try{const u=yield ah(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,Og(n,u)}catch(u){yield Pl(n,u)}Fs(n)&&Lu(n)})).apply(this,arguments)}function cd(l){return nl(l)&&l.O_.length<10}function Og(l,n){l.O_.push(n);const i=So(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Fs(l){return nl(l)&&!So(l).n_()&&l.O_.length>0}function Lu(l){So(l).start()}function yh(l){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.A)(function*(l){So(l).p_()})).apply(this,arguments)}function dd(l){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,c.A)(function*(l){const n=So(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function kg(l,n,i){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,c.A)(function*(l,n,i){const s=l.O_.shift(),u=R.from(s,n,i);yield wc(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield rl(l)})).apply(this,arguments)}function Ff(l,n){return va.apply(this,arguments)}function va(){return va=(0,c.A)(function*(l,n){var i;n&&So(l).V_&&(yield(i=(0,c.A)(function*(u,m){if(Gt(x=m.code)&&x!==Y.ABORTED){const y=u.O_.shift();So(u).s_(),yield wc(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,m)),yield rl(u)}var x}),function s(u,m){return i.apply(this,arguments)})(l,n)),Fs(l)&&Lu(l)}),va.apply(this,arguments)}function Zo(l,n){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.A)(function*(l,n){const i=Fe(l);i.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const s=nl(i);i.L_.add(3),yield ou(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield tl(i)})).apply(this,arguments)}function Ah(l,n){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,c.A)(function*(l,n){const i=Fe(l);n?(i.L_.delete(2),yield tl(i)):n||(i.L_.add(2),yield ou(i),i.q_.set("Unknown"))})).apply(this,arguments)}function xl(l){return l.K_||(l.K_=function(i,s,u){const m=Fe(i);return m.w_(),new xg(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Eo:ku.bind(null,l),Ro:Po.bind(null,l),mo:kf.bind(null,l),d_:Ng.bind(null,l)}),l.B_.push(function(){var n=(0,c.A)(function*(i){i?(l.K_.s_(),vh(l)?Oa(l):l.q_.set("Unknown")):(yield l.K_.stop(),_h(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function So(l){return l.U_||(l.U_=function(i,s,u){const m=Fe(i);return m.w_(),new Ec(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yh.bind(null,l),mo:Ff.bind(null,l),f_:dd.bind(null,l),g_:kg.bind(null,l)}),l.B_.push(function(){var n=(0,c.A)(function*(i){i?(l.U_.s_(),yield rl(l)):(yield l.U_.stop(),l.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class au{constructor(n,i,s,u,m){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=m,this.deferred=new ye,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,m){const y=Date.now()+s,x=new au(n,i,y,u,m);return x.start(s),x}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(Y.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(l,n){if(De("AsyncQueue",`${n}: ${l}`),Oe(l))return new ee(Y.UNAVAILABLE,`${n}: ${l}`);throw l}class ka{constructor(n){this.comparator=n?(i,s)=>n(i,s)||Le.comparator(i.key,s.key):(i,s)=>Le.comparator(i.key,s.key),this.keyedMap=ni(),this.sortedSet=new lr(this.comparator)}static emptySet(n){return new ka(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ka)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,m=s.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new ka;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class Fa{constructor(){this.W_=new lr(Le.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Nt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class La{constructor(n,i,s,u,m,y,x,L,X){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=x,this.excludesMetadataChanges=L,this.hasCachedResults=X}static fromInitialDocuments(n,i,s,u,m){const y=[];return i.forEach(x=>{y.push({type:0,doc:x})}),new La(n,i,ka.emptySet(i),y,s,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&v(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Nl{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class Fg{constructor(){this.queries=Uf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=Fe(i),m=u.queries;u.queries=Uf(),m.forEach((y,x)=>{for(const L of x.j_)L.onError(s)})}(this,new ee(Y.ABORTED,"Firestore shutting down"))}}function Uf(){return new yn(l=>C(l),v)}function Ls(l,n){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.A)(function*(l,n){const i=Fe(l);let s=3;const u=n.query;let m=i.queries.get(u);m?!m.H_()&&n.J_()&&(s=2):(m=new Nl,s=n.J_()?0:1);try{switch(s){case 0:m.z_=yield i.onListen(u,!0);break;case 1:m.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const x=il(y,`Initialization of query '${w(n.query)}' failed`);return void n.onError(x)}i.queries.set(u,m),m.j_.push(n),n.Z_(i.onlineState),m.z_&&n.X_(m.z_)&&h(i)})).apply(this,arguments)}function hd(l,n){return fd.apply(this,arguments)}function fd(){return(fd=(0,c.A)(function*(l,n){const i=Fe(l),s=n.query;let u=3;const m=i.queries.get(s);if(m){const y=m.j_.indexOf(n);y>=0&&(m.j_.splice(y,1),0===m.j_.length?u=n.J_()?0:1:!m.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function fv(l,n){const i=Fe(l);let s=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const x of y.j_)x.X_(u)&&(s=!0);y.z_=u}}s&&h(i)}function I(l,n,i){const s=Fe(l),u=s.queries.get(n);if(u)for(const m of u.j_)m.onError(i);s.queries.delete(n)}function h(l){l.Y_.forEach(n=>{n.next()})}var p,T;(T=p||(p={})).ea="default",T.Cache="cache";class G{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new La(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=La.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==p.Cache}}class ce{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class tt{constructor(n){this.serializer=n}Es(n){return ho(this.serializer,n)}ds(n){return n.metadata.exists?Os(this.serializer,n.document,!1):sr.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return Ei(n)}}class xt{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nn(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=Tt.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new tt(this.serializer);for(const u of n)if(u.metadata.queries){const m=s.Es(u.metadata.name);for(const y of u.metadata.queries){const x=(i.get(y)||qn()).add(m);i.set(y,x)}}return i}complete(){var n=this;return(0,c.A)(function*(){const i=yield function uh(l,n,i,s){return mc.apply(this,arguments)}(n.localStore,new tt(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield Pg(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function nn(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Rn{constructor(n){this.key=n}}class Zn{constructor(n){this.key=n}}class Xn{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qn(),this.mutatedKeys=qn(),this.Aa=pt(n),this.Ra=new ka(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new Fa,u=i?i.Ra:this.Ra;let m=i?i.mutatedKeys:this.mutatedKeys,y=u,x=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,X="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((he,ke)=>{const ot=u.get(he),Ut=U(this.query,ke)?ke:null,on=!!ot&&this.mutatedKeys.has(ot.key),Cn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let fn=!1;ot&&Ut?ot.data.isEqual(Ut.data)?on!==Cn&&(s.track({type:3,doc:Ut}),fn=!0):this.ga(ot,Ut)||(s.track({type:2,doc:Ut}),fn=!0,(L&&this.Aa(Ut,L)>0||X&&this.Aa(Ut,X)<0)&&(x=!0)):!ot&&Ut?(s.track({type:0,doc:Ut}),fn=!0):ot&&!Ut&&(s.track({type:1,doc:ot}),fn=!0,(L||X)&&(x=!0)),fn&&(Ut?(y=y.add(Ut),m=Cn?m.add(he):m.delete(he)):(y=y.delete(he),m=m.delete(he)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const he="F"===this.query.limitType?y.last():y.first();y=y.delete(he.key),m=m.delete(he.key),s.track({type:1,doc:he})}return{Ra:y,fa:s,ns:x,mutatedKeys:m}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const m=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const y=n.fa.G_();y.sort((he,ke)=>function(Ut,on){const Cn=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return Cn(Ut)-Cn(on)}(he.type,ke.type)||this.Aa(he.doc,ke.doc)),this.pa(s),u=null!=u&&u;const x=i&&!u?this.ya():[],L=0===this.da.size&&this.current&&!u?1:0,X=L!==this.Ea;return this.Ea=L,0!==y.length||X?{snapshot:new La(this.query,n.Ra,m,y,n.mutatedKeys,0===L,X,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fa,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=qn(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new Zn(s))}),this.da.forEach(s=>{n.has(s)||i.push(new Rn(s))}),i}ba(n){this.Ta=n.Ts,this.da=qn();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return La.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class fo{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class _a{constructor(n){this.key=n,this.va=!1}}class Rc{constructor(n,i,s,u,m,y){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new yn(x=>C(x),v),this.Ma=new Map,this.xa=new Set,this.Oa=new lr(Le.comparator),this.Na=new Map,this.La=new dc,this.Ba={},this.ka=new Map,this.qa=Ya.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Bf(l,n){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.A)(function*(l,n,i=!0){const s=Rh(l);let u;const m=s.Fa.get(n);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.Da()):u=yield Ch(s,n,i,!0),u})).apply(this,arguments)}function $f(l,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,c.A)(function*(l,n){const i=Rh(l);yield Ch(i,n,!0,!1)})).apply(this,arguments)}function Ch(l,n,i,s){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.A)(function*(l,n,i,s){const u=yield ga(l.localStore,to(n)),m=u.targetId,y=l.sharedClientState.addLocalQueryTarget(m,i);let x;return s&&(x=yield Dh(l,n,m,"current"===y,u.resumeToken)),l.isPrimaryClient&&i&&Ml(l.remoteStore,u),x})).apply(this,arguments)}function Dh(l,n,i,s,u){return pd.apply(this,arguments)}function pd(){return pd=(0,c.A)(function*(l,n,i,s,u){l.Ka=(ke,ot,Ut)=>{return(on=(0,c.A)(function*(fn,ar,yr,cr){let Wr=ar.view.ma(yr);Wr.ns&&(Wr=yield Mu(fn.localStore,ar.query,!1).then(({documents:et})=>ar.view.ma(et,Wr)));const Ai=cr&&cr.targetChanges.get(ar.targetId),ei=cr&&null!=cr.targetMismatches.get(ar.targetId),ut=ar.view.applyChanges(Wr,fn.isPrimaryClient,Ai,ei);return Vs(fn,ar.targetId,ut.wa),ut.snapshot}),function Cn(fn,ar,yr,cr){return on.apply(this,arguments)})(l,ke,ot,Ut);var on};const m=yield Mu(l.localStore,n,!0),y=new Xn(n,m.Ts),x=y.ma(m.documents),L=Nr.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),X=y.applyChanges(x,l.isPrimaryClient,L);Vs(l,i,X.wa);const he=new fo(n,i,y);return l.Fa.set(n,he),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),X.snapshot}),pd.apply(this,arguments)}function Lg(l,n,i){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.A)(function*(l,n,i){const s=Fe(l),u=s.Fa.get(n),m=s.Ma.get(u.targetId);if(m.length>1)return s.Ma.set(u.targetId,m.filter(y=>!v(y,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Yo(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&su(s.remoteStore,u.targetId),Uu(s,u.targetId)}).catch(Vr))):(Uu(s,u.targetId),yield Yo(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Ol(l,n){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.A)(function*(l,n){const i=Fe(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),su(i.remoteStore,s.targetId))})).apply(this,arguments)}function Vg(){return(Vg=(0,c.A)(function*(l,n,i){const s=Yf(l);try{const u=yield function(y,x){const L=Fe(y),X=_n.now(),he=x.reduce((Ut,on)=>Ut.add(on.key),qn());let ke,ot;return L.persistence.runTransaction("Locally write mutations","readwrite",Ut=>{let on=Ln(),Cn=qn();return L.cs.getEntries(Ut,he).next(fn=>{on=fn,on.forEach((ar,yr)=>{yr.isValidDocument()||(Cn=Cn.add(ar))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ut,on)).next(fn=>{ke=fn;const ar=[];for(const yr of x){const cr=gl(yr,ke.get(yr.key).overlayedDocument);null!=cr&&ar.push(new Uo(yr.key,cr,Ur(cr.value.mapValue),Si.exists(!0)))}return L.mutationQueue.addMutationBatch(Ut,X,ar,x)}).next(fn=>{ot=fn;const ar=fn.applyToLocalDocumentSet(ke,Cn);return L.documentOverlayCache.saveOverlays(Ut,fn.batchId,ar)})}).then(()=>({batchId:ot.batchId,changes:yi(ke)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(y,x,L){let X=y.Ba[y.currentUser.toKey()];X||(X=new lr(Zt)),X=X.insert(x,L),y.Ba[y.currentUser.toKey()]=X}(s,u.batchId,i),yield Va(s,u.changes),yield rl(s.remoteStore)}catch(u){const m=il(u,"Failed to persist write");i.reject(m)}})).apply(this,arguments)}function jf(l,n){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,c.A)(function*(l,n){const i=Fe(l);try{const s=yield function oh(l,n){const i=Fe(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const x=[];n.targetChanges.forEach((he,ke)=>{const ot=u.get(ke);if(!ot)return;x.push(i.Ur.removeMatchingKeys(m,he.removedDocuments,ke).next(()=>i.Ur.addMatchingKeys(m,he.addedDocuments,ke)));let Ut=ot.withSequenceNumber(m.currentSequenceNumber);var Cn,fn,ar;null!==n.targetMismatches.get(ke)?Ut=Ut.withResumeToken(ri.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):he.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(he.resumeToken,s)),u=u.insert(ke,Ut),fn=Ut,ar=he,(0===(Cn=ot).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Cn.snapshotVersion.toMicroseconds()>=3e8||ar.addedDocuments.size+ar.modifiedDocuments.size+ar.removedDocuments.size>0)&&x.push(i.Ur.updateTargetData(m,Ut))});let L=Ln(),X=qn();if(n.documentUpdates.forEach(he=>{n.resolvedLimboDocuments.has(he)&&x.push(i.persistence.referenceDelegate.updateLimboDocument(m,he))}),x.push(sh(m,y,n.documentUpdates).next(he=>{L=he.Ps,X=he.Is})),!s.isEqual(Kt.min())){const he=i.Ur.getLastRemoteSnapshotVersion(m).next(ke=>i.Ur.setTargetsMetadata(m,m.currentSequenceNumber,s));x.push(he)}return yt.waitFor(x).next(()=>y.apply(m)).next(()=>i.localDocuments.getLocalViewOfDocuments(m,L,X)).next(()=>L)}).then(m=>(i.os=u,m))}(i.localStore,n);n.targetChanges.forEach((u,m)=>{const y=i.Na.get(m);y&&(Et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.va=!0:u.modifiedDocuments.size>0?Et(y.va):u.removedDocuments.size>0&&(Et(y.va),y.va=!1))}),yield Va(i,s,n)}catch(s){yield Vr(s)}})).apply(this,arguments)}function gv(l,n,i){const s=Fe(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((m,y)=>{const x=y.view.Z_(n);x.snapshot&&u.push(x.snapshot)}),function(y,x){const L=Fe(y);L.onlineState=x;let X=!1;L.queries.forEach((he,ke)=>{for(const ot of ke.j_)ot.Z_(x)&&(X=!0)}),X&&h(L)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function Ug(l,n,i){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,c.A)(function*(l,n,i){const s=Fe(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),m=u&&u.key;if(m){let y=new lr(Le.comparator);y=y.insert(m,sr.newNoDocument(m,Kt.min()));const x=qn().add(m),L=new Ii(Kt.min(),new Map,new lr(Zt),y,x);yield jf(s,L),s.Oa=s.Oa.remove(m),s.Na.delete(n),Gf(s)}else yield Yo(s.localStore,n,!1).then(()=>Uu(s,n,i)).catch(Vr)})).apply(this,arguments)}function wh(l,n){return xc.apply(this,arguments)}function xc(){return(xc=(0,c.A)(function*(l,n){const i=Fe(l),s=n.batch.batchId;try{const u=yield function ih(l,n){const i=Fe(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),m=i.cs.newChangeBuffer({trackRemovals:!0});return function(x,L,X,he){const ke=X.batch,ot=ke.keys();let Ut=yt.resolve();return ot.forEach(on=>{Ut=Ut.next(()=>he.getEntry(L,on)).next(Cn=>{const fn=X.docVersions.get(on);Et(null!==fn),Cn.version.compareTo(fn)<0&&(ke.applyToRemoteDocument(Cn,X),Cn.isValidDocument()&&(Cn.setReadTime(X.commitVersion),he.addEntry(Cn)))})}),Ut.next(()=>x.mutationQueue.removeMutationBatch(L,ke))}(i,s,n,m).next(()=>m.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(x){let L=qn();for(let X=0;X<x.mutationResults.length;++X)x.mutationResults[X].transformResults.length>0&&(L=L.add(x.batch.mutations[X].key));return L}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);zf(i,s,null),$g(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Va(i,u)}catch(u){yield Vr(u)}})).apply(this,arguments)}function mv(l,n,i){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,c.A)(function*(l,n,i){const s=Fe(l);try{const u=yield function(y,x){const L=Fe(y);return L.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let he;return L.mutationQueue.lookupMutationBatch(X,x).next(ke=>(Et(null!==ke),he=ke.keys(),L.mutationQueue.removeMutationBatch(X,ke))).next(()=>L.mutationQueue.performConsistencyCheck(X)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(X,he,x)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,he)).next(()=>L.localDocuments.getDocuments(X,he))})}(s.localStore,n);zf(s,n,i),$g(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Va(s,u)}catch(u){yield Vr(u)}})).apply(this,arguments)}function Bg(){return(Bg=(0,c.A)(function*(l,n){const i=Fe(l);nl(i.remoteStore)||pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const x=Fe(y);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>x.mutationQueue.getHighestUnacknowledgedBatchId(L))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=il(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function $g(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function zf(l,n,i){const s=Fe(l);let u=s.Ba[s.currentUser.toKey()];if(u){const m=u.get(n);m&&(i?m.reject(i):m.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function Uu(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||vv(l,s)})}function vv(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(su(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),Gf(l))}function Vs(l,n,i){for(const s of i)s instanceof Rn?(l.La.addReference(s.key,n),jg(l,s)):s instanceof Zn?(pe("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||vv(l,s.key)):Nt()}function jg(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(pe("SyncEngine","New document in limbo: "+i),l.xa.add(s),Gf(l))}function Gf(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new Le(Tt.fromString(n)),s=l.qa.next();l.Na.set(s,new _a(i)),l.Oa=l.Oa.insert(i,s),Ml(l.remoteStore,new Ka(to(Ko(i.path)),s,"TargetPurposeLimboResolution",We.oe))}}function Va(l,n,i){return _v.apply(this,arguments)}function _v(){return _v=(0,c.A)(function*(l,n,i){const s=Fe(l),u=[],m=[],y=[];var x;s.Fa.isEmpty()||(s.Fa.forEach((x,L)=>{y.push(s.Ka(L,n,i).then(X=>{var he;if((X||i)&&s.isPrimaryClient){const ke=X?!X.fromCache:null===(he=null==i?void 0:i.targetChanges.get(L.targetId))||void 0===he?void 0:he.current;s.sharedClientState.updateQueryState(L.targetId,ke?"current":"not-current")}if(X){u.push(X);const ke=pc.Wi(L.targetId,X);m.push(ke)}}))}),yield Promise.all(y),s.Ca.d_(u),yield(x=(0,c.A)(function*(X,he){const ke=Fe(X);try{yield ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>yt.forEach(he,Ut=>yt.forEach(Ut.$i,on=>ke.persistence.referenceDelegate.addReference(ot,Ut.targetId,on)).next(()=>yt.forEach(Ut.Ui,on=>ke.persistence.referenceDelegate.removeReference(ot,Ut.targetId,on)))))}catch(ot){if(!Oe(ot))throw ot;pe("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of he){const Ut=ot.targetId;if(!ot.fromCache){const on=ke.os.get(Ut),fn=on.withLastLimboFreeSnapshotVersion(on.snapshotVersion);ke.os=ke.os.insert(Ut,fn)}}}),function L(X,he){return x.apply(this,arguments)})(s.localStore,m))}),_v.apply(this,arguments)}function oE(l,n){return cs.apply(this,arguments)}function cs(){return(cs=(0,c.A)(function*(l,n){const i=Fe(l);if(!i.currentUser.isEqual(n)){pe("SyncEngine","User change. New user:",n.toKey());const s=yield $i(i.localStore,n);i.currentUser=n,(m=i).ka.forEach(x=>{x.forEach(L=>{L.reject(new ee(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Va(i,s.hs)}var m})).apply(this,arguments)}function gd(l,n){const i=Fe(l),s=i.Na.get(n);if(s&&s.va)return qn().add(s.key);{let u=qn();const m=i.Ma.get(n);if(!m)return u;for(const y of m){const x=i.Fa.get(y);u=u.unionWith(x.view.Va)}return u}}function yv(l,n){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,c.A)(function*(l,n){const i=Fe(l),s=yield Mu(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&Vs(i,n.targetId,u.wa),u})).apply(this,arguments)}function Ty(l,n){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,c.A)(function*(l,n){const i=Fe(l);return Pu(i.localStore,n).then(s=>Va(i,s))})).apply(this,arguments)}function Dy(l,n,i,s){return qf.apply(this,arguments)}function qf(){return(qf=(0,c.A)(function*(l,n,i,s){const u=Fe(l),m=yield function(x,L){const X=Fe(x),he=Fe(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",ke=>he.Mn(ke,L).next(ot=>ot?X.localDocuments.getDocuments(ke,ot):yt.resolve(null)))}(u.localStore,n);var L;null!==m?("pending"===i?yield rl(u.remoteStore):"acknowledged"===i||"rejected"===i?(zf(u,n,s||null),$g(u,n),L=n,Fe(Fe(u.localStore).mutationQueue).On(L)):Nt(),yield Va(u,m)):pe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Xf(){return(Xf=(0,c.A)(function*(l,n){const i=Fe(l);if(Rh(i),Yf(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield Iv(i,s.toArray());i.Qa=!0,yield Ah(i.remoteStore,!0);for(const m of u)Ml(i.remoteStore,m)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((m,y)=>{i.sharedClientState.isLocalQueryTarget(y)?s.push(y):u=u.then(()=>(Uu(i,y),Yo(i.localStore,y,!0))),su(i.remoteStore,y)}),yield u,yield Iv(i,s),function(y){const x=Fe(y);x.Na.forEach((L,X)=>{su(x.remoteStore,X)}),x.La.pr(),x.Na=new Map,x.Oa=new lr(Le.comparator)}(i),i.Qa=!1,yield Ah(i.remoteStore,!1)}})).apply(this,arguments)}function Iv(l,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,c.A)(function*(l,n,i){const s=Fe(l),u=[],m=[];for(const y of n){let x;const L=s.Ma.get(y);if(L&&0!==L.length){x=yield ga(s.localStore,to(L[0]));for(const X of L){const he=s.Fa.get(X),ke=yield yv(s,he);ke.snapshot&&m.push(ke.snapshot)}}else{const X=yield ru(s.localStore,y);x=yield ga(s.localStore,X),yield Dh(s,Ev(X),y,!1,x.resumeToken)}u.push(x)}return s.Ca.d_(m),u})).apply(this,arguments)}function Ev(l){return xs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function wy(l){return i=Fe(l).localStore,Fe(Fe(i).persistence).Qi();var i}function Av(l,n,i,s){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,c.A)(function*(l,n,i,s){const u=Fe(l);if(u.Qa)return void pe("SyncEngine","Ignoring unexpected query state notification.");const m=u.Ma.get(n);if(m&&m.length>0)switch(i){case"current":case"not-current":{const y=yield Pu(u.localStore,Ie(m[0])),x=Ii.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,ri.EMPTY_BYTE_STRING);yield Va(u,y,x);break}case"rejected":yield Yo(u.localStore,n,!0),Uu(u,n,s);break;default:Nt()}})).apply(this,arguments)}function Cv(l,n,i){return md.apply(this,arguments)}function md(){return(md=(0,c.A)(function*(l,n,i){const s=Rh(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){pe("SyncEngine","Adding an already active target "+u);continue}const m=yield ru(s.localStore,u),y=yield ga(s.localStore,m);yield Dh(s,Ev(m),y.targetId,!1,y.resumeToken),Ml(s.remoteStore,y)}for(const u of i)s.Ma.has(u)&&(yield Yo(s.localStore,u,!1).then(()=>{su(s.remoteStore,u),Uu(s,u)}).catch(Vr))}})).apply(this,arguments)}function Rh(l){const n=Fe(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=jf.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Ug.bind(null,n),n.Ca.d_=fv.bind(null,n.eventManager),n.Ca.$a=I.bind(null,n.eventManager),n}function Yf(l){const n=Fe(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=wh.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=mv.bind(null,n),n}let Nc=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,c.A)(function*(){s.serializer=Ou(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return wl(this.persistence,new Mf,i.initialUser,this.serializer)}Ga(i){return new th(wu.Zr,this.serializer)}Wa(i){return new rd}terminate(){var i=this;return(0,c.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class zg extends Nc{constructor(n,i,s){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,c.A)(function*(){yield i().call(s,n),yield s.Ja.initialize(s,n),yield Yf(s.Ja.syncEngine),yield rl(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return wl(this.persistence,new Mf,n.initialUser,this.serializer)}ja(n,i){return new bf(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const s=new Re(i,this.persistence);return new Te(n.asyncQueue,s)}Ga(n){const i=nd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new hc(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,ph(),Ic(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new rd}}class Dv extends zg{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,c.A)(function*(){yield i().call(s,n);const u=s.Ja.syncEngine;s.sharedClientState instanceof Nf&&(s.sharedClientState.syncEngine={no:Dy.bind(null,u),ro:Av.bind(null,u),io:Cv.bind(null,u),Qi:wy.bind(null,u),eo:Ty.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var m=(0,c.A)(function*(y){yield function by(l,n){return Xf.apply(this,arguments)}(s.Ja.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}Wa(n){const i=ph();if(!Nf.D(i))throw new ee(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=nd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Nf(i,n.asyncQueue,s,n.clientId,n.initialUser)}}let vd=(()=>{class l{initialize(i,s){var u=this;return(0,c.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=m=>gv(u.syncEngine,m,1),u.remoteStore.remoteSyncer.handleCredentialChange=oE.bind(null,u.syncEngine),yield Ah(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Fg}createDatastore(i){const s=Ou(i.databaseInfo.databaseId),u=new od(i.databaseInfo);return new Ac(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,m=this.datastore,y=i.asyncQueue,x=s=>gv(this.syncEngine,s,0),L=id.D()?new id:new el,new sd(u,m,y,x,L);var u,m,y,x,L}createSyncEngine(i,s){return function(m,y,x,L,X,he,ke){const ot=new Rc(m,y,x,L,X,he);return ke&&(ot.Qa=!0),ot}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,c.A)(function*(){var s,u,m;yield(m=(0,c.A)(function*(x){const L=Fe(x);pe("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield ou(L),L.k_.shutdown(),L.q_.set("Unknown")}),function y(x){return m.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function Gg(l,n=10240){let i=0;return{read:()=>(0,c.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Wg{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):De("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class bv{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new ye,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,c.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,c.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,c.A)(function*(){const i=yield n.nu();if(null===i)return null;const s=n.eu.decode(i),u=Number(s);isNaN(u)&&n.ru(`length string (${s}) is not valid number`);const m=yield n.iu(u);return new ce(JSON.parse(m),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,c.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}iu(n){var i=this;return(0,c.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,c.A)(function*(){const i=yield n.Xa.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class Ry{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,c.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new ee(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,c.A)(function*(y,x){const L=Fe(y),X={documents:x.map(Ut=>Pa(L.serializer,Ut))},he=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,Tt.emptyPath(),X,x.length),ke=new Map;he.forEach(Ut=>{const on=function rc(l,n){return"found"in n?function(s,u){Et(!!u.found);const m=ho(s,u.found.name),y=Ei(u.found.updateTime),x=u.found.createTime?Ei(u.found.createTime):Kt.min(),L=new Tn({mapValue:{fields:u.found.fields}});return sr.newFoundDocument(m,y,x,L)}(l,n):"missing"in n?function(s,u){Et(!!u.missing),Et(!!u.readTime);const m=ho(s,u.missing),y=Ei(u.readTime);return sr.newNoDocument(m,y)}(l,n):Nt()}(L.serializer,Ut);ke.set(on.key.toString(),on)});const ot=[];return x.forEach(Ut=>{const on=ke.get(Ut.toString());Et(!!on),ot.push(on)}),ot}),function m(y,x){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new as(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,c.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const m=Le.fromPath(u);n.mutations.push(new Gl(m,n.precondition(m)))}),yield(s=(0,c.A)(function*(m,y){const x=Fe(m),L={writes:y.map(X=>Ni(x.serializer,X))};yield x.Mo("Commit",x.serializer.databaseId,Tt.emptyPath(),L)}),function u(m,y){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Nt();i=Kt.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new ee(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Kt.min())?Si.exists(!1):Si.updateTime(i):Si.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Kt.min()))throw new ee(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Si.updateTime(i)}return Si.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class My{constructor(n,i,s,u,m){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=m,this._u=s.maxAttempts,this.t_=new gh(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,c.A)(function*(){const i=new Ry(n.datastore),s=n.cu(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(m=>{n.lu(m)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!Lt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Gt(i)}return!1}}class sE{constructor(n,i,s,u,m){var y=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=_e.UNAUTHENTICATED,this.clientId=dn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(s,function(){var x=(0,c.A)(function*(L){pe("FirestoreClient","Received user=",L.uid),yield y.authCredentialListener(L),y.user=L});return function(L){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(s,x=>(pe("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new ye;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=il(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Kg(l,n){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,c.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,c.A)(function*(m){s.isEqual(m)||(yield $i(n.localStore,m),s=m)});return function(m){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),Zf.apply(this,arguments)}function Jf(l,n){return qg.apply(this,arguments)}function qg(){return(qg=(0,c.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield kl(l);pe("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>Zo(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>Zo(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function kl(l){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kg(l,l._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Ot("Error using user provided cache. Falling back to memory cache: "+n),yield Kg(l,new Nc)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),yield Kg(l,new Nc);var u;return l._offlineComponents})).apply(this,arguments)}function ep(l){return tp.apply(this,arguments)}function tp(){return(tp=(0,c.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jf(l,l._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),yield Jf(l,new vd))),l._onlineComponents})).apply(this,arguments)}function Mh(l){return kl(l).then(n=>n.persistence)}function Ph(l){return kl(l).then(n=>n.localStore)}function Py(l){return ep(l).then(n=>n.remoteStore)}function Xg(l){return ep(l).then(n=>n.syncEngine)}function yd(l){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,c.A)(function*(l){const n=yield ep(l),i=n.eventManager;return i.onListen=Bf.bind(null,n.syncEngine),i.onUnlisten=Lg.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=$f.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Ol.bind(null,n.syncEngine),i})).apply(this,arguments)}function rp(l,n,i={}){const s=new ye;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(m,y,x,L,X){const he=new Wg({next:ot=>{he.Za(),y.enqueueAndForget(()=>hd(m,ke));const Ut=ot.docs.has(x);!Ut&&ot.fromCache?X.reject(new ee(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Ut&&ot.fromCache&&L&&"server"===L.source?X.reject(new ee(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(ot)},error:ot=>X.reject(ot)}),ke=new G(Ko(x.path),he,{includeMetadataChanges:!0,_a:!0});return Ls(m,ke)}(yield yd(l),l.asyncQueue,n,i,s)})),s.promise}function Oc(l,n,i={}){const s=new ye;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(m,y,x,L,X){const he=new Wg({next:ot=>{he.Za(),y.enqueueAndForget(()=>hd(m,ke)),ot.fromCache&&"server"===L.source?X.reject(new ee(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(ot)},error:ot=>X.reject(ot)}),ke=new G(x,he,{includeMetadataChanges:!0,_a:!0});return Ls(m,ke)}(yield yd(l),l.asyncQueue,n,i,s)})),s.promise}function kc(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const kh=new Map;function Rv(l,n,i){if(!i)throw new ee(Y.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function op(l,n,i,s){if(!0===n&&!0===s)throw new ee(Y.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function Ad(l){if(!Le.isDocumentKey(l))throw new ee(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Mv(l){if(Le.isDocumentKey(l))throw new ee(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Fh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":Nt()}function ai(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ee(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fh(l);throw new ee(Y.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function Pv(l,n){if(n<=0)throw new ee(Y.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class sp{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new ee(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ee(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}op("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kc(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Cd{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ee(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sp(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Ae;switch(s.type){case"firstParty":return new rt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,c.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=kh.get(i);s&&(pe("ComponentProvider","Removing Datastore"),kh.delete(i),s.terminate())}(this),Promise.resolve()}}function xv(l,n,i,s={}){var u;const m=(l=ai(l,Cd))._getSettings(),y=`${n}:${i}`;if("firestore.googleapis.com"!==m.host&&m.host!==y&&Ot("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},m),{host:y,ssl:!1})),s.mockUserToken){let x,L;if("string"==typeof s.mockUserToken)x=s.mockUserToken,L=_e.MOCK_USER;else{x=(0,ie.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const X=s.mockUserToken.sub||s.mockUserToken.user_id;if(!X)throw new ee(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new _e(X)}l._authCredentials=new Qe(new re(x,L))}}class Is{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Is(this.firestore,n,this._query)}}class oo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new oo(this.firestore,n,this._key)}}class ol extends Is{constructor(n,i,s){super(n,i,Ko(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new oo(this.firestore,null,new Le(n))}withConverter(n){return new ol(this.firestore,n,this._path)}}function Zg(l,n,...i){if(l=(0,ie.Ku)(l),Rv("collection","path",n),l instanceof Cd){const s=Tt.fromString(n,...i);return Mv(s),new ol(l,null,s)}{if(!(l instanceof oo||l instanceof ol))throw new ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Tt.fromString(n,...i));return Mv(s),new ol(l.firestore,null,s)}}function Ny(l,n){if(l=ai(l,Cd),Rv("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new ee(Y.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(l,null,(s=n,new Eo(Tt.emptyPath(),s)));var s}function Oy(l,n,...i){if(l=(0,ie.Ku)(l),1===arguments.length&&(n=dn.newId()),Rv("doc","path",n),l instanceof Cd){const s=Tt.fromString(n,...i);return Ad(s),new oo(l,null,new Le(s))}{if(!(l instanceof oo||l instanceof ol))throw new ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Tt.fromString(n,...i));return Ad(s),new oo(l.firestore,l instanceof ol?l.converter:null,new Le(s))}}function lE(l,n){return l=(0,ie.Ku)(l),n=(0,ie.Ku)(n),(l instanceof oo||l instanceof ol)&&(n instanceof oo||n instanceof ol)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Fc(l,n){return l=(0,ie.Ku)(l),n=(0,ie.Ku)(n),l instanceof Is&&n instanceof Is&&l.firestore===n.firestore&&v(l._query,n._query)&&l.converter===n.converter}class Nv{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gh(this,"async_queue_retry"),this.Vu=()=>{const s=Ic();s&&pe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=n;const i=Ic();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=Ic();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new ye;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,c.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!Oe(i))throw i;pe("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(s=>{throw this.Eu=s,this.du=!1,De("INTERNAL UNHANDLED ERROR: ",function(y){let x=y.message||"";return y.stack&&(x=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),x}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(n,i,s){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=au.createAndSchedule(this,n,i,s,m=>this.yu(m));return this.Tu.push(u),u}fu(){this.Eu&&Nt()}verifyOperationInProgress(){}wu(){var n=this;return(0,c.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function Td(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(l)}class Jg{constructor(){this._progressObserver={},this._taskCompletionResolver=new ye,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const Ov=-1;class Ji extends Cd{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new Nv,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,c.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new Nv(i),n._firestoreClient=void 0,yield i}})()}}function po(l){if(l._terminated)throw new ee(Y.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||Bu(l),l._firestoreClient}function Bu(l){var n,i,s;const u=l._freezeSettings(),m=(L=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Ki(l._databaseId,L,l._persistenceKey,(he=u).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,kc(he.experimentalLongPollingOptions),he.useFetchStreams));var L,he;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new sE(l._authCredentials,l._appCheckCredentials,l._queue,m,l._componentsProvider&&function(x){const L=null==x?void 0:x._online.build();return{_offline:null==x?void 0:x._offline.build(L),_online:L}}(l._componentsProvider))}function Fv(l,n){Ot("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return em(l,vd.provider,{build:s=>new zg(s,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}function ap(l){return lp.apply(this,arguments)}function lp(){return(lp=(0,c.A)(function*(l){Ot("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=l._freezeSettings();em(l,vd.provider,{build:i=>new Dv(i,n.cacheSizeBytes)})})).apply(this,arguments)}function em(l,n,i){if((l=ai(l,Ji))._firestoreClient||l._terminated)throw new ee(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new ee(Y.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:n,_offline:i},Bu(l)}function Lv(l){if(l._initialized&&!l._terminated)throw new ee(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new ye;return l._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(i=(0,c.A)(function*(u){if(!Vt.D())return Promise.resolve();const m=u+"main";yield Vt.delete(m)}),function s(u){return i.apply(this,arguments)})(nd(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}function tm(l){return function(i){const s=new ye;return i.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Cy(l,n){return Bg.apply(this,arguments)}(yield Xg(i),s)})),s.promise}(po(l=ai(l,Ji)))}function Vv(l){return function aE(l){return l.asyncQueue.enqueue((0,c.A)(function*(){const n=yield Mh(l),i=yield Py(l);return n.setNetworkEnabled(!0),function(u){const m=Fe(u);return m.L_.delete(0),tl(m)}(i)}))}(po(l=ai(l,Ji)))}function up(l){return function np(l){return l.asyncQueue.enqueue((0,c.A)(function*(){const n=yield Mh(l),i=yield Py(l);return n.setNetworkEnabled(!1),(s=(0,c.A)(function*(m){const y=Fe(m);y.L_.add(0),yield ou(y),y.q_.set("Offline")}),function u(m){return s.apply(this,arguments)})(i);var s}))}(po(l=ai(l,Ji)))}function Dd(l,n){const i=po(l=ai(l,Ji)),s=new Jg;return function Id(l,n,i,s){const u=function(y,x){let L;return L="string"==typeof y?Yr().encode(y):y,he=function(he){if(he instanceof Uint8Array)return Gg(he,void 0);if(he instanceof ArrayBuffer)return Gg(new Uint8Array(he),void 0);if(he instanceof ReadableStream)return he.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new bv(he,x);var he}(i,Ou(n));l.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Tv(l,n,i){const s=Fe(l);var u;(u=(0,c.A)(function*(y,x,L){try{const X=yield x.getMetadata();if(yield function(on,Cn){const fn=Fe(on),ar=Ei(Cn.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",yr=>fn.Gr.getBundleMetadata(yr,Cn.id)).then(yr=>!!yr&&yr.createTime.compareTo(ar)>=0)}(y.localStore,X))return yield x.close(),L._completeWith({taskState:"Success",documentsLoaded:(on=X).totalDocuments,bytesLoaded:on.totalBytes,totalDocuments:on.totalDocuments,totalBytes:on.totalBytes}),Promise.resolve(new Set);L._updateProgress(nn(X));const he=new xt(X,y.localStore,x.serializer);let ke=yield x.Ua();for(;ke;){const Ut=yield he.la(ke);Ut&&L._updateProgress(Ut),ke=yield x.Ua()}const ot=yield he.complete();return yield Va(y,ot.Ia,void 0),yield function(on,Cn){const fn=Fe(on);return fn.persistence.runTransaction("Save bundle","readwrite",ar=>fn.Gr.saveBundleMetadata(ar,Cn))}(y.localStore,X),L._completeWith(ot.progress),Promise.resolve(ot.Pa)}catch(X){return Ot("SyncEngine",`Loading bundle failed with ${X}`),L._failWith(X),Promise.resolve(new Set)}var on}),function m(y,x,L){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Xg(l),u,s)}))}(i,l._databaseId,n,s),s}function Fy(l,n){return function Nh(l,n){return l.asyncQueue.enqueue((0,c.A)(function*(){return function(s,u){const m=Fe(s);return m.persistence.runTransaction("Get named query","readonly",y=>m.Gr.getNamedQuery(y,u))}(yield Ph(l),n)}))}(po(l=ai(l,Ji)),n).then(i=>i?new Is(l,null,i.query):null)}class sl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new sl(ri.fromBase64String(n))}catch(i){throw new ee(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new sl(ri.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Fl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new ee(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class $u{constructor(n){this._methodName=n}}class Vh{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new ee(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new ee(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Zt(this._lat,n._lat)||Zt(this._long,n._long)}}class Uh{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let m=0;m<s.length;++m)if(s[m]!==u[m])return!1;return!0}(this._values,n._values)}}const Vy=/^__.*__$/;class Uy{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Uo(n,this.data,this.fieldMask,i,this.fieldTransforms):new Js(n,this.data,i,this.fieldTransforms)}}class Bv{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Uo(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function $v(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class cp{constructor(n,i,s,u,m,y){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new cp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.Ou(n),u}Nu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return im(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if($v(this.Cu)&&Vy.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class ju{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||Ou(n)}Qu(n,i,s,u=!1){return new cp({Cu:n,methodName:i,qu:s,path:bt.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function al(l){const n=l._freezeSettings(),i=Ou(l._databaseId);return new ju(l._databaseId,!!n.ignoreUndefinedProperties,i)}function dp(l,n,i,s,u,m={}){const y=l.Qu(m.merge||m.mergeFields?2:0,n,i,u);Vc("Data must be an object, but it was:",y,s);const x=pp(s,y);let L,X;if(m.merge)L=new Di(y.fieldMask),X=y.fieldTransforms;else if(m.mergeFields){const he=[];for(const ke of m.mergeFields){const ot=bd(n,ke,i);if(!y.contains(ot))throw new ee(Y.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);$y(he,ot)||he.push(ot)}L=new Di(he),X=y.fieldTransforms.filter(ke=>L.covers(ke.field))}else L=null,X=y.fieldTransforms;return new Uy(new Tn(x),L,X)}class hp extends $u{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof hp}}function By(l,n,i){return new cp({Cu:3,qu:n.settings.qu,methodName:l._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class jv extends $u{_toFieldTransform(n){return new wa(n.path,new Zs)}isEqual(n){return n instanceof jv}}class Hv extends $u{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=By(this,n,!0),s=this.Ku.map(m=>Lc(m,i)),u=new ja(s);return new wa(n.path,u)}isEqual(n){return n instanceof Hv&&(0,ie.bD)(this.Ku,n.Ku)}}class zv extends $u{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=By(this,n,!0),s=this.Ku.map(m=>Lc(m,i)),u=new ba(s);return new wa(n.path,u)}isEqual(n){return n instanceof zv&&(0,ie.bD)(this.Ku,n.Ku)}}class fp extends $u{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new Hs(n.serializer,aa(n.serializer,this.$u));return new wa(n.path,i)}isEqual(n){return n instanceof fp&&this.$u===n.$u}}function nm(l,n,i,s){const u=l.Qu(1,n,i);Vc("Data must be an object, but it was:",u,s);const m=[],y=Tn.empty();or(s,(L,X)=>{const he=Bh(n,L,i);X=(0,ie.Ku)(X);const ke=u.Nu(he);if(X instanceof hp)m.push(he);else{const ot=Lc(X,ke);null!=ot&&(m.push(he),y.set(he,ot))}});const x=new Di(m);return new Bv(y,x,u.fieldTransforms)}function rm(l,n,i,s,u,m){const y=l.Qu(1,n,i),x=[bd(n,s,i)],L=[u];if(m.length%2!=0)throw new ee(Y.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<m.length;ot+=2)x.push(bd(n,m[ot])),L.push(m[ot+1]);const X=[],he=Tn.empty();for(let ot=x.length-1;ot>=0;--ot)if(!$y(X,x[ot])){const Ut=x[ot];let on=L[ot];on=(0,ie.Ku)(on);const Cn=y.Nu(Ut);if(on instanceof hp)X.push(Ut);else{const fn=Lc(on,Cn);null!=fn&&(X.push(Ut),he.set(Ut,fn))}}const ke=new Di(X);return new Bv(he,ke,y.fieldTransforms)}function Gv(l,n,i,s=!1){return Lc(i,l.Qu(s?4:3,n))}function Lc(l,n){if(Ll(l=(0,ie.Ku)(l)))return Vc("Unsupported field value:",n,l),pp(l,n);if(l instanceof $u)return function(s,u){if(!$v(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(s,u){const m=[];let y=0;for(const x of s){let L=Lc(x,u.Lu(y));null==L&&(L={nullValue:"NULL_VALUE"}),m.push(L),y++}return{arrayValue:{values:m}}}(l,n)}return function(s,u){if(null===(s=(0,ie.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return aa(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=_n.fromDate(s);return{timestampValue:Bo(u.serializer,m)}}if(s instanceof _n){const m=new _n(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bo(u.serializer,m)}}if(s instanceof Vh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sl)return{bytesValue:Ga(u.serializer,s._byteString)};if(s instanceof oo){const m=u.databaseId,y=s.firestore._databaseId;if(!y.isEqual(m))throw u.Bu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:vl(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Uh)return x=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(L=>{if("number"!=typeof L)throw x.Bu("VectorValues must only contain numeric values.");return no(x.serializer,L)})}}}}};var x;throw u.Bu(`Unsupported field value: ${Fh(s)}`)}(l,n)}function pp(l,n){const i={};return ti(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):or(l,(s,u)=>{const m=Lc(u,n.Mu(s));null!=m&&(i[s]=m)}),{mapValue:{fields:i}}}function Ll(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof _n||l instanceof Vh||l instanceof sl||l instanceof oo||l instanceof $u||l instanceof Uh)}function Vc(l,n,i){if(!Ll(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Fh(i);throw n.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function bd(l,n,i){if((n=(0,ie.Ku)(n))instanceof Fl)return n._internalPath;if("string"==typeof n)return Bh(l,n);throw im("Field path arguments must be of type string or ",l,!1,void 0,i)}const Wv=new RegExp("[~\\*/\\[\\]]");function Bh(l,n,i){if(n.search(Wv)>=0)throw im(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new Fl(...n.split("."))._internalPath}catch{throw im(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function im(l,n,i,s,u){const m=s&&!s.isEmpty(),y=void 0!==u;let x=`Function ${n}() called with invalid data`;i&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(m||y)&&(L+=" (found",m&&(L+=` in field ${s}`),y&&(L+=` in document ${u}`),L+=")"),new ee(Y.INVALID_ARGUMENT,x+l+L)}function $y(l,n){return l.some(i=>i.isEqual(n))}class gp{constructor(n,i,s,u,m){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new om(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(wd("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class om extends gp{data(){return super.data()}}function wd(l,n){return"string"==typeof n?Bh(l,n):n instanceof Fl?n._internalPath:n._delegate._internalPath}function jy(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new ee(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class Sd extends Kv{}function Hy(l,n,...i){let s=[];n instanceof Kv&&s.push(n),s=s.concat(i),function(m){const y=m.filter(L=>L instanceof Rd).length,x=m.filter(L=>L instanceof $h).length;if(y>1||y>0&&x>0)throw new ee(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class $h extends Sd{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new $h(n,i,s)}_apply(n){const i=this._parse(n);return Qv(n._query,i),new Is(n.firestore,n.converter,Ys(n._query,i))}_parse(n){const i=al(n.firestore);return function(m,y,x,L,X,he,ke){let ot;if(X.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new ee(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){Xv(ke,he);const Ut=[];for(const on of ke)Ut.push(lm(L,m,on));ot={arrayValue:{values:Ut}}}else ot=lm(L,m,ke)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||Xv(ke,he),ot=Gv(x,"where",ke,"in"===he||"not-in"===he);return _r.create(X,he,ot)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function zy(l,n,i){const s=n,u=wd("where",l);return $h._create(u,s,i)}class Rd extends Kv{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Rd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Rr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,m){let y=u;const x=m.getFlattenedFilters();for(const L of x)Qv(y,L),y=Ys(y,L)}(n._query,i),new Is(n.firestore,n.converter,Ys(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mp extends Sd{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new mp(n,i)}_apply(n){const i=function(u,m,y){if(null!==u.startAt)throw new ee(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ee(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qi(m,y)}(n._query,this._field,this._direction);return new Is(n.firestore,n.converter,function(u,m){const y=u.explicitOrderBy.concat([m]);return new Eo(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function Wy(l,n="asc"){const i=n,s=wd("orderBy",l);return mp._create(s,i)}class vp extends Sd{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new vp(n,i,s)}_apply(n){return new Is(n.firestore,n.converter,W(n._query,this._limit,this._limitType))}}function qv(l){return Pv("limit",l),vp._create("limit",l,"F")}function _p(l){return Pv("limitToLast",l),vp._create("limitToLast",l,"L")}class yp extends Sd{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new yp(n,i,s)}_apply(n){const i=am(n,this.type,this._docOrFields,this._inclusive);return new Is(n.firestore,n.converter,(m=i,new Eo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,m,u.endAt)));var u,m}}function sm(...l){return yp._create("startAt",l,!0)}function Ky(...l){return yp._create("startAfter",l,!1)}class uu extends Sd{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new uu(n,i,s)}_apply(n){const i=am(n,this.type,this._docOrFields,this._inclusive);return new Is(n.firestore,n.converter,(m=i,new Eo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,m)));var u,m}}function qy(...l){return uu._create("endBefore",l,!1)}function Xy(...l){return uu._create("endAt",l,!0)}function am(l,n,i,s){if(i[0]=(0,ie.Ku)(i[0]),i[0]instanceof gp)return function(m,y,x,L,X){if(!L)throw new ee(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const he=[];for(const ke of ps(m))if(ke.field.isKeyField())he.push(O(y,L.key));else{const ot=L.data.field(ke.field);if(Do(ot))throw new ee(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Ut=ke.field.canonicalString();throw new ee(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ut}' (used as the orderBy) does not exist.`)}he.push(ot)}return new qr(he,X)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=al(l.firestore);return function(y,x,L,X,he,ke){const ot=y.explicitOrderBy;if(he.length>ot.length)throw new ee(Y.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ut=[];for(let on=0;on<he.length;on++){const Cn=he[on];if(ot[on].field.isKeyField()){if("string"!=typeof Cn)throw new ee(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof Cn}`);if(!Lo(y)&&-1!==Cn.indexOf("/"))throw new ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${Cn}' contains a slash.`);const fn=y.path.child(Tt.fromString(Cn));if(!Le.isDocumentKey(fn))throw new ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const ar=new Le(fn);Ut.push(O(x,ar))}else{const fn=Gv(L,X,Cn);Ut.push(fn)}}return new qr(Ut,ke)}(l._query,l.firestore._databaseId,u,n,i,s)}}function lm(l,n,i){if("string"==typeof(i=(0,ie.Ku)(i))){if(""===i)throw new ee(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lo(n)&&-1!==i.indexOf("/"))throw new ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(Tt.fromString(i));if(!Le.isDocumentKey(s))throw new ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return O(l,new Le(s))}if(i instanceof oo)return O(l,i._key);throw new ee(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(i)}.`)}function Xv(l,n){if(!Array.isArray(l)||0===l.length)throw new ee(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Qv(l,n){const i=function(u,m){for(const y of u)for(const x of y.getFlattenedFilters())if(m.indexOf(x.op)>=0)return x.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new ee(Y.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class um{convertValue(n,i="none"){switch(ii(n)){case 0:return null;case 1:return n.booleanValue;case 2:return di(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(bi(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Nt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return or(n,(u,m)=>{s[u]=this.convertValue(m,i)}),s}convertVectorValue(n){var i,s,u;const m=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(y=>di(y.doubleValue));return new Uh(m)}convertGeoPoint(n){return new Vh(di(n.latitude),di(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=lo(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(hs(n));default:return null}}convertTimestamp(n){const i=dr(n);return new _n(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=Tt.fromString(n);Et(Yl(s));const u=new Ar(s.get(1),s.get(3)),m=new Le(s.popFirst(5));return u.isEqual(i)||De(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),m}}function jh(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class dE extends um{constructor(n){super(),this.firestore=n}convertBytes(n){return new sl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new oo(this.firestore,null,i)}}class Hu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Uc extends gp{constructor(n,i,s,u,m,y){super(n,i,s,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=m}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(wd("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Hh extends Uc{data(n={}){return super.data(n)}}class Bc{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new Hh(this._firestore,this._userDataWriter,s.key,s,new Hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ee(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(x=>({type:"added",doc:new Hh(u._firestore,u._userDataWriter,x.doc.key,x.doc,new Hu(u._snapshot.mutatedKeys.has(x.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(x=>m||3!==x.type).map(x=>{const L=new Hh(u._firestore,u._userDataWriter,x.doc.key,x.doc,new Hu(u._snapshot.mutatedKeys.has(x.doc.key),u._snapshot.fromCache),u.query.converter);let X=-1,he=-1;return 0!==x.type&&(X=y.indexOf(x.doc.key),y=y.delete(x.doc.key)),1!==x.type&&(y=y.add(x.doc),he=y.indexOf(x.doc.key)),{type:Yy(x.type),doc:L,oldIndex:X,newIndex:he}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Yy(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function Zy(l,n){return l instanceof Uc&&n instanceof Uc?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Bc&&n instanceof Bc&&l._firestore===n._firestore&&Fc(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}function Jy(l){l=ai(l,oo);const n=ai(l.firestore,Ji);return rp(po(n),l._key).then(i=>Cp(n,l,i))}class Vl extends um{constructor(n){super(),this.firestore=n}convertBytes(n){return new sl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new oo(this.firestore,null,i)}}function pE(l){l=ai(l,oo);const n=ai(l.firestore,Ji),i=po(n),s=new Vl(n);return function xy(l,n){const i=new ye;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(m,y,x){try{const L=yield function(he,ke){const ot=Fe(he);return ot.persistence.runTransaction("read document","readonly",Ut=>ot.localDocuments.getDocument(Ut,ke))}(m,y);L.isFoundDocument()?x.resolve(L):L.isNoDocument()?x.resolve(null):x.reject(new ee(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const X=il(L,`Failed to get document '${y} from cache`);x.reject(X)}}),function u(m,y,x){return s.apply(this,arguments)})(yield Ph(l),n,i);var s})),i.promise}(i,l._key).then(u=>new Uc(n,s,l._key,u,new Hu(null!==u&&u.hasLocalMutations,!0),l.converter))}function gE(l){l=ai(l,oo);const n=ai(l.firestore,Ji);return rp(po(n),l._key,{source:"server"}).then(i=>Cp(n,l,i))}function cm(l){l=ai(l,Is);const n=ai(l.firestore,Ji),i=po(n),s=new Vl(n);return jy(l._query),Oc(i,l._query).then(u=>new Bc(n,s,l,u))}function mE(l){l=ai(l,Is);const n=ai(l.firestore,Ji),i=po(n),s=new Vl(n);return function Qg(l,n){const i=new ye;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(m,y,x){try{const L=yield Mu(m,y,!0),X=new Xn(y,L.Ts),he=X.ma(L.documents),ke=X.applyChanges(he,!1);x.resolve(ke.snapshot)}catch(L){const X=il(L,`Failed to execute query '${y} against cache`);x.reject(X)}}),function u(m,y,x){return s.apply(this,arguments)})(yield Ph(l),n,i);var s})),i.promise}(i,l._query).then(u=>new Bc(n,s,l,u))}function vE(l){l=ai(l,Is);const n=ai(l.firestore,Ji),i=po(n),s=new Vl(n);return Oc(i,l._query,{source:"server"}).then(u=>new Bc(n,s,l,u))}function _E(l,n,i){l=ai(l,oo);const s=ai(l.firestore,Ji),u=jh(l.converter,n,i);return $c(s,[dp(al(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,Si.none())])}function yE(l,n,i,...s){l=ai(l,oo);const u=ai(l.firestore,Ji),m=al(u);let y;return y="string"==typeof(n=(0,ie.Ku)(n))||n instanceof Fl?rm(m,"updateDoc",l._key,n,i,s):nm(m,"updateDoc",l._key,n),$c(u,[y.toMutation(l._key,Si.exists(!0))])}function IE(l){return $c(ai(l.firestore,Ji),[new as(l._key,Si.none())])}function e0(l,n){const i=ai(l.firestore,Ji),s=Oy(l),u=jh(l.converter,n);return $c(i,[dp(al(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,Si.exists(!1))]).then(()=>s)}function Ep(l,...n){var i,s,u;l=(0,ie.Ku)(l);let m={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||Td(n[y])||(m=n[y],y++);const x={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(Td(n[y])){const ke=n[y];n[y]=null===(i=ke.next)||void 0===i?void 0:i.bind(ke),n[y+1]=null===(s=ke.error)||void 0===s?void 0:s.bind(ke),n[y+2]=null===(u=ke.complete)||void 0===u?void 0:u.bind(ke)}let L,X,he;if(l instanceof oo)X=ai(l.firestore,Ji),he=Ko(l._key.path),L={next:ke=>{n[y]&&n[y](Cp(X,l,ke))},error:n[y+1],complete:n[y+2]};else{const ke=ai(l,Is);X=ai(ke.firestore,Ji),he=ke._query;const ot=new Vl(X);L={next:Ut=>{n[y]&&n[y](new Bc(X,ot,ke,Ut))},error:n[y+1],complete:n[y+2]},jy(l._query)}return function(ot,Ut,on,Cn){const fn=new Wg(Cn),ar=new G(Ut,fn,on);return ot.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Ls(yield yd(ot),ar)})),()=>{fn.Za(),ot.asyncQueue.enqueueAndForget((0,c.A)(function*(){return hd(yield yd(ot),ar)}))}}(po(X),he,x,L)}function Ap(l,n){return function ip(l,n){const i=new Wg(n);return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield yd(l),m=i,Fe(u).Y_.add(m),void m.next();var u,m})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield yd(l),m=i,void Fe(u).Y_.delete(m);var u,m}))}}(po(l=ai(l,Ji)),Td(n)?n:{next:n})}function $c(l,n){return function(s,u){const m=new ye;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function pv(l,n,i){return Vg.apply(this,arguments)}(yield Xg(s),u,m)})),m.promise}(po(l),n)}function Cp(l,n,i){const s=i.docs.get(n._key),u=new Vl(l);return new Uc(l,u,n._key,s,new Hu(i.hasPendingWrites,i.fromCache),n.converter)}const TE={maxAttempts:5};class zh{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=al(n)}set(n,i,s){this._verifyNotCommitted();const u=Ul(n,this._firestore),m=jh(u.converter,i,s),y=dp(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,s);return this._mutations.push(y.toMutation(u._key,Si.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const m=Ul(n,this._firestore);let y;return y="string"==typeof(i=(0,ie.Ku)(i))||i instanceof Fl?rm(this._dataReader,"WriteBatch.update",m._key,i,s,u):nm(this._dataReader,"WriteBatch.update",m._key,i),this._mutations.push(y.toMutation(m._key,Si.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Ul(n,this._firestore);return this._mutations=this._mutations.concat(new as(i._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ul(l,n){if((l=(0,ie.Ku)(l)).firestore!==n)throw new ee(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class dm extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=al(i)}get(i){const s=Ul(i,this._firestore),u=new dE(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Nt();const y=m[0];if(y.isFoundDocument())return new gp(this._firestore,u,y.key,y,s.converter);if(y.isNoDocument())return new gp(this._firestore,u,s._key,null,s.converter);throw Nt()})}set(i,s,u){const m=Ul(i,this._firestore),y=jh(m.converter,s,u),x=dp(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,u);return this._transaction.set(m._key,x),this}update(i,s,u,...m){const y=Ul(i,this._firestore);let x;return x="string"==typeof(s=(0,ie.Ku)(s))||s instanceof Fl?rm(this._dataReader,"Transaction.update",y._key,s,u,m):nm(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,x),this}delete(i){const s=Ul(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Ul(n,this._firestore),s=new Vl(this._firestore);return super.get(n).then(u=>new Uc(this._firestore,s,i._key,u._document,new Hu(!1,!1),i.converter))}}function a0(l,n,i){l=ai(l,Ji);const s=Object.assign(Object.assign({},TE),i);return function(m){if(m.maxAttempts<1)throw new ee(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,y,x){const L=new ye;return m.asyncQueue.enqueueAndForget((0,c.A)(function*(){const X=yield function wv(l){return ep(l).then(n=>n.datastore)}(m);new My(m.asyncQueue,X,x,y,L).au()})),L.promise}(po(l),u=>n(new dm(l,u)),s)}function Pd(){return new hp("deleteField")}function hm(){return new jv("serverTimestamp")}function e_(...l){return new Hv("arrayUnion",l)}function fm(...l){return new zv("arrayRemove",l)}function Tp(l){return new fp("increment",l)}!function(n,i=!0){Me=f.SDK_VERSION,(0,f._registerComponent)(new ne.uA("firestore",(s,{instanceIdentifier:u,options:m})=>{const y=s.getProvider("app").getImmediate(),x=new Ji(new Ke(s.getProvider("auth-internal")),new St(s.getProvider("app-check-internal")),function(X,he){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new ee(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ar(X.options.projectId,he)}(y,u),y);return m=Object.assign({useFetchStreams:i},m),x._setSettings(m),x},"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(Se,"4.7.3",n),(0,f.registerVersion)(Se,"4.7.3","esm2017")}()},1401:(mn,_t,k)=>{"use strict";k.d(_t,{Am:()=>zn,Bd:()=>De,FA:()=>rt,Fy:()=>dt,I9:()=>vn,Im:()=>Tt,Ku:()=>Ht,Ll:()=>pe,T9:()=>Se,Uj:()=>je,XA:()=>_e,ZQ:()=>at,bD:()=>bt,c1:()=>zt,cY:()=>Me,eX:()=>Ae,g:()=>Ve,gR:()=>Kt,hp:()=>hn,jZ:()=>Mt,lT:()=>Fe,lV:()=>Et,mS:()=>He,nr:()=>ye,p7:()=>Ot,sr:()=>Nt,tD:()=>Qn,u:()=>Ee,zW:()=>re,zw:()=>$e});const te=function(Te){const Re=[];let We=0;for(let Lt=0;Lt<Te.length;Lt++){let ft=Te.charCodeAt(Lt);ft<128?Re[We++]=ft:ft<2048?(Re[We++]=ft>>6|192,Re[We++]=63&ft|128):55296==(64512&ft)&&Lt+1<Te.length&&56320==(64512&Te.charCodeAt(Lt+1))?(ft=65536+((1023&ft)<<10)+(1023&Te.charCodeAt(++Lt)),Re[We++]=ft>>18|240,Re[We++]=ft>>12&63|128,Re[We++]=ft>>6&63|128,Re[We++]=63&ft|128):(Re[We++]=ft>>12|224,Re[We++]=ft>>6&63|128,Re[We++]=63&ft|128)}return Re},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,Re){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const We=Re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Lt=[];for(let ft=0;ft<Te.length;ft+=3){const pn=Te[ft],cn=ft+1<Te.length,Mr=cn?Te[ft+1]:0,$r=ft+2<Te.length,Hn=$r?Te[ft+2]:0;let Lr=(15&Mr)<<2|Hn>>6,Sr=63&Hn;$r||(Sr=64,cn||(Lr=64)),Lt.push(We[pn>>2],We[(3&pn)<<4|Mr>>4],We[Lr],We[Sr])}return Lt.join("")},encodeString(Te,Re){return this.HAS_NATIVE_SUPPORT&&!Re?btoa(Te):this.encodeByteArray(te(Te),Re)},decodeString(Te,Re){return this.HAS_NATIVE_SUPPORT&&!Re?atob(Te):function(Te){const Re=[];let We=0,Lt=0;for(;We<Te.length;){const ft=Te[We++];if(ft<128)Re[Lt++]=String.fromCharCode(ft);else if(ft>191&&ft<224){const pn=Te[We++];Re[Lt++]=String.fromCharCode((31&ft)<<6|63&pn)}else if(ft>239&&ft<365){const $r=((7&ft)<<18|(63&Te[We++])<<12|(63&Te[We++])<<6|63&Te[We++])-65536;Re[Lt++]=String.fromCharCode(55296+($r>>10)),Re[Lt++]=String.fromCharCode(56320+(1023&$r))}else{const pn=Te[We++],cn=Te[We++];Re[Lt++]=String.fromCharCode((15&ft)<<12|(63&pn)<<6|63&cn)}}return Re.join("")}(this.decodeStringToByteArray(Te,Re))},decodeStringToByteArray(Te,Re){this.init_();const We=Re?this.charToByteMapWebSafe_:this.charToByteMap_,Lt=[];for(let ft=0;ft<Te.length;){const pn=We[Te.charAt(ft++)],Mr=ft<Te.length?We[Te.charAt(ft)]:0;++ft;const Hn=ft<Te.length?We[Te.charAt(ft)]:64;++ft;const Un=ft<Te.length?We[Te.charAt(ft)]:64;if(++ft,null==pn||null==Mr||null==Hn||null==Un)throw new be;Lt.push(pn<<2|Mr>>4),64!==Hn&&(Lt.push(Mr<<4&240|Hn>>2),64!==Un&&Lt.push(Hn<<6&192|Un))}return Lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(Te){return function(Te){const Re=te(Te);return ae.encodeByteArray(Re,!0)}(Te).replace(/\./g,"")},Ee=function(Te){try{return ae.decodeString(Te,!0)}catch(Re){console.error("base64Decode failed: ",Re)}return null};function $e(Te,Re){if(!(Re instanceof Object))return Re;switch(Re.constructor){case Date:return new Date(Re.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return Re}for(const We in Re)!Re.hasOwnProperty(We)||!qe(We)||(Te[We]=$e(Te[We],Re[We]));return Te}function qe(Te){return"__proto__"!==Te}function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const st=()=>{try{return He().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Re=Te&&Ee(Te[1]);return Re&&JSON.parse(Re)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},Se=()=>{var Te;return null===(Te=st())||void 0===Te?void 0:Te.config},_e=Te=>{var Re;return null===(Re=st())||void 0===Re?void 0:Re[`_${Te}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Re,We)=>{this.resolve=Re,this.reject=We})}wrapCallback(Re){return(We,Lt)=>{We?this.reject(We):this.resolve(Lt),"function"==typeof Re&&(this.promise.catch(()=>{}),1===Re.length?Re(We):Re(We,Lt))}}}function dt(Te,Re){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Lt=Re||"demo-project",ft=Te.iat||0,pn=Te.sub||Te.user_id;if(!pn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const cn=Object.assign({iss:`https://securetoken.google.com/${Lt}`,aud:Lt,iat:ft,exp:ft+3600,auth_time:ft,sub:pn,user_id:pn,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(cn)),""].join(".")}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function pe(){var Te;const Re=null===(Te=st())||void 0===Te?void 0:Te.forceEnvironment;if("node"===Re)return!0;if("browser"===Re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return typeof window<"u"||Ot()}function Ot(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Nt(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const Te=at();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function ye(){return!pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((Te,Re)=>{try{let We=!0;const Lt="validate-browser-context-for-indexeddb-analytics-module",ft=self.indexedDB.open(Lt);ft.onsuccess=()=>{ft.result.close(),We||self.indexedDB.deleteDatabase(Lt),Te(!0)},ft.onupgradeneeded=()=>{We=!1},ft.onerror=()=>{var pn;Re((null===(pn=ft.error)||void 0===pn?void 0:pn.message)||"")}}catch(We){Re(We)}})}class Ve extends Error{constructor(Re,We,Lt){super(We),this.code=Re,this.customData=Lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(Re,We,Lt){this.service=Re,this.serviceName=We,this.errors=Lt}create(Re,...We){const Lt=We[0]||{},ft=`${this.service}/${Re}`,pn=this.errors[Re],cn=pn?function lt(Te,Re){return Te.replace(St,(We,Lt)=>{const ft=Re[Lt];return null!=ft?String(ft):`<${Lt}?>`})}(pn,Lt):"Error";return new Ve(ft,`${this.serviceName}: ${cn} (${ft}).`,Lt)}}const St=/\{\$([^}]+)}/g;function Kt(Te,Re){return Object.prototype.hasOwnProperty.call(Te,Re)}function Tt(Te){for(const Re in Te)if(Object.prototype.hasOwnProperty.call(Te,Re))return!1;return!0}function bt(Te,Re){if(Te===Re)return!0;const We=Object.keys(Te),Lt=Object.keys(Re);for(const ft of We){if(!Lt.includes(ft))return!1;const pn=Te[ft],cn=Re[ft];if(Le(pn)&&Le(cn)){if(!bt(pn,cn))return!1}else if(pn!==cn)return!1}for(const ft of Lt)if(!We.includes(ft))return!1;return!0}function Le(Te){return null!==Te&&"object"==typeof Te}function zn(Te){const Re=[];for(const[We,Lt]of Object.entries(Te))Array.isArray(Lt)?Lt.forEach(ft=>{Re.push(encodeURIComponent(We)+"="+encodeURIComponent(ft))}):Re.push(encodeURIComponent(We)+"="+encodeURIComponent(Lt));return Re.length?"&"+Re.join("&"):""}function vn(Te){const Re={};return Te.replace(/^\?/,"").split("&").forEach(Lt=>{if(Lt){const[ft,pn]=Lt.split("=");Re[decodeURIComponent(ft)]=decodeURIComponent(pn)}}),Re}function hn(Te){const Re=Te.indexOf("?");if(!Re)return"";const We=Te.indexOf("#",Re);return Te.substring(Re,We>0?We:void 0)}function Qn(Te,Re){const We=new kn(Te,Re);return We.subscribe.bind(We)}class kn{constructor(Re,We){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=We,this.task.then(()=>{Re(this)}).catch(Lt=>{this.error(Lt)})}next(Re){this.forEachObserver(We=>{We.next(Re)})}error(Re){this.forEachObserver(We=>{We.error(Re)}),this.close(Re)}complete(){this.forEachObserver(Re=>{Re.complete()}),this.close()}subscribe(Re,We,Lt){let ft;if(void 0===Re&&void 0===We&&void 0===Lt)throw new Error("Missing Observer.");ft=function fr(Te,Re){if("object"!=typeof Te||null===Te)return!1;for(const We of Re)if(We in Te&&"function"==typeof Te[We])return!0;return!1}(Re,["next","error","complete"])?Re:{next:Re,error:We,complete:Lt},void 0===ft.next&&(ft.next=pr),void 0===ft.error&&(ft.error=pr),void 0===ft.complete&&(ft.complete=pr);const pn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ft.error(this.finalError):ft.complete()}catch{}}),this.observers.push(ft),pn}unsubscribeOne(Re){void 0===this.observers||void 0===this.observers[Re]||(delete this.observers[Re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Re){if(!this.finalized)for(let We=0;We<this.observers.length;We++)this.sendOne(We,Re)}sendOne(Re,We){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Re])try{We(this.observers[Re])}catch(Lt){typeof console<"u"&&console.error&&console.error(Lt)}})}close(Re){this.finalized||(this.finalized=!0,void 0!==Re&&(this.finalError=Re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function Ht(Te){return Te&&Te._delegate?Te._delegate:Te}},4442:(mn,_t,k)=>{"use strict";k.d(_t,{L:()=>ie,a:()=>ae,b:()=>be,c:()=>Be,d:()=>je,g:()=>Fe}),k(5531);const ie="ionViewWillEnter",ae="ionViewDidEnter",be="ionViewWillLeave",Be="ionViewDidLeave",je="ionViewWillUnload",Fe=Y=>Y.classList.contains("ion-page")?Y:Y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Y},5531:(mn,_t,k)=>{"use strict";k.d(_t,{a:()=>Ee,c:()=>f,g:()=>je});class c{constructor(){this.m=new Map}reset(Y){this.m=new Map(Object.entries(Y))}get(Y,ee){const ye=this.m.get(Y);return void 0!==ye?ye:ee}getBoolean(Y,ee=!1){const ye=this.m.get(Y);return void 0===ye?ee:"string"==typeof ye?"true"===ye:!!ye}getNumber(Y,ee){const ye=parseFloat(this.m.get(Y));return isNaN(ye)?void 0!==ee?ee:NaN:ye}set(Y,ee){this.m.set(Y,ee)}}const f=new c,je=Fe=>ge(Fe),Ee=(Fe,Y)=>("string"==typeof Fe&&(Y=Fe,Fe=void 0),je(Fe).includes(Y)),ge=(Fe=window)=>{if(typeof Fe>"u")return[];Fe.Ionic=Fe.Ionic||{};let Y=Fe.Ionic.platforms;return null==Y&&(Y=Fe.Ionic.platforms=$e(Fe),Y.forEach(ee=>Fe.document.documentElement.classList.add(`plt-${ee}`))),Y},$e=Fe=>{const Y=f.get("platform");return Object.keys(zt).filter(ee=>{const ye=null==Y?void 0:Y[ee];return"function"==typeof ye?ye(Fe):zt[ee](Fe)})},He=Fe=>!!(De(Fe,/iPad/i)||De(Fe,/Macintosh/i)&&Se(Fe)),nt=Fe=>De(Fe,/android|sink/i),Se=Fe=>Ot(Fe,"(any-pointer:coarse)"),Me=Fe=>dt(Fe)||at(Fe),dt=Fe=>!!(Fe.cordova||Fe.phonegap||Fe.PhoneGap),at=Fe=>{const Y=Fe.Capacitor;return!(null==Y||!Y.isNative)},De=(Fe,Y)=>Y.test(Fe.navigator.userAgent),Ot=(Fe,Y)=>{var ee;return null===(ee=Fe.matchMedia)||void 0===ee?void 0:ee.call(Fe,Y).matches},zt={ipad:He,iphone:Fe=>De(Fe,/iPhone/i),ios:Fe=>De(Fe,/iPhone|iPod/i)||He(Fe),android:nt,phablet:Fe=>{const Y=Fe.innerWidth,ee=Fe.innerHeight,ye=Math.min(Y,ee),re=Math.max(Y,ee);return ye>390&&ye<520&&re>620&&re<800},tablet:Fe=>{const Y=Fe.innerWidth,ee=Fe.innerHeight,ye=Math.min(Y,ee),re=Math.max(Y,ee);return He(Fe)||(Fe=>nt(Fe)&&!De(Fe,/mobile/i))(Fe)||ye>460&&ye<820&&re>780&&re<1400},cordova:dt,capacitor:at,electron:Fe=>De(Fe,/electron/i),pwa:Fe=>{var Y;return!!(null!==(Y=Fe.matchMedia)&&void 0!==Y&&Y.call(Fe,"(display-mode: standalone)").matches||Fe.navigator.standalone)},mobile:Se,mobileweb:Fe=>Se(Fe)&&!Me(Fe),desktop:Fe=>!Se(Fe),hybrid:Me}},9986:(mn,_t,k)=>{"use strict";k.d(_t,{c:()=>ae});var c=k(8476);let f;const te=(be,Be,je)=>{const Ee=Be.startsWith("animation")?(be=>(void 0===f&&(f=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),f))(be):"";be.style.setProperty(Ee+Be,je)},ie=(be=[],Be)=>{if(void 0!==Be){const je=Array.isArray(Be)?Be:[Be];return[...be,...je]}return be},ae=be=>{let Be,je,Ee,ge,$e,qe,st,Mt,pe,De,Et,He=[],Ze=[],ct=[],nt=!1,It={},mt=[],Se=[],_e={},Me=0,dt=!1,at=!1,Ot=!0,zt=!1,Nt=!0,Dn=!1;const Fe=be,Y=[],ee=[],ye=[],re=[],Ae=[],Qe=[],Ke=[],Ve=[],rt=[],lt=[],St=[],An="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,sn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&An,dn=()=>St,Kt=(J,we)=>{const vt=we.findIndex(Bt=>Bt.c===J);vt>-1&&we.splice(vt,1)},Tt=(J,we)=>((null!=we&&we.oneTimeCallback?ee:Y).push({c:J,o:we}),Et),bt=()=>{sn&&(St.forEach(J=>{J.cancel()}),St.length=0)},Le=()=>{Qe.forEach(J=>{null!=J&&J.parentNode&&J.parentNode.removeChild(J)}),Qe.length=0},jn=()=>void 0!==$e?$e:st?st.getFill():"both",Vr=()=>void 0!==Mt?Mt:void 0!==qe?qe:st?st.getDirection():"normal",Ir=()=>dt?"linear":void 0!==Ee?Ee:st?st.getEasing():"linear",yt=()=>at?0:void 0!==pe?pe:void 0!==je?je:st?st.getDuration():0,Fr=()=>void 0!==ge?ge:st?st.getIterations():1,Vt=()=>void 0!==De?De:void 0!==Be?Be:st?st.getDelay():0,cn=()=>{0!==Me&&(Me--,0===Me&&((()=>{rt.forEach(rn=>rn()),lt.forEach(rn=>rn());const J=Ot?1:0,we=mt,vt=Se,Bt=_e;re.forEach(rn=>{const Bn=rn.classList;we.forEach(xn=>Bn.add(xn)),vt.forEach(xn=>Bn.remove(xn));for(const xn in Bt)Bt.hasOwnProperty(xn)&&te(rn,xn,Bt[xn])}),pe=void 0,Mt=void 0,De=void 0,Y.forEach(rn=>rn.c(J,Et)),ee.forEach(rn=>rn.c(J,Et)),ee.length=0,Nt=!0,Ot&&(zt=!0),Ot=!0})(),st&&st.animationFinish()))},$r=()=>{(()=>{Ke.forEach(Bt=>Bt()),Ve.forEach(Bt=>Bt());const J=Ze,we=ct,vt=It;re.forEach(Bt=>{const rn=Bt.classList;J.forEach(Bn=>rn.add(Bn)),we.forEach(Bn=>rn.remove(Bn));for(const Bn in vt)vt.hasOwnProperty(Bn)&&te(Bt,Bn,vt[Bn])})})(),He.length>0&&sn&&(re.forEach(J=>{const we=J.animate(He,{id:Fe,delay:Vt(),duration:yt(),easing:Ir(),iterations:Fr(),fill:jn(),direction:Vr()});we.pause(),St.push(we)}),St.length>0&&(St[0].onfinish=()=>{cn()})),nt=!0},Hn=J=>{J=Math.min(Math.max(J,0),.9999),sn&&St.forEach(we=>{we.currentTime=we.effect.getComputedTiming().delay+yt()*J,we.pause()})},Er=J=>{St.forEach(we=>{we.effect.updateTiming({delay:Vt(),duration:yt(),easing:Ir(),iterations:Fr(),fill:jn(),direction:Vr()})}),void 0!==J&&Hn(J)},Un=(J=!1,we=!0,vt)=>(J&&Ae.forEach(Bt=>{Bt.update(J,we,vt)}),sn&&Er(vt),Et),Pr=()=>{nt&&(sn?St.forEach(J=>{J.pause()}):re.forEach(J=>{te(J,"animation-play-state","paused")}),Dn=!0)},gr=J=>new Promise(we=>{null!=J&&J.sync&&(at=!0,Tt(()=>at=!1,{oneTimeCallback:!0})),nt||$r(),zt&&(sn&&(Hn(0),Er()),zt=!1),Nt&&(Me=Ae.length+1,Nt=!1);const vt=()=>{Kt(Bt,ee),we()},Bt=()=>{Kt(vt,ye),we()};Tt(Bt,{oneTimeCallback:!0}),(J=>{ye.push({c:J,o:{oneTimeCallback:!0}})})(vt),Ae.forEach(rn=>{rn.play()}),sn?(St.forEach(J=>{J.play()}),(0===He.length||0===re.length)&&cn()):cn(),Dn=!1}),K=(J,we)=>{const vt=He[0];return void 0===vt||void 0!==vt.offset&&0!==vt.offset?He=[{offset:0,[J]:we},...He]:vt[J]=we,Et};return Et={parentAnimation:st,elements:re,childAnimations:Ae,id:Fe,animationFinish:cn,from:K,to:(J,we)=>{const vt=He[He.length-1];return void 0===vt||void 0!==vt.offset&&1!==vt.offset?He=[...He,{offset:1,[J]:we}]:vt[J]=we,Et},fromTo:(J,we,vt)=>K(J,we).to(J,vt),parent:J=>(st=J,Et),play:gr,pause:()=>(Ae.forEach(J=>{J.pause()}),Pr(),Et),stop:()=>{Ae.forEach(J=>{J.stop()}),nt&&(bt(),nt=!1),dt=!1,at=!1,Nt=!0,Mt=void 0,pe=void 0,De=void 0,Me=0,zt=!1,Ot=!0,Dn=!1,ye.forEach(J=>J.c(0,Et)),ye.length=0},destroy:J=>(Ae.forEach(we=>{we.destroy(J)}),(J=>{bt(),J&&Le()})(J),re.length=0,Ae.length=0,He.length=0,Y.length=0,ee.length=0,nt=!1,Nt=!0,Et),keyframes:J=>{const we=He!==J;return He=J,we&&(J=>{sn&&dn().forEach(we=>{const vt=we.effect;if(vt.setKeyframes)vt.setKeyframes(J);else{const Bt=new KeyframeEffect(vt.target,J,vt.getTiming());we.effect=Bt}})})(He),Et},addAnimation:J=>{if(null!=J)if(Array.isArray(J))for(const we of J)we.parent(Et),Ae.push(we);else J.parent(Et),Ae.push(J);return Et},addElement:J=>{if(null!=J)if(1===J.nodeType)re.push(J);else if(J.length>=0)for(let we=0;we<J.length;we++)re.push(J[we]);else console.error("Invalid addElement value");return Et},update:Un,fill:J=>($e=J,Un(!0),Et),direction:J=>(qe=J,Un(!0),Et),iterations:J=>(ge=J,Un(!0),Et),duration:J=>(!sn&&0===J&&(J=1),je=J,Un(!0),Et),easing:J=>(Ee=J,Un(!0),Et),delay:J=>(Be=J,Un(!0),Et),getWebAnimations:dn,getKeyframes:()=>He,getFill:jn,getDirection:Vr,getDelay:Vt,getIterations:Fr,getEasing:Ir,getDuration:yt,afterAddRead:J=>(rt.push(J),Et),afterAddWrite:J=>(lt.push(J),Et),afterClearStyles:(J=[])=>{for(const we of J)_e[we]="";return Et},afterStyles:(J={})=>(_e=J,Et),afterRemoveClass:J=>(Se=ie(Se,J),Et),afterAddClass:J=>(mt=ie(mt,J),Et),beforeAddRead:J=>(Ke.push(J),Et),beforeAddWrite:J=>(Ve.push(J),Et),beforeClearStyles:(J=[])=>{for(const we of J)It[we]="";return Et},beforeStyles:(J={})=>(It=J,Et),beforeRemoveClass:J=>(ct=ie(ct,J),Et),beforeAddClass:J=>(Ze=ie(Ze,J),Et),onFinish:Tt,isRunning:()=>0!==Me&&!Dn,progressStart:(J=!1,we)=>(Ae.forEach(vt=>{vt.progressStart(J,we)}),Pr(),dt=J,nt||$r(),Un(!1,!0,we),Et),progressStep:J=>(Ae.forEach(we=>{we.progressStep(J)}),Hn(J),Et),progressEnd:(J,we,vt)=>(dt=!1,Ae.forEach(Bt=>{Bt.progressEnd(J,we,vt)}),void 0!==vt&&(pe=vt),zt=!1,Ot=!0,0===J?(Mt="reverse"===Vr()?"normal":"reverse","reverse"===Mt&&(Ot=!1),sn?(Un(),Hn(1-we)):(De=(1-we)*yt()*-1,Un(!1,!1))):1===J&&(sn?(Un(),Hn(we)):(De=we*yt()*-1,Un(!1,!1))),void 0!==J&&!st&&gr(),Et)}}},464:(mn,_t,k)=>{"use strict";k.d(_t,{E:()=>Ee,a:()=>c,s:()=>Be});const c=ge=>{try{if(ge instanceof be)return ge.value;if(!te()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const $e=document.createDocumentFragment(),qe=document.createElement("div");$e.appendChild(qe),qe.innerHTML=ge,ae.forEach(nt=>{const st=$e.querySelectorAll(nt);for(let It=st.length-1;It>=0;It--){const mt=st[It];mt.parentNode?mt.parentNode.removeChild(mt):$e.removeChild(mt);const Se=ne(mt);for(let _e=0;_e<Se.length;_e++)f(Se[_e])}});const He=ne($e);for(let nt=0;nt<He.length;nt++)f(He[nt]);const Ze=document.createElement("div");Ze.appendChild($e);const ct=Ze.querySelector("div");return null!==ct?ct.innerHTML:Ze.innerHTML}catch($e){return console.error($e),""}},f=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let qe=ge.attributes.length-1;qe>=0;qe--){const He=ge.attributes.item(qe),Ze=He.name;if(!ie.includes(Ze.toLowerCase())){ge.removeAttribute(Ze);continue}const ct=He.value,nt=ge[Ze];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=nt&&nt.toLowerCase().includes("javascript:"))&&ge.removeAttribute(Ze)}const $e=ne(ge);for(let qe=0;qe<$e.length;qe++)f($e[qe])},ne=ge=>null!=ge.children?ge.children:ge.childNodes,te=()=>{var ge;const $e=window,qe=null===(ge=null==$e?void 0:$e.Ionic)||void 0===ge?void 0:ge.config;return!qe||(qe.get?qe.get("sanitizerEnabled",!0):!0===qe.sanitizerEnabled||void 0===qe.sanitizerEnabled)},ie=["class","id","href","src","name","slot"],ae=["script","style","iframe","meta","link","object","embed"];class be{constructor($e){this.value=$e}}const Be=ge=>{const $e=window,qe=$e.Ionic;if(!qe||!qe.config||"Object"===qe.config.constructor.name)return $e.Ionic=$e.Ionic||{},$e.Ionic.config=Object.assign(Object.assign({},$e.Ionic.config),ge),$e.Ionic.config},Ee=!1},8621:(mn,_t,k)=>{"use strict";k.d(_t,{C:()=>ie,a:()=>ne,d:()=>te});var c=k(467),f=k(4920);const ne=function(){var ae=(0,c.A)(function*(be,Be,je,Ee,ge,$e){var qe;if(be)return be.attachViewToDom(Be,je,ge,Ee);if(!($e||"string"==typeof je||je instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof je?null===(qe=Be.ownerDocument)||void 0===qe?void 0:qe.createElement(je):je;return Ee&&Ee.forEach(Ze=>He.classList.add(Ze)),ge&&Object.assign(He,ge),Be.appendChild(He),yield new Promise(Ze=>(0,f.c)(He,Ze)),He});return function(Be,je,Ee,ge,$e,qe){return ae.apply(this,arguments)}}(),te=(ae,be)=>{if(be){if(ae)return ae.removeViewFromDom(be.parentElement,be);be.remove()}return Promise.resolve()},ie=()=>{let ae,be;return{attachViewToDom:function(){var Ee=(0,c.A)(function*(ge,$e,qe={},He=[]){var Ze,ct;let nt;if(ae=ge,$e){const It="string"==typeof $e?null===(Ze=ae.ownerDocument)||void 0===Ze?void 0:Ze.createElement($e):$e;He.forEach(mt=>It.classList.add(mt)),Object.assign(It,qe),ae.appendChild(It),nt=It,yield new Promise(mt=>(0,f.c)(It,mt))}else if(ae.children.length>0&&("ION-MODAL"===ae.tagName||"ION-POPOVER"===ae.tagName)&&!(nt=ae.children[0]).classList.contains("ion-delegate-host")){const mt=null===(ct=ae.ownerDocument)||void 0===ct?void 0:ct.createElement("div");mt.classList.add("ion-delegate-host"),He.forEach(Se=>mt.classList.add(Se)),mt.append(...ae.children),ae.appendChild(mt),nt=mt}const st=document.querySelector("ion-app")||document.body;return be=document.createComment("ionic teleport"),ae.parentNode.insertBefore(be,ae),st.appendChild(ae),null!=nt?nt:ae});return function($e,qe){return Ee.apply(this,arguments)}}(),removeViewFromDom:()=>(ae&&be&&(be.parentNode.insertBefore(ae,be),be.remove()),Promise.resolve())}}},1970:(mn,_t,k)=>{"use strict";k.d(_t,{B:()=>te,G:()=>ie});class f{constructor(be,Be,je,Ee,ge){this.id=Be,this.name=je,this.disableScroll=ge,this.priority=1e6*Ee+Be,this.ctrl=be}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const be=this.ctrl.capture(this.name,this.id,this.priority);return be&&this.disableScroll&&this.ctrl.disableScroll(this.id),be}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(be,Be,je,Ee){this.id=Be,this.disable=je,this.disableScroll=Ee,this.ctrl=be}block(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.disableGesture(be,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.enableGesture(be,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",ie=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(be){var Be;return new f(this,this.newID(),be.name,null!==(Be=be.priority)&&void 0!==Be?Be:0,!!be.disableScroll)}createBlocker(be={}){return new ne(this,this.newID(),be.disable,!!be.disableScroll)}start(be,Be,je){return this.canStart(be)?(this.requestedStart.set(Be,je),!0):(this.requestedStart.delete(Be),!1)}capture(be,Be,je){if(!this.start(be,Be,je))return!1;const Ee=this.requestedStart;let ge=-1e4;if(Ee.forEach($e=>{ge=Math.max(ge,$e)}),ge===je){this.capturedId=Be,Ee.clear();const $e=new CustomEvent("ionGestureCaptured",{detail:{gestureName:be}});return document.dispatchEvent($e),!0}return Ee.delete(Be),!1}release(be){this.requestedStart.delete(be),this.capturedId===be&&(this.capturedId=void 0)}disableGesture(be,Be){let je=this.disabledGestures.get(be);void 0===je&&(je=new Set,this.disabledGestures.set(be,je)),je.add(Be)}enableGesture(be,Be){const je=this.disabledGestures.get(be);void 0!==je&&je.delete(Be)}disableScroll(be){this.disabledScroll.add(be),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(be){this.disabledScroll.delete(be),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(be){return!(void 0!==this.capturedId||this.isDisabled(be))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(be){const Be=this.disabledGestures.get(be);return!!(Be&&Be.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(mn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{MENU_BACK_BUTTON_PRIORITY:()=>je,OVERLAY_BACK_BUTTON_PRIORITY:()=>Be,blockHardwareBackButton:()=>ae,shouldUseCloseWatcher:()=>ie,startHardwareBackButton:()=>be});var c=k(467),f=k(8476),ne=k(9483);k(4261);const ie=()=>ne.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,ae=()=>{document.addEventListener("backbutton",()=>{})},be=()=>{const Ee=document;let ge=!1;const $e=()=>{if(ge)return;let qe=0,He=[];const Ze=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(st,It){He.push({priority:st,handler:It,id:qe++})}}});Ee.dispatchEvent(Ze);const ct=function(){var st=(0,c.A)(function*(It){try{if(null!=It&&It.handler){const mt=It.handler(nt);null!=mt&&(yield mt)}}catch(mt){console.error(mt)}});return function(mt){return st.apply(this,arguments)}}(),nt=()=>{if(He.length>0){let st={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};He.forEach(It=>{It.priority>=st.priority&&(st=It)}),ge=!0,He=He.filter(It=>It.id!==st.id),ct(st).then(()=>ge=!1)}};nt()};if(ie()){let qe;const He=()=>{null==qe||qe.destroy(),qe=new f.w.CloseWatcher,qe.onclose=()=>{$e(),He()}};He()}else Ee.addEventListener("backbutton",$e)},Be=100,je=99},4920:(mn,_t,k)=>{"use strict";k.d(_t,{a:()=>Be,b:()=>je,c:()=>ne,d:()=>He,e:()=>It,f:()=>qe,g:()=>Ee,h:()=>ie,i:()=>be,j:()=>Ze,k:()=>te,l:()=>$e,m:()=>ct,n:()=>st,o:()=>mt,p:()=>nt,r:()=>ge,s:()=>Se,t:()=>c});const c=(_e,Me=0)=>new Promise(dt=>{f(_e,Me,dt)}),f=(_e,Me=0,dt)=>{let at,Mt;const pe={passive:!0},Ot=()=>{at&&at()},zt=Nt=>{(void 0===Nt||_e===Nt.target)&&(Ot(),dt(Nt))};return _e&&(_e.addEventListener("webkitTransitionEnd",zt,pe),_e.addEventListener("transitionend",zt,pe),Mt=setTimeout(zt,Me+500),at=()=>{void 0!==Mt&&(clearTimeout(Mt),Mt=void 0),_e.removeEventListener("webkitTransitionEnd",zt,pe),_e.removeEventListener("transitionend",zt,pe)}),Ot},ne=(_e,Me)=>{_e.componentOnReady?_e.componentOnReady().then(dt=>Me(dt)):ge(()=>Me(_e))},te=_e=>void 0!==_e.componentOnReady,ie=(_e,Me=[])=>{const dt={};return Me.forEach(at=>{_e.hasAttribute(at)&&(null!==_e.getAttribute(at)&&(dt[at]=_e.getAttribute(at)),_e.removeAttribute(at))}),dt},ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],be=(_e,Me)=>{let dt=ae;return Me&&Me.length>0&&(dt=dt.filter(at=>!Me.includes(at))),ie(_e,dt)},Be=(_e,Me,dt,at)=>{var Mt;if(typeof window<"u"){const pe=window,De=null===(Mt=null==pe?void 0:pe.Ionic)||void 0===Mt?void 0:Mt.config;if(De){const Ot=De.get("_ael");if(Ot)return Ot(_e,Me,dt,at);if(De._ael)return De._ael(_e,Me,dt,at)}}return _e.addEventListener(Me,dt,at)},je=(_e,Me,dt,at)=>{var Mt;if(typeof window<"u"){const pe=window,De=null===(Mt=null==pe?void 0:pe.Ionic)||void 0===Mt?void 0:Mt.config;if(De){const Ot=De.get("_rel");if(Ot)return Ot(_e,Me,dt,at);if(De._rel)return De._rel(_e,Me,dt,at)}}return _e.removeEventListener(Me,dt,at)},Ee=(_e,Me=_e)=>_e.shadowRoot||Me,ge=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e),$e=_e=>!!_e.shadowRoot&&!!_e.attachShadow,qe=_e=>{if(_e.focus(),_e.classList.contains("ion-focusable")){const Me=_e.closest("ion-app");Me&&Me.setFocus([_e])}},He=(_e,Me,dt,at,Mt)=>{if(_e||$e(Me)){let pe=Me.querySelector("input.aux-input");pe||(pe=Me.ownerDocument.createElement("input"),pe.type="hidden",pe.classList.add("aux-input"),Me.appendChild(pe)),pe.disabled=Mt,pe.name=dt,pe.value=at||""}},Ze=(_e,Me,dt)=>Math.max(_e,Math.min(Me,dt)),ct=(_e,Me)=>{if(!_e){const dt="ASSERT: "+Me;throw console.error(dt),new Error(dt)}},nt=_e=>{if(_e){const Me=_e.changedTouches;if(Me&&Me.length>0){const dt=Me[0];return{x:dt.clientX,y:dt.clientY}}if(void 0!==_e.pageX)return{x:_e.pageX,y:_e.pageY}}return{x:0,y:0}},st=_e=>{const Me="rtl"===document.dir;switch(_e){case"start":return Me;case"end":return!Me;default:throw new Error(`"${_e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},It=(_e,Me)=>{const dt=_e._original||_e;return{_original:_e,emit:mt(dt.emit.bind(dt),Me)}},mt=(_e,Me=0)=>{let dt;return(...at)=>{clearTimeout(dt),dt=setTimeout(_e,Me,...at)}},Se=(_e,Me)=>{if(null!=_e||(_e={}),null!=Me||(Me={}),_e===Me)return!0;const dt=Object.keys(_e);if(dt.length!==Object.keys(Me).length)return!1;for(const at of dt)if(!(at in Me)||_e[at]!==Me[at])return!1;return!0}},1702:(mn,_t,k)=>{"use strict";k.d(_t,{m:()=>qe});var c=k(467),f=k(8476),ne=k(7192),te=k(4929),ie=k(4920),ae=k(9483),be=k(9986);const Be=He=>(0,be.c)().duration(He?400:300),je=He=>{let Ze,ct;const nt=He.width+8,st=(0,be.c)(),It=(0,be.c)();He.isEndSide?(Ze=nt+"px",ct="0px"):(Ze=-nt+"px",ct="0px"),st.addElement(He.menuInnerEl).fromTo("transform",`translateX(${Ze})`,`translateX(${ct})`);const Se="ios"===(0,ae.b)(He),_e=Se?.2:.25;return It.addElement(He.backdropEl).fromTo("opacity",.01,_e),Be(Se).addAnimation([st,It])},Ee=He=>{let Ze,ct;const nt=(0,ae.b)(He),st=He.width;He.isEndSide?(Ze=-st+"px",ct=st+"px"):(Ze=st+"px",ct=-st+"px");const It=(0,be.c)().addElement(He.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),mt=(0,be.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ze})`),Se=(0,be.c)().addElement(He.backdropEl).fromTo("opacity",.01,.32);return Be("ios"===nt).addAnimation([It,mt,Se])},ge=He=>{const Ze=(0,ae.b)(He),ct=He.width*(He.isEndSide?-1:1)+"px",nt=(0,be.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return Be("ios"===Ze).addAnimation(nt)},qe=(()=>{const He=new Map,Ze=[],ct=function(){var ye=(0,c.A)(function*(re){const Ae=yield Me(re,!0);return!!Ae&&Ae.open()});return function(Ae){return ye.apply(this,arguments)}}(),nt=function(){var ye=(0,c.A)(function*(re){const Ae=yield void 0!==re?Me(re,!0):dt();return void 0!==Ae&&Ae.close()});return function(Ae){return ye.apply(this,arguments)}}(),st=function(){var ye=(0,c.A)(function*(re){const Ae=yield Me(re,!0);return!!Ae&&Ae.toggle()});return function(Ae){return ye.apply(this,arguments)}}(),It=function(){var ye=(0,c.A)(function*(re,Ae){const Qe=yield Me(Ae);return Qe&&(Qe.disabled=!re),Qe});return function(Ae,Qe){return ye.apply(this,arguments)}}(),mt=function(){var ye=(0,c.A)(function*(re,Ae){const Qe=yield Me(Ae);return Qe&&(Qe.swipeGesture=re),Qe});return function(Ae,Qe){return ye.apply(this,arguments)}}(),Se=function(){var ye=(0,c.A)(function*(re){if(null!=re){const Ae=yield Me(re);return void 0!==Ae&&Ae.isOpen()}return void 0!==(yield dt())});return function(Ae){return ye.apply(this,arguments)}}(),_e=function(){var ye=(0,c.A)(function*(re){const Ae=yield Me(re);return!!Ae&&!Ae.disabled});return function(Ae){return ye.apply(this,arguments)}}(),Me=function(){var ye=(0,c.A)(function*(re,Ae=!1){if(yield ee(),"start"===re||"end"===re){const Ke=Ze.filter(rt=>rt.side===re&&!rt.disabled);if(Ke.length>=1)return Ke.length>1&&Ae&&(0,te.p)(`menuController queried for a menu on the "${re}" side, but ${Ke.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ke.map(rt=>rt.el)),Ke[0].el;const Ve=Ze.filter(rt=>rt.side===re);if(Ve.length>=1)return Ve.length>1&&Ae&&(0,te.p)(`menuController queried for a menu on the "${re}" side, but ${Ve.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ve.map(rt=>rt.el)),Ve[0].el}else if(null!=re)return Y(Ke=>Ke.menuId===re);return Y(Ke=>!Ke.disabled)||(Ze.length>0?Ze[0].el:void 0)});return function(Ae){return ye.apply(this,arguments)}}(),dt=function(){var ye=(0,c.A)(function*(){return yield ee(),Et()});return function(){return ye.apply(this,arguments)}}(),at=function(){var ye=(0,c.A)(function*(){return yield ee(),Dn()});return function(){return ye.apply(this,arguments)}}(),Mt=function(){var ye=(0,c.A)(function*(){return yield ee(),Fe()});return function(){return ye.apply(this,arguments)}}(),pe=(ye,re)=>{He.set(ye,re)},zt=function(){var ye=(0,c.A)(function*(re,Ae,Qe,Ke){if(Fe())return!1;if(Ae){const Ve=yield dt();Ve&&re.el!==Ve&&(yield Ve.setOpen(!1,!1))}return re._setOpen(Ae,Qe,Ke)});return function(Ae,Qe,Ke,Ve){return ye.apply(this,arguments)}}(),Et=()=>Y(ye=>ye._isOpen),Dn=()=>Ze.map(ye=>ye.el),Fe=()=>Ze.some(ye=>ye.isAnimating),Y=ye=>{const re=Ze.find(ye);if(void 0!==re)return re.el},ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ye=>new Promise(re=>(0,ie.c)(ye,re))));return pe("reveal",ge),pe("push",Ee),pe("overlay",je),null==f.d||f.d.addEventListener("ionBackButton",ye=>{const re=Et();re&&ye.detail.register(ne.MENU_BACK_BUTTON_PRIORITY,()=>re.close())}),{registerAnimation:pe,get:Me,getMenus:at,getOpen:dt,isEnabled:_e,swipeGesture:mt,isAnimating:Mt,isOpen:Se,enable:It,toggle:st,close:nt,open:ct,_getOpenSync:Et,_createAnimation:(ye,re)=>{const Ae=He.get(ye);if(!Ae)throw new Error("animation not registered");return Ae(re)},_register:ye=>{Ze.indexOf(ye)<0&&Ze.push(ye)},_unregister:ye=>{const re=Ze.indexOf(ye);re>-1&&Ze.splice(re,1)},_setOpen:zt}})()},4261:(mn,_t,k)=>{"use strict";k.d(_t,{B:()=>ae,a:()=>Nt,b:()=>bo,c:()=>jn,d:()=>Fr,e:()=>rt,f:()=>hn,g:()=>Vr,h:()=>zn,i:()=>yt,j:()=>or,k:()=>St,r:()=>je,w:()=>lt});var c=k(467);var te=Object.defineProperty,ae={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=new WeakMap,Be=A=>be.get(A),je=(A,N)=>be.set(N.$lazyInstance$=A,N),ge=(A,N)=>N in A,$e=(A,N)=>(0,console.error)(A,N),qe=new Map,Ze=new Map,ct=[],Se="s-id",at="slot-fb{display:contents}slot-fb[hidden]{display:none}",Mt="http://www.w3.org/1999/xlink",pe=typeof window<"u"?window:{},De=pe.document||{head:{}},zt={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,N,b,j)=>A.addEventListener(N,b,j),rel:(A,N,b,j)=>A.removeEventListener(N,b,j),ce:(A,N)=>new CustomEvent(A,N)},Nt=A=>{Object.assign(zt,A)},Dn=(()=>{let A=!1;try{De.addEventListener("e",null,Object.defineProperty({},"passive",{get(){A=!0}}))}catch{}return A})(),Y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ee=!1,ye=[],re=[],Ae=(A,N)=>b=>{A.push(b),ee||(ee=!0,N&&4&zt.$flags$?Ve(Ke):zt.raf(Ke))},Qe=A=>{for(let N=0;N<A.length;N++)try{A[N](performance.now())}catch(b){$e(b)}A.length=0},Ke=()=>{Qe(ye),Qe(re),(ee=ye.length>0)&&zt.raf(Ke)},Ve=A=>Promise.resolve(void 0).then(A),rt=Ae(ye,!1),lt=Ae(re,!0),St=A=>{const N=new URL(A,zt.$resourcesUrl$);return N.origin!==pe.location.origin?N.href:N.pathname},An={},Mn=A=>"object"==(A=typeof A)||"function"===A;function En(A){var N,b,j;return null!=(j=null==(b=null==(N=A.head)?void 0:N.querySelector('meta[name="csp-nonce"]'))?void 0:b.getAttribute("content"))?j:void 0}((A,N)=>{for(var b in N)te(A,b,{get:N[b],enumerable:!0})})({},{err:()=>ir,map:()=>Tt,ok:()=>Kt,unwrap:()=>Pt,unwrapErr:()=>bt});var Kt=A=>({isOk:!0,isErr:!1,value:A}),ir=A=>({isOk:!1,isErr:!0,value:A});function Tt(A,N){if(A.isOk){const b=N(A.value);return b instanceof Promise?b.then(j=>Kt(j)):Kt(b)}if(A.isErr)return ir(A.value);throw"should never get here"}var Pt=A=>{if(A.isOk)return A.value;throw A.value},bt=A=>{if(A.isErr)return A.value;throw A.value},zn=(A,N,...b)=>{let j=null,oe=null,Xe=null,$t=!1,Ct=!1;const qt=[],Jt=bn=>{for(let Kn=0;Kn<bn.length;Kn++)j=bn[Kn],Array.isArray(j)?Jt(j):null!=j&&"boolean"!=typeof j&&(($t="function"!=typeof A&&!Mn(j))&&(j=String(j)),$t&&Ct?qt[qt.length-1].$text$+=j:qt.push($t?vn(null,j):j),Ct=$t)};if(Jt(b),N){N.key&&(oe=N.key),N.name&&(Xe=N.name);{const bn=N.className||N.class;bn&&(N.class="object"!=typeof bn?bn:Object.keys(bn).filter(Kn=>bn[Kn]).join(" "))}}if("function"==typeof A)return A(null===N?{}:N,qt,Qn);const gn=vn(A,null);return gn.$attrs$=N,qt.length>0&&(gn.$children$=qt),gn.$key$=oe,gn.$name$=Xe,gn},vn=(A,N)=>({$flags$:0,$tag$:A,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),hn={},Qn={forEach:(A,N)=>A.map(kn).forEach(N),map:(A,N)=>A.map(kn).map(N).map(er)},kn=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),er=A=>{if("function"==typeof A.vtag){const b={...A.vattrs};return A.vkey&&(b.key=A.vkey),A.vname&&(b.name=A.vname),zn(A.vtag,b,...A.vchildren||[])}const N=vn(A.vtag,A.vtext);return N.$attrs$=A.vattrs,N.$children$=A.vchildren,N.$key$=A.vkey,N.$name$=A.vname,N},pr=(A,N,b,j,oe,Xe,$t)=>{let Ct,qt,Jt,gn;if(1===Xe.nodeType){if(Ct=Xe.getAttribute("c-id"),Ct&&(qt=Ct.split("."),(qt[0]===$t||"0"===qt[0])&&(Jt={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:Xe.tagName.toLowerCase(),$elm$:Xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(Jt),Xe.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[Jt.$index$]=Jt,A=Jt,j&&"0"===Jt.$depth$&&(j[Jt.$index$]=Jt.$elm$))),Xe.shadowRoot)for(gn=Xe.shadowRoot.childNodes.length-1;gn>=0;gn--)pr(A,N,b,j,oe,Xe.shadowRoot.childNodes[gn],$t);for(gn=Xe.childNodes.length-1;gn>=0;gn--)pr(A,N,b,j,oe,Xe.childNodes[gn],$t)}else if(8===Xe.nodeType)qt=Xe.nodeValue.split("."),(qt[1]===$t||"0"===qt[1])&&(Ct=qt[0],Jt={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:Xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ct?(Jt.$elm$=Xe.nextSibling,Jt.$elm$&&3===Jt.$elm$.nodeType&&(Jt.$text$=Jt.$elm$.textContent,N.push(Jt),Xe.remove(),A.$children$||(A.$children$=[]),A.$children$[Jt.$index$]=Jt,j&&"0"===Jt.$depth$&&(j[Jt.$index$]=Jt.$elm$))):Jt.$hostId$===$t&&("s"===Ct?(Jt.$tag$="slot",Xe["s-sn"]=qt[5]?Jt.$name$=qt[5]:"",Xe["s-sr"]=!0,j&&(Jt.$elm$=De.createElement(Jt.$tag$),Jt.$name$&&Jt.$elm$.setAttribute("name",Jt.$name$),Xe.parentNode.insertBefore(Jt.$elm$,Xe),Xe.remove(),"0"===Jt.$depth$&&(j[Jt.$index$]=Jt.$elm$)),b.push(Jt),A.$children$||(A.$children$=[]),A.$children$[Jt.$index$]=Jt):"r"===Ct&&(j?Xe.remove():(oe["s-cr"]=Xe,Xe["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const bn=vn(null,Xe.textContent);bn.$elm$=Xe,bn.$index$="0",A.$children$=[bn]}},tr=(A,N)=>{if(1===A.nodeType){let b=0;if(A.shadowRoot)for(;b<A.shadowRoot.childNodes.length;b++)tr(A.shadowRoot.childNodes[b],N);for(b=0;b<A.childNodes.length;b++)tr(A.childNodes[b],N)}else if(8===A.nodeType){const b=A.nodeValue.split(".");"o"===b[0]&&(N.set(b[1]+"."+b[2],A),A.nodeValue="",A["s-en"]=b[3])}},jn=A=>ct.push(A),Vr=A=>Be(A).$modeName$,yt=A=>Be(A).$hostElement$,Fr=(A,N,b)=>{const j=yt(A);return{emit:oe=>Vt(j,N,{bubbles:!!(4&b),composed:!!(2&b),cancelable:!!(1&b),detail:oe})}},Vt=(A,N,b)=>{const j=zt.ce(N,b);return A.dispatchEvent(j),j},fe=new WeakMap,Pe=(A,N,b)=>{var j;const oe=At(N,b),Xe=Ze.get(oe);if(A=11===A.nodeType?A:De,Xe)if("string"==typeof Xe){let Ct,$t=fe.get(A=A.head||A);if($t||fe.set(A,$t=new Set),!$t.has(oe)){if(A.host&&(Ct=A.querySelector(`[sty-id="${oe}"]`)))Ct.innerHTML=Xe;else{Ct=De.createElement("style"),Ct.innerHTML=Xe;const qt=null!=(j=zt.$nonce$)?j:En(De);null!=qt&&Ct.setAttribute("nonce",qt),(!(1&N.$flags$)||1&N.$flags$&&"HEAD"!==A.nodeName)&&A.insertBefore(Ct,A.querySelector("link"))}4&N.$flags$&&(Ct.innerHTML+=at),$t&&$t.add(oe)}}else A.adoptedStyleSheets.includes(Xe)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,Xe]);return oe},At=(A,N)=>"sc-"+(N&&32&A.$flags$?A.$tagName$+"-"+N:A.$tagName$),Je=(A,N,b,j,oe,Xe)=>{if(b!==j){let $t=ge(A,N),Ct=N.toLowerCase();if("class"===N){const qt=A.classList,Jt=Ht(b),gn=Ht(j);qt.remove(...Jt.filter(bn=>bn&&!gn.includes(bn))),qt.add(...gn.filter(bn=>bn&&!Jt.includes(bn)))}else if("style"===N){for(const qt in b)(!j||null==j[qt])&&(qt.includes("-")?A.style.removeProperty(qt):A.style[qt]="");for(const qt in j)(!b||j[qt]!==b[qt])&&(qt.includes("-")?A.style.setProperty(qt,j[qt]):A.style[qt]=j[qt])}else if("key"!==N)if("ref"===N)j&&j(A);else if($t||"o"!==N[0]||"n"!==N[1]){const qt=Mn(j);if(($t||qt&&null!==j)&&!oe)try{if(A.tagName.includes("-"))A[N]=j;else{const gn=null==j?"":j;"list"===N?$t=!1:(null==b||A[N]!=gn)&&(A[N]=gn)}}catch{}let Jt=!1;Ct!==(Ct=Ct.replace(/^xlink\:?/,""))&&(N=Ct,Jt=!0),null==j||!1===j?(!1!==j||""===A.getAttribute(N))&&(Jt?A.removeAttributeNS(Mt,N):A.removeAttribute(N)):(!$t||4&Xe||oe)&&!qt&&(j=!0===j?"":j,Jt?A.setAttributeNS(Mt,N,j):A.setAttribute(N,j))}else if(N="-"===N[2]?N.slice(3):ge(pe,Ct)?Ct.slice(2):Ct[2]+N.slice(3),b||j){const qt=N.endsWith(Te);N=N.replace(Re,""),b&&zt.rel(A,N,b,qt),j&&zt.ael(A,N,j,qt)}}},it=/\s/,Ht=A=>A?A.split(it):[],Te="Capture",Re=new RegExp(Te+"$"),We=(A,N,b)=>{const j=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,oe=A&&A.$attrs$||An,Xe=N.$attrs$||An;for(const $t of Lt(Object.keys(oe)))$t in Xe||Je(j,$t,oe[$t],void 0,b,N.$flags$);for(const $t of Lt(Object.keys(Xe)))Je(j,$t,oe[$t],Xe[$t],b,N.$flags$)};function Lt(A){return A.includes("ref")?[...A.filter(N=>"ref"!==N),"ref"]:A}var ft,pn,cn,Mr=!1,$r=!1,Hn=!1,Er=!1,Un=(A,N,b,j)=>{var oe;const Xe=N.$children$[b];let Ct,qt,Jt,$t=0;if(Mr||(Hn=!0,"slot"===Xe.$tag$&&(ft&&j.classList.add(ft+"-s"),Xe.$flags$|=Xe.$children$?2:1)),null!==Xe.$text$)Ct=Xe.$elm$=De.createTextNode(Xe.$text$);else if(1&Xe.$flags$)Ct=Xe.$elm$=De.createTextNode("");else{if(Er||(Er="svg"===Xe.$tag$),Ct=Xe.$elm$=De.createElementNS(Er?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Mr&&2&Xe.$flags$?"slot-fb":Xe.$tag$),Er&&"foreignObject"===Xe.$tag$&&(Er=!1),We(null,Xe,Er),!!Ct.getRootNode().querySelector("body")&&(A=>null!=A)(ft)&&Ct["s-si"]!==ft&&Ct.classList.add(Ct["s-si"]=ft),Bt(Ct,j),Xe.$children$)for($t=0;$t<Xe.$children$.length;++$t)qt=Un(A,Xe,$t,Ct),qt&&Ct.appendChild(qt);"svg"===Xe.$tag$?Er=!1:"foreignObject"===Ct.tagName&&(Er=!0)}return Ct["s-hn"]=cn,3&Xe.$flags$&&(Ct["s-sr"]=!0,Ct["s-cr"]=pn,Ct["s-sn"]=Xe.$name$||"",Ct["s-rf"]=null==(oe=Xe.$attrs$)?void 0:oe.ref,Jt=A&&A.$children$&&A.$children$[b],Jt&&Jt.$tag$===Xe.$tag$&&A.$elm$&&Lr(A.$elm$)),Ct},Lr=A=>{zt.$flags$|=1;const N=A.closest(cn.toLowerCase());if(null!=N){const b=Array.from(N.childNodes).find(oe=>oe["s-cr"]),j=Array.from(A.childNodes);for(const oe of b?j.reverse():j)null!=oe["s-sh"]&&(we(N,oe,null!=b?b:null),oe["s-sh"]=void 0,Hn=!0)}zt.$flags$&=-2},Sr=(A,N)=>{zt.$flags$|=1;const b=Array.from(A.childNodes);if(A["s-sr"]){let j=A;for(;j=j.nextSibling;)j&&j["s-sn"]===A["s-sn"]&&j["s-sh"]===cn&&b.push(j)}for(let j=b.length-1;j>=0;j--){const oe=b[j];oe["s-hn"]!==cn&&oe["s-ol"]&&(we(Fi(oe),oe,ki(oe)),oe["s-ol"].remove(),oe["s-ol"]=void 0,oe["s-sh"]=void 0,Hn=!0),N&&Sr(oe,N)}zt.$flags$&=-2},Fn=(A,N,b,j,oe,Xe)=>{let Ct,$t=A["s-cr"]&&A["s-cr"].parentNode||A;for($t.shadowRoot&&$t.tagName===cn&&($t=$t.shadowRoot);oe<=Xe;++oe)j[oe]&&(Ct=Un(null,b,oe,A),Ct&&(j[oe].$elm$=Ct,we($t,Ct,ki(N))))},Pr=(A,N,b)=>{for(let j=N;j<=b;++j){const oe=A[j];if(oe){const Xe=oe.$elm$;J(oe),Xe&&($r=!0,Xe["s-ol"]?Xe["s-ol"].remove():Sr(Xe,!0),Xe.remove())}}},Mi=(A,N,b=!1)=>!(A.$tag$!==N.$tag$||("slot"===A.$tag$?"$nodeId$"in A&&b&&8!==A.$elm$.nodeType||A.$name$!==N.$name$:!b&&A.$key$!==N.$key$)),ki=A=>A&&A["s-ol"]||A,Fi=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,gr=(A,N,b=!1)=>{const j=N.$elm$=A.$elm$,oe=A.$children$,Xe=N.$children$,$t=N.$tag$,Ct=N.$text$;let qt;null===Ct?(Er="svg"===$t||"foreignObject"!==$t&&Er,"slot"!==$t||Mr?We(A,N,Er):A.$name$!==N.$name$&&(N.$elm$["s-sn"]=N.$name$||"",Lr(N.$elm$.parentElement)),null!==oe&&null!==Xe?((A,N,b,j,oe=!1)=>{let sr,qr,Xe=0,$t=0,Ct=0,qt=0,Jt=N.length-1,gn=N[0],bn=N[Jt],Kn=j.length-1,Tn=j[0],Ur=j[Kn];for(;Xe<=Jt&&$t<=Kn;)if(null==gn)gn=N[++Xe];else if(null==bn)bn=N[--Jt];else if(null==Tn)Tn=j[++$t];else if(null==Ur)Ur=j[--Kn];else if(Mi(gn,Tn,oe))gr(gn,Tn,oe),gn=N[++Xe],Tn=j[++$t];else if(Mi(bn,Ur,oe))gr(bn,Ur,oe),bn=N[--Jt],Ur=j[--Kn];else if(Mi(gn,Ur,oe))("slot"===gn.$tag$||"slot"===Ur.$tag$)&&Sr(gn.$elm$.parentNode,!1),gr(gn,Ur,oe),we(A,gn.$elm$,bn.$elm$.nextSibling),gn=N[++Xe],Ur=j[--Kn];else if(Mi(bn,Tn,oe))("slot"===gn.$tag$||"slot"===Ur.$tag$)&&Sr(bn.$elm$.parentNode,!1),gr(bn,Tn,oe),we(A,bn.$elm$,gn.$elm$),bn=N[--Jt],Tn=j[++$t];else{for(Ct=-1,qt=Xe;qt<=Jt;++qt)if(N[qt]&&null!==N[qt].$key$&&N[qt].$key$===Tn.$key$){Ct=qt;break}Ct>=0?(qr=N[Ct],qr.$tag$!==Tn.$tag$?sr=Un(N&&N[$t],b,Ct,A):(gr(qr,Tn,oe),N[Ct]=void 0,sr=qr.$elm$),Tn=j[++$t]):(sr=Un(N&&N[$t],b,$t,A),Tn=j[++$t]),sr&&we(Fi(gn.$elm$),sr,ki(gn.$elm$))}Xe>Jt?Fn(A,null==j[Kn+1]?null:j[Kn+1].$elm$,b,j,$t,Kn):$t>Kn&&Pr(N,Xe,Jt)})(j,oe,N,Xe,b):null!==Xe?(null!==A.$text$&&(j.textContent=""),Fn(j,null,N,Xe,0,Xe.length-1)):!b&&null!==oe&&Pr(oe,0,oe.length-1),Er&&"svg"===$t&&(Er=!1)):(qt=j["s-cr"])?qt.parentNode.textContent=Ct:A.$text$!==Ct&&(j.data=Ct)},se=A=>{const N=A.childNodes;for(const b of N)if(1===b.nodeType){if(b["s-sr"]){const j=b["s-sn"];b.hidden=!1;for(const oe of N)if(oe!==b)if(oe["s-hn"]!==b["s-hn"]||""!==j){if(1===oe.nodeType&&(j===oe.getAttribute("slot")||j===oe["s-sn"])||3===oe.nodeType&&j===oe["s-sn"]){b.hidden=!0;break}}else if(1===oe.nodeType||3===oe.nodeType&&""!==oe.textContent.trim()){b.hidden=!0;break}}se(b)}},K=[],ve=A=>{let N,b,j;for(const oe of A.childNodes){if(oe["s-sr"]&&(N=oe["s-cr"])&&N.parentNode){b=N.parentNode.childNodes;const Xe=oe["s-sn"];for(j=b.length-1;j>=0;j--)if(N=b[j],!(N["s-cn"]||N["s-nr"]||N["s-hn"]===oe["s-hn"]||N["s-sh"]&&N["s-sh"]===oe["s-hn"]))if(Z(N,Xe)){let $t=K.find(Ct=>Ct.$nodeToRelocate$===N);$r=!0,N["s-sn"]=N["s-sn"]||Xe,$t?($t.$nodeToRelocate$["s-sh"]=oe["s-hn"],$t.$slotRefNode$=oe):(N["s-sh"]=oe["s-hn"],K.push({$slotRefNode$:oe,$nodeToRelocate$:N})),N["s-sr"]&&K.map(Ct=>{Z(Ct.$nodeToRelocate$,N["s-sn"])&&($t=K.find(qt=>qt.$nodeToRelocate$===N),$t&&!Ct.$slotRefNode$&&(Ct.$slotRefNode$=$t.$slotRefNode$))})}else K.some($t=>$t.$nodeToRelocate$===N)||K.push({$nodeToRelocate$:N})}1===oe.nodeType&&ve(oe)}},Z=(A,N)=>1===A.nodeType?null===A.getAttribute("slot")&&""===N||A.getAttribute("slot")===N:A["s-sn"]===N||""===N,J=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(J)},we=(A,N,b)=>{const j=null==A?void 0:A.insertBefore(N,b);return Bt(N,A),j},vt=A=>{const N=[];return A&&N.push(...A["s-scs"]||[],A["s-si"],A["s-sc"],...vt(A.parentElement)),N},Bt=(A,N,b=!1)=>{var j;if(A&&N&&1===A.nodeType){const oe=new Set(vt(N).filter(Boolean));if(oe.size&&(null==(j=A.classList)||j.add(...A["s-scs"]=[...oe]),A["s-ol"]||b))for(const Xe of Array.from(A.childNodes))Bt(Xe,A,!0)}},Bn=(A,N)=>{N&&!A.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(b=>A.$onRenderResolve$=b))},xn=(A,N)=>{if(A.$flags$|=16,!(4&A.$flags$))return Bn(A,A.$ancestorComponent$),lt(()=>$n(A,N));A.$flags$|=512},$n=(A,N)=>{const oe=A.$lazyInstance$;if(!oe)throw new Error(`Can't render component <${A.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Xe;return N&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([$t,Ct])=>ti(oe,$t,Ct)),A.$queuedListeners$=void 0),Xe=ti(oe,"componentWillLoad")),Xe=nr(Xe,()=>ti(oe,"componentWillRender")),nr(Xe,()=>mr(A,oe,N))},nr=(A,N)=>Pn(A)?A.then(N).catch(b=>{console.error(b),N()}):N(),Pn=A=>A instanceof Promise||A&&A.then&&"function"==typeof A.then,mr=function(){var A=(0,c.A)(function*(N,b,j){var oe;const Xe=N.$hostElement$,Ct=Xe["s-rc"];j&&(A=>{const N=A.$cmpMeta$,b=A.$hostElement$,j=N.$flags$,Xe=Pe(b.shadowRoot?b.shadowRoot:b.getRootNode(),N,A.$modeName$);10&j&&2&j&&(b["s-sc"]=Xe,b.classList.add(Xe+"-h"),2&j&&b.classList.add(Xe+"-s"))})(N);On(N,b,Xe,j),Ct&&(Ct.map(Jt=>Jt()),Xe["s-rc"]=void 0);{const Jt=null!=(oe=Xe["s-p"])?oe:[],gn=()=>br(N);0===Jt.length?gn():(Promise.all(Jt).then(gn),N.$flags$|=4,Jt.length=0)}});return function(b,j,oe){return A.apply(this,arguments)}}(),On=(A,N,b,j)=>{try{N=N.render&&N.render(),A.$flags$&=-17,A.$flags$|=2,((A,N,b=!1)=>{var j,oe,Xe,$t,Ct;const qt=A.$hostElement$,Jt=A.$cmpMeta$,gn=A.$vnode$||vn(null,null),bn=(A=>A&&A.$tag$===hn)(N)?N:zn(null,null,N);if(cn=qt.tagName,Jt.$attrsToReflect$&&(bn.$attrs$=bn.$attrs$||{},Jt.$attrsToReflect$.map(([Kn,Tn])=>bn.$attrs$[Tn]=qt[Kn])),b&&bn.$attrs$)for(const Kn of Object.keys(bn.$attrs$))qt.hasAttribute(Kn)&&!["key","ref","style","class"].includes(Kn)&&(bn.$attrs$[Kn]=qt[Kn]);if(bn.$tag$=null,bn.$flags$|=4,A.$vnode$=bn,bn.$elm$=gn.$elm$=qt.shadowRoot||qt,ft=qt["s-sc"],Mr=!!(1&Jt.$flags$),pn=qt["s-cr"],$r=!1,gr(gn,bn,b),zt.$flags$|=1,Hn){ve(bn.$elm$);for(const Kn of K){const Tn=Kn.$nodeToRelocate$;if(!Tn["s-ol"]){const Ur=De.createTextNode("");Ur["s-nr"]=Tn,we(Tn.parentNode,Tn["s-ol"]=Ur,Tn)}}for(const Kn of K){const Tn=Kn.$nodeToRelocate$,Ur=Kn.$slotRefNode$;if(Ur){const sr=Ur.parentNode;let qr=Ur.nextSibling;if(qr&&1===qr.nodeType){let Xr=null==(j=Tn["s-ol"])?void 0:j.previousSibling;for(;Xr;){let hi=null!=(oe=Xr["s-nr"])?oe:null;if(hi&&hi["s-sn"]===Tn["s-sn"]&&sr===hi.parentNode){for(hi=hi.nextSibling;hi===Tn||null!=hi&&hi["s-sr"];)hi=null==hi?void 0:hi.nextSibling;if(!hi||!hi["s-nr"]){qr=hi;break}}Xr=Xr.previousSibling}}(!qr&&sr!==Tn.parentNode||Tn.nextSibling!==qr)&&Tn!==qr&&(we(sr,Tn,qr),1===Tn.nodeType&&(Tn.hidden=null!=(Xe=Tn["s-ih"])&&Xe)),Tn&&"function"==typeof Ur["s-rf"]&&Ur["s-rf"](Tn)}else 1===Tn.nodeType&&(b&&(Tn["s-ih"]=null!=($t=Tn.hidden)&&$t),Tn.hidden=!0)}}if($r&&se(bn.$elm$),zt.$flags$&=-2,K.length=0,2&Jt.$flags$)for(const Kn of bn.$elm$.childNodes)Kn["s-hn"]!==cn&&!Kn["s-sh"]&&(b&&null==Kn["s-ih"]&&(Kn["s-ih"]=null!=(Ct=Kn.hidden)&&Ct),Kn.hidden=!0);pn=void 0})(A,N,j)}catch(oe){$e(oe,A.$hostElement$)}return null},br=A=>{const b=A.$hostElement$,oe=A.$lazyInstance$,Xe=A.$ancestorComponent$;ti(oe,"componentDidRender"),64&A.$flags$?ti(oe,"componentDidUpdate"):(A.$flags$|=64,lr(b),ti(oe,"componentDidLoad"),A.$onReadyResolve$(b),Xe||li()),A.$onInstanceResolve$(b),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&Ve(()=>xn(A,!1)),A.$flags$&=-517},or=A=>{{const N=Be(A),b=N.$hostElement$.isConnected;return b&&2==(18&N.$flags$)&&xn(N,!1),b}},li=A=>{lr(De.documentElement),Ve(()=>Vt(pe,"appload",{detail:{namespace:"ionic"}}))},ti=(A,N,b)=>{if(A&&A[N])try{return A[N](b)}catch(j){$e(j)}},lr=A=>A.classList.add("hydrated"),vr=(A,N,b)=>{var j,oe;const Xe=A.prototype;if(N.$members$||N.$watchers$||A.watchers){A.watchers&&!N.$watchers$&&(N.$watchers$=A.watchers);const $t=Object.entries(null!=(j=N.$members$)?j:{});if($t.map(([Ct,[qt]])=>{31&qt||2&b&&32&qt?Object.defineProperty(Xe,Ct,{get(){return((A,N)=>Be(this).$instanceValues$.get(N))(0,Ct)},set(Jt){((A,N,b,j)=>{const oe=Be(A);if(!oe)throw new Error(`Couldn't find host element for "${j.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Xe=oe.$hostElement$,$t=oe.$instanceValues$.get(N),Ct=oe.$flags$,qt=oe.$lazyInstance$;b=((A,N)=>null==A||Mn(A)?A:4&N?"false"!==A&&(""===A||!!A):2&N?parseFloat(A):1&N?String(A):A)(b,j.$members$[N][0]);const Jt=Number.isNaN($t)&&Number.isNaN(b);if((!(8&Ct)||void 0===$t)&&b!==$t&&!Jt&&(oe.$instanceValues$.set(N,b),qt)){if(j.$watchers$&&128&Ct){const bn=j.$watchers$[N];bn&&bn.map(Kn=>{try{qt[Kn](b,$t,N)}catch(Tn){$e(Tn,Xe)}})}2==(18&Ct)&&xn(oe,!1)}})(this,Ct,Jt,N)},configurable:!0,enumerable:!0}):1&b&&64&qt&&Object.defineProperty(Xe,Ct,{value(...Jt){var gn;const bn=Be(this);return null==(gn=null==bn?void 0:bn.$onInstancePromise$)?void 0:gn.then(()=>{var Kn;return null==(Kn=bn.$lazyInstance$)?void 0:Kn[Ct](...Jt)})}})}),1&b){const Ct=new Map;Xe.attributeChangedCallback=function(qt,Jt,gn){zt.jmp(()=>{var bn;const Kn=Ct.get(qt);if(this.hasOwnProperty(Kn))gn=this[Kn],delete this[Kn];else{if(Xe.hasOwnProperty(Kn)&&"number"==typeof this[Kn]&&this[Kn]==gn)return;if(null==Kn){const Tn=Be(this),Ur=null==Tn?void 0:Tn.$flags$;if(Ur&&!(8&Ur)&&128&Ur&&gn!==Jt){const sr=Tn.$lazyInstance$,qr=null==(bn=N.$watchers$)?void 0:bn[qt];null==qr||qr.forEach(Xr=>{null!=sr[Xr]&&sr[Xr].call(sr,gn,Jt,qt)})}return}}this[Kn]=(null!==gn||"boolean"!=typeof this[Kn])&&gn})},A.observedAttributes=Array.from(new Set([...Object.keys(null!=(oe=N.$watchers$)?oe:{}),...$t.filter(([qt,Jt])=>15&Jt[0]).map(([qt,Jt])=>{var gn;const bn=Jt[1]||qt;return Ct.set(bn,qt),512&Jt[0]&&(null==(gn=N.$attrsToReflect$)||gn.push([qt,bn])),bn})]))}}return A},ji=function(){var A=(0,c.A)(function*(N,b,j,oe){let Xe;if(!(32&b.$flags$)){if(b.$flags$|=32,j.$lazyBundleId$){const Jt=(A=>{const j=A.$tagName$.replace(/-/g,"_"),oe=A.$lazyBundleId$;if(!oe)return;const Xe=qe.get(oe);return Xe?Xe[j]:k(8996)(`./${oe}.entry.js`).then($t=>(qe.set(oe,$t),$t[j]),$e)})(j);if(Jt&&"then"in Jt){const bn=()=>{};Xe=yield Jt,bn()}else Xe=Jt;if(!Xe)throw new Error(`Constructor for "${j.$tagName$}#${b.$modeName$}" was not found`);Xe.isProxied||(j.$watchers$=Xe.watchers,vr(Xe,j,2),Xe.isProxied=!0);const gn=()=>{};b.$flags$|=8;try{new Xe(b)}catch(bn){$e(bn)}b.$flags$&=-9,b.$flags$|=128,gn(),ao(b.$lazyInstance$)}else Xe=N.constructor,customElements.whenDefined(N.localName).then(()=>b.$flags$|=128);if(Xe&&Xe.style){let Jt;"string"==typeof Xe.style?Jt=Xe.style:"string"!=typeof Xe.style&&(b.$modeName$=(A=>ct.map(N=>N(A)).find(N=>!!N))(N),b.$modeName$&&(Jt=Xe.style[b.$modeName$]));const gn=At(j,b.$modeName$);if(!Ze.has(gn)){const bn=()=>{};((A,N,b)=>{let j=Ze.get(A);Y&&b?(j=j||new CSSStyleSheet,"string"==typeof j?j=N:j.replaceSync(N)):j=N,Ze.set(A,j)})(gn,Jt,!!(1&j.$flags$)),bn()}}}const $t=b.$ancestorComponent$,Ct=()=>xn(b,!0);$t&&$t["s-rc"]?$t["s-rc"].push(Ct):Ct()});return function(b,j,oe,Xe){return A.apply(this,arguments)}}(),ao=A=>{ti(A,"connectedCallback")},Pi=A=>{const N=A["s-cr"]=De.createComment("");N["s-cn"]=!0,we(A,N,A.firstChild)},pi=A=>{ti(A,"disconnectedCallback")},ri=function(){var A=(0,c.A)(function*(N){if(!(1&zt.$flags$)){const b=Be(N);b.$rmListeners$&&(b.$rmListeners$.map(j=>j()),b.$rmListeners$=void 0),null!=b&&b.$lazyInstance$?pi(b.$lazyInstance$):null!=b&&b.$onReadyPromise$&&b.$onReadyPromise$.then(()=>pi(b.$lazyInstance$))}});return function(b){return A.apply(this,arguments)}}(),dr=A=>{const N=A.cloneNode;A.cloneNode=function(b){const j=this,oe=j.shadowRoot&&true,Xe=N.call(j,!!oe&&b);if(!oe&&b){let Ct,qt,$t=0;const Jt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;$t<j.childNodes.length;$t++)Ct=j.childNodes[$t]["s-nr"],qt=Jt.every(gn=>!j.childNodes[$t][gn]),Ct&&(Xe.__appendChild?Xe.__appendChild(Ct.cloneNode(!0)):Xe.appendChild(Ct.cloneNode(!0))),qt&&Xe.appendChild(j.childNodes[$t].cloneNode(!0))}return Xe}},di=A=>{A.__appendChild=A.appendChild,A.appendChild=function(N){const b=N["s-sn"]=Li(N),j=Vi(this.childNodes,b,this.tagName);if(j){const oe=_o(j,b),Xe=oe[oe.length-1],$t=we(Xe.parentNode,N,Xe.nextSibling);return se(this),$t}return this.__appendChild(N)}},bi=A=>{A.__removeChild=A.removeChild,A.removeChild=function(N){if(N&&typeof N["s-sn"]<"u"){const b=Vi(this.childNodes,N["s-sn"],this.tagName);if(b){const oe=_o(b,N["s-sn"]).find(Xe=>Xe===N);if(oe)return oe.remove(),void se(this)}}return this.__removeChild(N)}},Do=A=>{const N=A.prepend;A.prepend=function(...b){b.forEach(j=>{"string"==typeof j&&(j=this.ownerDocument.createTextNode(j));const oe=j["s-sn"]=Li(j),Xe=Vi(this.childNodes,oe,this.tagName);if(Xe){const $t=document.createTextNode("");$t["s-nr"]=j,Xe["s-cr"].parentNode.__appendChild($t),j["s-ol"]=$t;const qt=_o(Xe,oe)[0];return we(qt.parentNode,j,qt.nextSibling)}return 1===j.nodeType&&j.getAttribute("slot")&&(j.hidden=!0),N.call(this,j)})}},lo=A=>{A.append=function(...N){N.forEach(b=>{"string"==typeof b&&(b=this.ownerDocument.createTextNode(b)),this.appendChild(b)})}},hs=A=>{const N=A.insertAdjacentHTML;A.insertAdjacentHTML=function(b,j){if("afterbegin"!==b&&"beforeend"!==b)return N.call(this,b,j);const oe=this.ownerDocument.createElement("_");let Xe;if(oe.innerHTML=j,"afterbegin"===b)for(;Xe=oe.firstChild;)this.prepend(Xe);else if("beforeend"===b)for(;Xe=oe.firstChild;)this.append(Xe)}},Ki=A=>{A.insertAdjacentText=function(N,b){this.insertAdjacentHTML(N,b)}},Ar=A=>{const N=A.insertAdjacentElement;A.insertAdjacentElement=function(b,j){return"afterbegin"!==b&&"beforeend"!==b?N.call(this,b,j):"afterbegin"===b?(this.prepend(j),j):("beforeend"===b&&this.append(j),j)}},vo=A=>{const N=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(A,"__textContent",N),Object.defineProperty(A,"textContent",{get(){return" "+ii(this.childNodes).map(oe=>{var Xe,$t;const Ct=[];let qt=oe.nextSibling;for(;qt&&qt["s-sn"]===oe["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&Ct.push(null!=($t=null==(Xe=qt.textContent)?void 0:Xe.trim())?$t:""),qt=qt.nextSibling;return Ct.filter(Jt=>""!==Jt).join(" ")}).filter(oe=>""!==oe).join(" ")+" "},set(b){ii(this.childNodes).forEach(oe=>{let Xe=oe.nextSibling;for(;Xe&&Xe["s-sn"]===oe["s-sn"];){const $t=Xe;Xe=Xe.nextSibling,$t.remove()}if(""===oe["s-sn"]){const $t=this.ownerDocument.createTextNode(b);$t["s-sn"]="",we(oe.parentElement,$t,oe.nextSibling)}else oe.remove()})}})},jo=(A,N)=>{class b extends Array{item(oe){return this[oe]}}if(8&N.$flags$){const j=A.__lookupGetter__("childNodes");Object.defineProperty(A,"children",{get(){return this.childNodes.map(oe=>1===oe.nodeType)}}),Object.defineProperty(A,"childElementCount",{get:()=>A.children.length}),Object.defineProperty(A,"childNodes",{get(){const oe=j.call(this);if(!(1&zt.$flags$)&&2&Be(this).$flags$){const Xe=new b;for(let $t=0;$t<oe.length;$t++){const Ct=oe[$t]["s-nr"];Ct&&Xe.push(Ct)}return Xe}return b.from(oe)}})}},ii=A=>{const N=[];for(const b of Array.from(A))b["s-sr"]&&N.push(b),N.push(...ii(b.childNodes));return N},Li=A=>A["s-sn"]||1===A.nodeType&&A.getAttribute("slot")||"",Vi=(A,N,b)=>{let oe,j=0;for(;j<A.length;j++)if(oe=A[j],oe["s-sr"]&&oe["s-sn"]===N&&oe["s-hn"]===b||(oe=Vi(oe.childNodes,N,b),oe))return oe;return null},_o=(A,N)=>{const b=[A];for(;(A=A.nextSibling)&&A["s-sn"]===N;)b.push(A);return b},bo=(A,N={})=>{var b;const oe=[],Xe=N.exclude||[],$t=pe.customElements,Ct=De.head,qt=Ct.querySelector("meta[charset]"),Jt=De.createElement("style"),gn=[];let bn,Kn=!0;Object.assign(zt,N),zt.$resourcesUrl$=new URL(N.resourcesUrl||"./",De.baseURI).href,zt.$flags$|=2;let Tn=!1;if(A.map(Ur=>{Ur[1].map(sr=>{var qr;const Xr={$flags$:sr[0],$tagName$:sr[1],$members$:sr[2],$listeners$:sr[3]};4&Xr.$flags$&&(Tn=!0),Xr.$members$=sr[2],Xr.$listeners$=sr[3],Xr.$attrsToReflect$=[],Xr.$watchers$=null!=(qr=sr[4])?qr:{};const hi=Xr.$tagName$,qi=class extends HTMLElement{constructor(Io){if(super(Io),this.hasRegisteredEventListeners=!1,((A,N)=>{const b={$flags$:0,$hostElement$:A,$cmpMeta$:N,$instanceValues$:new Map};b.$onInstancePromise$=new Promise(j=>b.$onInstanceResolve$=j),b.$onReadyPromise$=new Promise(j=>b.$onReadyResolve$=j),A["s-p"]=[],A["s-rc"]=[],be.set(A,b)})(Io=this,Xr),1&Xr.$flags$)if(Io.shadowRoot){if("open"!==Io.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Xr.$tagName$}! Mode is set to ${Io.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Io.attachShadow({mode:"open",delegatesFocus:!!(16&Xr.$flags$)})}connectedCallback(){const Io=Be(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,gi(this,Io,Xr.$listeners$)),bn&&(clearTimeout(bn),bn=null),Kn?gn.push(this):zt.jmp(()=>(A=>{if(!(1&zt.$flags$)){const N=Be(A),b=N.$cmpMeta$,j=()=>{};if(1&N.$flags$)gi(A,N,b.$listeners$),null!=N&&N.$lazyInstance$?ao(N.$lazyInstance$):null!=N&&N.$onReadyPromise$&&N.$onReadyPromise$.then(()=>ao(N.$lazyInstance$));else{let oe;if(N.$flags$|=1,oe=A.getAttribute(Se),oe){if(1&b.$flags$){const Xe=Pe(A.shadowRoot,b,A.getAttribute("s-mode"));A.classList.remove(Xe+"-h",Xe+"-s")}((A,N,b,j)=>{const Xe=A.shadowRoot,$t=[],qt=Xe?[]:null,Jt=j.$vnode$=vn(N,null);zt.$orgLocNodes$||tr(De.body,zt.$orgLocNodes$=new Map),A[Se]=b,A.removeAttribute(Se),pr(Jt,$t,[],qt,A,A,b),$t.map(gn=>{const bn=gn.$hostId$+"."+gn.$nodeId$,Kn=zt.$orgLocNodes$.get(bn),Tn=gn.$elm$;Kn&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(Tn,Kn.nextSibling),Xe||(Tn["s-hn"]=N,Kn&&(Tn["s-ol"]=Kn,Tn["s-ol"]["s-nr"]=Tn)),zt.$orgLocNodes$.delete(bn)}),Xe&&qt.map(gn=>{gn&&Xe.appendChild(gn)})})(A,b.$tagName$,oe,N)}oe||12&b.$flags$&&Pi(A);{let Xe=A;for(;Xe=Xe.parentNode||Xe.host;)if(1===Xe.nodeType&&Xe.hasAttribute("s-id")&&Xe["s-p"]||Xe["s-p"]){Bn(N,N.$ancestorComponent$=Xe);break}}b.$members$&&Object.entries(b.$members$).map(([Xe,[$t]])=>{if(31&$t&&A.hasOwnProperty(Xe)){const Ct=A[Xe];delete A[Xe],A[Xe]=Ct}}),ji(A,N,b)}j()}})(this))}disconnectedCallback(){zt.jmp(()=>ri(this))}componentOnReady(){return Be(this).$onReadyPromise$}};2&Xr.$flags$&&((A,N)=>{dr(A),di(A),lo(A),Do(A),Ar(A),hs(A),Ki(A),vo(A),jo(A,N),bi(A)})(qi.prototype,Xr),Xr.$lazyBundleId$=Ur[0],!Xe.includes(hi)&&!$t.get(hi)&&(oe.push(hi),$t.define(hi,vr(qi,Xr,1)))})}),oe.length>0&&(Tn&&(Jt.textContent+=at),Jt.textContent+=oe.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Jt.innerHTML.length)){Jt.setAttribute("data-styles","");const Ur=null!=(b=zt.$nonce$)?b:En(De);null!=Ur&&Jt.setAttribute("nonce",Ur),Ct.insertBefore(Jt,qt?qt.nextSibling:Ct.firstChild)}Kn=!1,gn.length?gn.map(Ur=>Ur.connectedCallback()):zt.jmp(()=>bn=setTimeout(li,30))},gi=(A,N,b,j)=>{b&&b.map(([oe,Xe,$t])=>{const Ct=No(A,oe),qt=yo(N,$t),Jt=Oo(oe);zt.ael(Ct,Xe,qt,Jt),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>zt.rel(Ct,Xe,qt,Jt))})},yo=(A,N)=>b=>{var j;try{256&A.$flags$?null==(j=A.$lazyInstance$)||j[N](b):(A.$queuedListeners$=A.$queuedListeners$||[]).push([N,b])}catch(oe){$e(oe)}},No=(A,N)=>4&N?De:8&N?pe:16&N?De.body:A,Oo=A=>Dn?{passive:!!(1&A),capture:!!(2&A)}:!!(2&A)},8607:(mn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>je});var c=k(1970);const f=(qe,He,Ze,ct)=>{const nt=ne(qe)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let st,It;return qe.__zone_symbol__addEventListener?(st="__zone_symbol__addEventListener",It="__zone_symbol__removeEventListener"):(st="addEventListener",It="removeEventListener"),qe[st](He,Ze,nt),()=>{qe[It](He,Ze,nt)}},ne=qe=>{if(void 0===te)try{const He=Object.defineProperty({},"passive",{get:()=>{te=!0}});qe.addEventListener("optsTest",()=>{},He)}catch{te=!1}return!!te};let te;const be=qe=>qe instanceof Document?qe:qe.ownerDocument,je=qe=>{let He=!1,Ze=!1,ct=!0,nt=!1;const st=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},qe),It=st.canStart,mt=st.onWillStart,Se=st.onStart,_e=st.onEnd,Me=st.notCaptured,dt=st.onMove,at=st.threshold,Mt=st.passive,pe=st.blurOnStart,De={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ot=((qe,He,Ze)=>{const ct=Ze*(Math.PI/180),nt="x"===qe,st=Math.cos(ct),It=He*He;let mt=0,Se=0,_e=!1,Me=0;return{start(dt,at){mt=dt,Se=at,Me=0,_e=!0},detect(dt,at){if(!_e)return!1;const Mt=dt-mt,pe=at-Se,De=Mt*Mt+pe*pe;if(De<It)return!1;const Ot=Math.sqrt(De),zt=(nt?Mt:pe)/Ot;return Me=zt>st?1:zt<-st?-1:0,_e=!1,!0},isGesture:()=>0!==Me,getDirection:()=>Me}})(st.direction,st.threshold,st.maxAngle),zt=c.G.createGesture({name:qe.gestureName,priority:qe.gesturePriority,disableScroll:qe.disableScroll}),Dn=()=>{He&&(nt=!1,dt&&dt(De))},Fe=()=>!!zt.capture()&&(He=!0,ct=!1,De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime,mt?mt(De).then(ee):ee(),!0),ee=()=>{pe&&(()=>{if(typeof document<"u"){const Ke=document.activeElement;null!=Ke&&Ke.blur&&Ke.blur()}})(),Se&&Se(De),ct=!0},ye=()=>{He=!1,Ze=!1,nt=!1,ct=!0,zt.release()},re=Ke=>{const Ve=He,rt=ct;if(ye(),rt){if(Ee(De,Ke),Ve)return void(_e&&_e(De));Me&&Me(De)}},Ae=((qe,He,Ze,ct,nt)=>{let st,It,mt,Se,_e,Me,dt,at=0;const Mt=Y=>{at=Date.now()+2e3,He(Y)&&(!It&&Ze&&(It=f(qe,"touchmove",Ze,nt)),mt||(mt=f(Y.target,"touchend",De,nt)),Se||(Se=f(Y.target,"touchcancel",De,nt)))},pe=Y=>{at>Date.now()||He(Y)&&(!Me&&Ze&&(Me=f(be(qe),"mousemove",Ze,nt)),dt||(dt=f(be(qe),"mouseup",Ot,nt)))},De=Y=>{zt(),ct&&ct(Y)},Ot=Y=>{Nt(),ct&&ct(Y)},zt=()=>{It&&It(),mt&&mt(),Se&&Se(),It=mt=Se=void 0},Nt=()=>{Me&&Me(),dt&&dt(),Me=dt=void 0},Et=()=>{zt(),Nt()},Dn=(Y=!0)=>{Y?(st||(st=f(qe,"touchstart",Mt,nt)),_e||(_e=f(qe,"mousedown",pe,nt))):(st&&st(),_e&&_e(),st=_e=void 0,Et())};return{enable:Dn,stop:Et,destroy:()=>{Dn(!1),ct=Ze=He=void 0}}})(st.el,Ke=>{const Ve=$e(Ke);return!(Ze||!ct||(ge(Ke,De),De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime=Ve,De.velocityX=De.velocityY=De.deltaX=De.deltaY=0,De.event=Ke,It&&!1===It(De))||(zt.release(),!zt.start()))&&(Ze=!0,0===at?Fe():(Ot.start(De.startX,De.startY),!0))},Ke=>{He?!nt&&ct&&(nt=!0,Ee(De,Ke),requestAnimationFrame(Dn)):(Ee(De,Ke),Ot.detect(De.currentX,De.currentY)&&(!Ot.isGesture()||!Fe())&&Qe())},re,{capture:!1,passive:Mt}),Qe=()=>{ye(),Ae.stop(),Me&&Me(De)};return{enable(Ke=!0){Ke||(He&&re(void 0),ye()),Ae.enable(Ke)},destroy(){zt.destroy(),Ae.destroy()}}},Ee=(qe,He)=>{if(!He)return;const Ze=qe.currentX,ct=qe.currentY,nt=qe.currentTime;ge(He,qe);const st=qe.currentX,It=qe.currentY,Se=(qe.currentTime=$e(He))-nt;if(Se>0&&Se<100){const Me=(It-ct)/Se;qe.velocityX=(st-Ze)/Se*.7+.3*qe.velocityX,qe.velocityY=.7*Me+.3*qe.velocityY}qe.deltaX=st-qe.startX,qe.deltaY=It-qe.startY,qe.event=He},ge=(qe,He)=>{let Ze=0,ct=0;if(qe){const nt=qe.changedTouches;if(nt&&nt.length>0){const st=nt[0];Ze=st.clientX,ct=st.clientY}else void 0!==qe.pageX&&(Ze=qe.pageX,ct=qe.pageY)}He.currentX=Ze,He.currentY=ct},$e=qe=>qe.timeStamp||Date.now()},3604:(mn,_t,k)=>{"use strict";k.d(_t,{b:()=>Be,c:()=>je,d:()=>Ee,e:()=>Et,g:()=>Y,l:()=>zt,s:()=>Dn,t:()=>st,w:()=>Nt});var c=k(467),f=k(9483),ne=k(4261),te=k(4929),ie=k(4920);const Be="ionViewWillLeave",je="ionViewDidLeave",Ee="ionViewWillUnload",ge=ee=>{ee.tabIndex=-1,ee.focus()},$e=ee=>null!==ee.offsetParent,He="ion-last-focus",nt_saveViewFocus=re=>{if(f.c.get("focusManagerPriority",!1)){const Qe=document.activeElement;null!==Qe&&null!=re&&re.contains(Qe)&&Qe.setAttribute(He,"true")}},nt_setViewFocus=re=>{const Ae=f.c.get("focusManagerPriority",!1);if(Array.isArray(Ae)&&!re.contains(document.activeElement)){const Qe=re.querySelector(`[${He}]`);if(Qe&&$e(Qe))return void ge(Qe);for(const Ke of Ae)switch(Ke){case"content":const Ve=re.querySelector('main, [role="main"]');if(Ve&&$e(Ve))return void ge(Ve);break;case"heading":const rt=re.querySelector('h1, [role="heading"][aria-level="1"]');if(rt&&$e(rt))return void ge(rt);break;case"banner":const lt=re.querySelector('header, [role="banner"]');if(lt&&$e(lt))return void ge(lt);break;default:(0,te.p)(`Unrecognized focus manager priority value ${Ke}`)}ge(re)}},st=ee=>new Promise((ye,re)=>{(0,ne.w)(()=>{It(ee),mt(ee).then(Ae=>{Ae.animation&&Ae.animation.destroy(),Se(ee),ye(Ae)},Ae=>{Se(ee),re(Ae)})})}),It=ee=>{const ye=ee.enteringEl,re=ee.leavingEl;nt_saveViewFocus(re),Fe(ye,re,ee.direction),ee.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),Dn(ye,!1),ye.style.setProperty("pointer-events","none"),re&&(Dn(re,!1),re.style.setProperty("pointer-events","none"))},mt=function(){var ee=(0,c.A)(function*(ye){const re=yield _e(ye);return re&&ne.B.isBrowser?Me(re,ye):dt(ye)});return function(re){return ee.apply(this,arguments)}}(),Se=ee=>{const ye=ee.enteringEl,re=ee.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==re&&(re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events")),nt_setViewFocus(ye)},_e=function(){var ee=(0,c.A)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(k.bind(k,5022))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,3615))).mdTransitionAnimation:void 0});return function(re){return ee.apply(this,arguments)}}(),Me=function(){var ee=(0,c.A)(function*(ye,re){yield at(re,!0);const Ae=ye(re.baseEl,re);De(re.enteringEl,re.leavingEl);const Qe=yield pe(Ae,re);return re.progressCallback&&re.progressCallback(void 0),Qe&&Ot(re.enteringEl,re.leavingEl),{hasCompleted:Qe,animation:Ae}});return function(re,Ae){return ee.apply(this,arguments)}}(),dt=function(){var ee=(0,c.A)(function*(ye){const re=ye.enteringEl,Ae=ye.leavingEl,Qe=f.c.get("focusManagerPriority",!1);return yield at(ye,Qe),De(re,Ae),Ot(re,Ae),{hasCompleted:!0}});return function(re){return ee.apply(this,arguments)}}(),at=function(){var ee=(0,c.A)(function*(ye,re){(void 0!==ye.deepWait?ye.deepWait:re)&&(yield Promise.all([Et(ye.enteringEl),Et(ye.leavingEl)])),yield Mt(ye.viewIsReady,ye.enteringEl)});return function(re,Ae){return ee.apply(this,arguments)}}(),Mt=function(){var ee=(0,c.A)(function*(ye,re){ye&&(yield ye(re))});return function(re,Ae){return ee.apply(this,arguments)}}(),pe=(ee,ye)=>{const re=ye.progressCallback,Ae=new Promise(Qe=>{ee.onFinish(Ke=>Qe(1===Ke))});return re?(ee.progressStart(!0),re(ee)):ee.play(),Ae},De=(ee,ye)=>{zt(ye,Be),zt(ee,"ionViewWillEnter")},Ot=(ee,ye)=>{zt(ee,"ionViewDidEnter"),zt(ye,je)},zt=(ee,ye)=>{if(ee){const re=new CustomEvent(ye,{bubbles:!1,cancelable:!1});ee.dispatchEvent(re)}},Nt=()=>new Promise(ee=>(0,ie.r)(()=>(0,ie.r)(()=>ee()))),Et=function(){var ee=(0,c.A)(function*(ye){const re=ye;if(re){if(null!=re.componentOnReady){if(null!=(yield re.componentOnReady()))return}else if(null!=re.__registerHost)return void(yield new Promise(Qe=>(0,ie.r)(Qe)));yield Promise.all(Array.from(re.children).map(Et))}});return function(re){return ee.apply(this,arguments)}}(),Dn=(ee,ye)=>{ye?(ee.setAttribute("aria-hidden","true"),ee.classList.add("ion-page-hidden")):(ee.hidden=!1,ee.removeAttribute("aria-hidden"),ee.classList.remove("ion-page-hidden"))},Fe=(ee,ye,re)=>{void 0!==ee&&(ee.style.zIndex="back"===re?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},Y=ee=>ee.classList.contains("ion-page")?ee:ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee},4929:(mn,_t,k)=>{"use strict";k.d(_t,{a:()=>f,b:()=>ne,p:()=>c});const c=(te,...ie)=>console.warn(`[Ionic Warning]: ${te}`,...ie),f=(te,...ie)=>console.error(`[Ionic Error]: ${te}`,...ie),ne=(te,...ie)=>console.error(`<${te.tagName.toLowerCase()}> must be used inside ${ie.join(" or ")}.`)},8476:(mn,_t,k)=>{"use strict";k.d(_t,{d:()=>f,w:()=>c});const c=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9483:(mn,_t,k)=>{"use strict";k.d(_t,{a:()=>ge,b:()=>Dn,c:()=>ne,i:()=>Fe});var c=k(4261);class f{constructor(){this.m=new Map}reset(ee){this.m=new Map(Object.entries(ee))}get(ee,ye){const re=this.m.get(ee);return void 0!==re?re:ye}getBoolean(ee,ye=!1){const re=this.m.get(ee);return void 0===re?ye:"string"==typeof re?"true"===re:!!re}getNumber(ee,ye){const re=parseFloat(this.m.get(ee));return isNaN(re)?void 0!==ye?ye:NaN:re}set(ee,ye){this.m.set(ee,ye)}}const ne=new f,je="ionic-persist-config",ge=(Y,ee)=>("string"==typeof Y&&(ee=Y,Y=void 0),(Y=>$e(Y))(Y).includes(ee)),$e=(Y=window)=>{if(typeof Y>"u")return[];Y.Ionic=Y.Ionic||{};let ee=Y.Ionic.platforms;return null==ee&&(ee=Y.Ionic.platforms=qe(Y),ee.forEach(ye=>Y.document.documentElement.classList.add(`plt-${ye}`))),ee},qe=Y=>{const ee=ne.get("platform");return Object.keys(Nt).filter(ye=>{const re=null==ee?void 0:ee[ye];return"function"==typeof re?re(Y):Nt[ye](Y)})},Ze=Y=>!!(Ot(Y,/iPad/i)||Ot(Y,/Macintosh/i)&&_e(Y)),st=Y=>Ot(Y,/android|sink/i),_e=Y=>zt(Y,"(any-pointer:coarse)"),dt=Y=>at(Y)||Mt(Y),at=Y=>!!(Y.cordova||Y.phonegap||Y.PhoneGap),Mt=Y=>{const ee=Y.Capacitor;return!(null==ee||!ee.isNative)},Ot=(Y,ee)=>ee.test(Y.navigator.userAgent),zt=(Y,ee)=>{var ye;return null===(ye=Y.matchMedia)||void 0===ye?void 0:ye.call(Y,ee).matches},Nt={ipad:Ze,iphone:Y=>Ot(Y,/iPhone/i),ios:Y=>Ot(Y,/iPhone|iPod/i)||Ze(Y),android:st,phablet:Y=>{const ee=Y.innerWidth,ye=Y.innerHeight,re=Math.min(ee,ye),Ae=Math.max(ee,ye);return re>390&&re<520&&Ae>620&&Ae<800},tablet:Y=>{const ee=Y.innerWidth,ye=Y.innerHeight,re=Math.min(ee,ye),Ae=Math.max(ee,ye);return Ze(Y)||(Y=>st(Y)&&!Ot(Y,/mobile/i))(Y)||re>460&&re<820&&Ae>780&&Ae<1400},cordova:at,capacitor:Mt,electron:Y=>Ot(Y,/electron/i),pwa:Y=>{var ee;return!!(null!==(ee=Y.matchMedia)&&void 0!==ee&&ee.call(Y,"(display-mode: standalone)").matches||Y.navigator.standalone)},mobile:_e,mobileweb:Y=>_e(Y)&&!dt(Y),desktop:Y=>!_e(Y),hybrid:dt};let Et;const Dn=Y=>Y&&(0,c.g)(Y)||Et,Fe=(Y={})=>{if(typeof window>"u")return;const ee=window.document,ye=window,re=ye.Ionic=ye.Ionic||{},Ae={};Y._ael&&(Ae.ael=Y._ael),Y._rel&&(Ae.rel=Y._rel),Y._ce&&(Ae.ce=Y._ce),(0,c.a)(Ae);const Qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Y=>{try{const ee=Y.sessionStorage.getItem(je);return null!==ee?JSON.parse(ee):{}}catch{return{}}})(ye)),{persistConfig:!1}),re.config),(Y=>{const ee={};return Y.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,re])=>{try{return[decodeURIComponent(ye),decodeURIComponent(re)]}catch{return["",""]}}).filter(([ye])=>((Y,ee)=>Y.substr(0,ee.length)===ee)(ye,"ionic:")).map(([ye,re])=>[ye.slice(6),re]).forEach(([ye,re])=>{ee[ye]=re}),ee})(ye)),Y);ne.reset(Qe),ne.getBoolean("persistConfig")&&((Y,ee)=>{try{Y.sessionStorage.setItem(je,JSON.stringify(ee))}catch{return}})(ye,Qe),$e(ye),re.config=ne,re.mode=Et=ne.get("mode",ee.documentElement.getAttribute("mode")||(ge(ye,"ios")?"ios":"md")),ne.set("mode",Et),ee.documentElement.setAttribute("mode",Et),ee.documentElement.classList.add(Et),ne.getBoolean("_testing")&&ne.set("animated",!1);const Ke=rt=>{var lt;return null===(lt=rt.tagName)||void 0===lt?void 0:lt.startsWith("ION-")},Ve=rt=>["ios","md"].includes(rt);(0,c.c)(rt=>{for(;rt;){const lt=rt.mode||rt.getAttribute("mode");if(lt){if(Ve(lt))return lt;Ke(rt)&&console.warn('Invalid ionic mode: "'+lt+'", expected: "ios" or "md"')}rt=rt.parentElement}return Et})}},5022:(mn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{iosTransitionAnimation:()=>He,shadow:()=>Be});var c=k(9986),f=k(3604);k(8476),k(9483),k(4261);const be=ct=>document.querySelector(`${ct}.ion-cloned-element`),Be=ct=>ct.shadowRoot||ct,je=ct=>{const nt="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),st="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=nt){const It=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=It?It.querySelector(st):null}return ct.querySelector(st)},Ee=(ct,nt)=>{const st="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let It=[];if(null!=st){const mt=st.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=mt&&(It=mt.querySelectorAll("ion-buttons"))}else It=ct.querySelectorAll("ion-buttons");for(const mt of It){const Se=mt.closest("ion-header"),_e=Se&&!Se.classList.contains("header-collapse-condense-inactive"),Me=mt.querySelector("ion-back-button"),dt=mt.classList.contains("buttons-collapse");if(null!==Me&&("start"===mt.slot||""===mt.slot)&&(dt&&_e&&nt||!dt))return Me}return null},$e=(ct,nt,st,It,mt,Se,_e,Me,dt)=>{var at,Mt;const pe=nt?`calc(100% - ${mt.right+4}px)`:mt.left-4+"px",De=nt?"right":"left",Ot=nt?"left":"right",zt=nt?"right":"left";let Nt=1,Et=1,Dn=`scale(${Et})`;const Fe="scale(1)";if(Se&&_e){const Pt=(null===(at=Se.textContent)||void 0===at?void 0:at.trim())===(null===(Mt=Me.textContent)||void 0===Mt?void 0:Mt.trim());Nt=dt.width/_e.width,Et=(dt.height-Ze)/_e.height,Dn=Pt?`scale(${Nt}, ${Et})`:`scale(${Et})`}const ee=Be(It).querySelector("ion-icon").getBoundingClientRect(),ye=nt?ee.width/2-(ee.right-mt.right)+"px":mt.left-ee.width/2+"px",re=nt?`-${window.innerWidth-mt.right}px`:`${mt.left}px`,Ae=`${dt.top}px`,Qe=`${mt.top}px`,rt=st?[{offset:0,transform:`translate3d(${re}, ${Qe}, 0)`},{offset:1,transform:`translate3d(${ye}, ${Ae}, 0)`}]:[{offset:0,transform:`translate3d(${ye}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${re}, ${Qe}, 0)`}],An=st?[{offset:0,opacity:1,transform:Fe},{offset:1,opacity:0,transform:Dn}]:[{offset:0,opacity:0,transform:Dn},{offset:1,opacity:1,transform:Fe}],Zt=st?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Mn=(0,c.c)(),En=(0,c.c)(),_n=(0,c.c)(),Kt=be("ion-back-button"),ir=Be(Kt).querySelector(".button-text"),Tt=Be(Kt).querySelector("ion-icon");Kt.text=It.text,Kt.mode=It.mode,Kt.icon=It.icon,Kt.color=It.color,Kt.disabled=It.disabled,Kt.style.setProperty("display","block"),Kt.style.setProperty("position","fixed"),En.addElement(Tt),Mn.addElement(ir),_n.addElement(Kt),_n.beforeStyles({position:"absolute",top:"0px",[zt]:"0px"}).beforeAddWrite(()=>{It.style.setProperty("display","none"),Kt.style.setProperty(De,pe)}).afterAddWrite(()=>{It.style.setProperty("display",""),Kt.style.setProperty("display","none"),Kt.style.removeProperty(De)}).keyframes(rt),Mn.beforeStyles({"transform-origin":`${De} top`}).keyframes(An),En.beforeStyles({"transform-origin":`${Ot} center`}).keyframes(Zt),ct.addAnimation([Mn,En,_n])},qe=(ct,nt,st,It,mt,Se,_e,Me,dt)=>{var at,Mt;const pe=nt?"right":"left",De=nt?`calc(100% - ${mt.right}px)`:`${mt.left}px`,zt=`${mt.top}px`;let Et=nt?`-${window.innerWidth-_e.right-8}px`:`${_e.x+8}px`,Dn=.5;const Fe="scale(1)";let Y=`scale(${Dn})`;if(Me&&dt){Et=nt?`-${window.innerWidth-dt.right-8}px`:dt.x-8+"px";const lt=(null===(at=Me.textContent)||void 0===at?void 0:at.trim())===(null===(Mt=It.textContent)||void 0===Mt?void 0:Mt.trim());Dn=dt.height/(Se.height-Ze),Y=lt?`scale(${dt.width/Se.width}, ${Dn})`:`scale(${Dn})`}const re=_e.top+_e.height/2-mt.height*Dn/2+"px",Ke=st?[{offset:0,opacity:0,transform:`translate3d(${Et}, ${re}, 0) ${Y}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${zt}, 0) ${Fe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${zt}, 0) ${Fe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Et}, ${re}, 0) ${Y}`}],Ve=be("ion-title"),rt=(0,c.c)();Ve.innerText=It.innerText,Ve.size=It.size,Ve.color=It.color,rt.addElement(Ve),rt.beforeStyles({"transform-origin":`${pe} top`,height:`${mt.height}px`,display:"",position:"relative",[pe]:De}).beforeAddWrite(()=>{It.style.setProperty("opacity","0")}).afterAddWrite(()=>{It.style.setProperty("opacity",""),Ve.style.setProperty("display","none")}).keyframes(Ke),ct.addAnimation(rt)},He=(ct,nt)=>{var st;try{const It="cubic-bezier(0.32,0.72,0,1)",mt="opacity",Se="transform",_e="0%",dt="rtl"===ct.ownerDocument.dir,at=dt?"-99.5%":"99.5%",Mt=dt?"33%":"-33%",pe=nt.enteringEl,De=nt.leavingEl,Ot="back"===nt.direction,zt=pe.querySelector(":scope > ion-content"),Nt=pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Et=pe.querySelectorAll(":scope > ion-header > ion-toolbar"),Dn=(0,c.c)(),Fe=(0,c.c)();if(Dn.addElement(pe).duration((null!==(st=nt.duration)&&void 0!==st?st:0)||540).easing(nt.easing||It).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=ct){const re=(0,c.c)();re.addElement(ct),Dn.addAnimation(re)}if(zt||0!==Et.length||0!==Nt.length?(Fe.addElement(zt),Fe.addElement(Nt)):Fe.addElement(pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Dn.addAnimation(Fe),Ot?Fe.beforeClearStyles([mt]).fromTo("transform",`translateX(${Mt})`,`translateX(${_e})`).fromTo(mt,.8,1):Fe.beforeClearStyles([mt]).fromTo("transform",`translateX(${at})`,`translateX(${_e})`),zt){const re=Be(zt).querySelector(".transition-effect");if(re){const Ae=re.querySelector(".transition-cover"),Qe=re.querySelector(".transition-shadow"),Ke=(0,c.c)(),Ve=(0,c.c)(),rt=(0,c.c)();Ke.addElement(re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(Ae).beforeClearStyles([mt]).fromTo(mt,0,.1),rt.addElement(Qe).beforeClearStyles([mt]).fromTo(mt,.03,.7),Ke.addAnimation([Ve,rt]),Fe.addAnimation([Ke])}}const Y=pe.querySelector("ion-header.header-collapse-condense"),{forward:ee,backward:ye}=((ct,nt,st,It,mt)=>{const Se=Ee(It,st),_e=je(mt),Me=je(It),dt=Ee(mt,st),at=null!==Se&&null!==_e&&!st,Mt=null!==Me&&null!==dt&&st;if(at){const pe=_e.getBoundingClientRect(),De=Se.getBoundingClientRect(),Ot=Be(Se).querySelector(".button-text"),zt=null==Ot?void 0:Ot.getBoundingClientRect(),Et=Be(_e).querySelector(".toolbar-title").getBoundingClientRect();qe(ct,nt,st,_e,pe,Et,De,Ot,zt),$e(ct,nt,st,Se,De,Ot,zt,_e,Et)}else if(Mt){const pe=Me.getBoundingClientRect(),De=dt.getBoundingClientRect(),Ot=Be(dt).querySelector(".button-text"),zt=null==Ot?void 0:Ot.getBoundingClientRect(),Et=Be(Me).querySelector(".toolbar-title").getBoundingClientRect();qe(ct,nt,st,Me,pe,Et,De,Ot,zt),$e(ct,nt,st,dt,De,Ot,zt,Me,Et)}return{forward:at,backward:Mt}})(Dn,dt,Ot,pe,De);if(Et.forEach(re=>{const Ae=(0,c.c)();Ae.addElement(re),Dn.addAnimation(Ae);const Qe=(0,c.c)();Qe.addElement(re.querySelector("ion-title"));const Ke=(0,c.c)(),Ve=Array.from(re.querySelectorAll("ion-buttons,[menuToggle]")),rt=re.closest("ion-header"),lt=null==rt?void 0:rt.classList.contains("header-collapse-condense-inactive");let St;St=Ve.filter(Ot?Mn=>{const En=Mn.classList.contains("buttons-collapse");return En&&!lt||!En}:Mn=>!Mn.classList.contains("buttons-collapse")),Ke.addElement(St);const An=(0,c.c)();An.addElement(re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const sn=(0,c.c)();sn.addElement(Be(re).querySelector(".toolbar-background"));const dn=(0,c.c)(),Zt=re.querySelector("ion-back-button");if(Zt&&dn.addElement(Zt),Ae.addAnimation([Qe,Ke,An,sn,dn]),Ke.fromTo(mt,.01,1),An.fromTo(mt,.01,1),Ot)lt||Qe.fromTo("transform",`translateX(${Mt})`,`translateX(${_e})`).fromTo(mt,.01,1),An.fromTo("transform",`translateX(${Mt})`,`translateX(${_e})`),dn.fromTo(mt,.01,1);else if(Y||Qe.fromTo("transform",`translateX(${at})`,`translateX(${_e})`).fromTo(mt,.01,1),An.fromTo("transform",`translateX(${at})`,`translateX(${_e})`),sn.beforeClearStyles([mt,"transform"]),(null==rt?void 0:rt.translucent)?sn.fromTo("transform",dt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):sn.fromTo(mt,.01,"var(--opacity)"),ee||dn.fromTo(mt,.01,1),Zt&&!ee){const En=(0,c.c)();En.addElement(Be(Zt).querySelector(".button-text")).fromTo("transform",dt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ae.addAnimation(En)}}),De){const re=(0,c.c)(),Ae=De.querySelector(":scope > ion-content"),Qe=De.querySelectorAll(":scope > ion-header > ion-toolbar"),Ke=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ae||0!==Qe.length||0!==Ke.length?(re.addElement(Ae),re.addElement(Ke)):re.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Dn.addAnimation(re),Ot){re.beforeClearStyles([mt]).fromTo("transform",`translateX(${_e})`,dt?"translateX(-100%)":"translateX(100%)");const Ve=(0,f.g)(De);Dn.afterAddWrite(()=>{"normal"===Dn.getDirection()&&Ve.style.setProperty("display","none")})}else re.fromTo("transform",`translateX(${_e})`,`translateX(${Mt})`).fromTo(mt,1,.8);if(Ae){const Ve=Be(Ae).querySelector(".transition-effect");if(Ve){const rt=Ve.querySelector(".transition-cover"),lt=Ve.querySelector(".transition-shadow"),St=(0,c.c)(),An=(0,c.c)(),sn=(0,c.c)();St.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),An.addElement(rt).beforeClearStyles([mt]).fromTo(mt,.1,0),sn.addElement(lt).beforeClearStyles([mt]).fromTo(mt,.7,.03),St.addAnimation([An,sn]),re.addAnimation([St])}}Qe.forEach(Ve=>{const rt=(0,c.c)();rt.addElement(Ve);const lt=(0,c.c)();lt.addElement(Ve.querySelector("ion-title"));const St=(0,c.c)(),An=Ve.querySelectorAll("ion-buttons,[menuToggle]"),sn=Ve.closest("ion-header"),dn=null==sn?void 0:sn.classList.contains("header-collapse-condense-inactive"),Zt=Array.from(An).filter(Tt=>{const Pt=Tt.classList.contains("buttons-collapse");return Pt&&!dn||!Pt});St.addElement(Zt);const Mn=(0,c.c)(),En=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");En.length>0&&Mn.addElement(En);const _n=(0,c.c)();_n.addElement(Be(Ve).querySelector(".toolbar-background"));const Kt=(0,c.c)(),ir=Ve.querySelector("ion-back-button");if(ir&&Kt.addElement(ir),rt.addAnimation([lt,St,Mn,Kt,_n]),Dn.addAnimation(rt),Kt.fromTo(mt,.99,0),St.fromTo(mt,.99,0),Mn.fromTo(mt,.99,0),Ot){if(dn||lt.fromTo("transform",`translateX(${_e})`,dt?"translateX(-100%)":"translateX(100%)").fromTo(mt,.99,0),Mn.fromTo("transform",`translateX(${_e})`,dt?"translateX(-100%)":"translateX(100%)"),_n.beforeClearStyles([mt,"transform"]),(null==sn?void 0:sn.translucent)?_n.fromTo("transform","translateX(0px)",dt?"translateX(-100%)":"translateX(100%)"):_n.fromTo(mt,"var(--opacity)",0),ir&&!ye){const Pt=(0,c.c)();Pt.addElement(Be(ir).querySelector(".button-text")).fromTo("transform",`translateX(${_e})`,`translateX(${(dt?-124:124)+"px"})`),rt.addAnimation(Pt)}}else dn||lt.fromTo("transform",`translateX(${_e})`,`translateX(${Mt})`).fromTo(mt,.99,0).afterClearStyles([Se,mt]),Mn.fromTo("transform",`translateX(${_e})`,`translateX(${Mt})`).afterClearStyles([Se,mt]),Kt.afterClearStyles([mt]),lt.afterClearStyles([mt]),St.afterClearStyles([mt])})}return Dn}catch(It){throw It}},Ze=10},3615:(mn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{mdTransitionAnimation:()=>ae});var c=k(9986),f=k(3604);k(8476),k(9483),k(4261);const ae=(be,Be)=>{var je,Ee,ge;const He="back"===Be.direction,ct=Be.leavingEl,nt=(0,f.g)(Be.enteringEl),st=nt.querySelector("ion-toolbar"),It=(0,c.c)();if(It.addElement(nt).fill("both").beforeRemoveClass("ion-page-invisible"),He?It.duration((null!==(je=Be.duration)&&void 0!==je?je:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):It.duration((null!==(Ee=Be.duration)&&void 0!==Ee?Ee:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),st){const mt=(0,c.c)();mt.addElement(st),It.addAnimation(mt)}if(ct&&He){It.duration((null!==(ge=Be.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const mt=(0,c.c)();mt.addElement((0,f.g)(ct)).onFinish(Se=>{1===Se&&mt.elements.length>0&&mt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),It.addAnimation(mt)}return It}},5229:(mn,_t,k)=>{"use strict";k.d(_t,{B:()=>An,F:()=>ir,G:()=>sn,O:()=>dn,a:()=>nt,b:()=>st,c:()=>_e,d:()=>Zt,e:()=>Mn,f:()=>ee,g:()=>re,h:()=>Ke,i:()=>rt,j:()=>dt,k:()=>at,l:()=>It,m:()=>mt,n:()=>Ee,o:()=>Fe,q:()=>ge,s:()=>St,t:()=>Me});var c=k(467),f=k(8476),ne=k(4920),te=k(7192),ie=k(9483),ae=k(8621),be=k(1970),Be=k(4929);const je='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ee=(Tt,Pt)=>{const bt=Tt.querySelector(je);$e(bt,null!=Pt?Pt:Tt)},ge=(Tt,Pt)=>{const bt=Array.from(Tt.querySelectorAll(je));$e(bt.length>0?bt[bt.length-1]:null,null!=Pt?Pt:Tt)},$e=(Tt,Pt)=>{let bt=Tt;const Le=null==Tt?void 0:Tt.shadowRoot;Le&&(bt=Le.querySelector(je)||Tt),bt?(0,ne.f)(bt):Pt.focus()};let qe=0,He=0;const Ze=new WeakMap,ct=Tt=>({create:Pt=>Mt(Tt,Pt),dismiss:(Pt,bt,Le)=>Nt(document,Pt,bt,Tt,Le),getTop:()=>(0,c.A)(function*(){return Fe(document,Tt)})()}),nt=ct("ion-alert"),st=ct("ion-action-sheet"),It=ct("ion-loading"),mt=ct("ion-modal"),_e=ct("ion-popover"),Me=ct("ion-toast"),dt=Tt=>{typeof document<"u"&&zt(document);const Pt=qe++;Tt.overlayIndex=Pt},at=Tt=>(Tt.hasAttribute("id")||(Tt.id="ion-overlay-"+ ++He),Tt.id),Mt=(Tt,Pt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Tt).then(()=>{const bt=document.createElement(Tt);return bt.classList.add("overlay-hidden"),Object.assign(bt,Object.assign(Object.assign({},Pt),{hasController:!0})),Ae(document).appendChild(bt),new Promise(Le=>(0,ne.c)(bt,Le))}):Promise.resolve(),De=(Tt,Pt)=>{let bt=Tt;const Le=null==Tt?void 0:Tt.shadowRoot;Le&&(bt=Le.querySelector(je)||Tt),bt?(0,ne.f)(bt):Pt.focus()},zt=Tt=>{0===qe&&(qe=1,Tt.addEventListener("focus",Pt=>{((Tt,Pt)=>{const bt=Fe(Pt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Le=Tt.target;bt&&Le&&!bt.classList.contains(ir)&&(bt.shadowRoot?(()=>{if(bt.contains(Le))bt.lastFocus=Le;else if("ION-TOAST"===Le.tagName)De(bt.lastFocus,bt);else{const vn=bt.lastFocus;Ee(bt),vn===Pt.activeElement&&ge(bt),bt.lastFocus=Pt.activeElement}})():(()=>{if(bt===Le)bt.lastFocus=void 0;else if("ION-TOAST"===Le.tagName)De(bt.lastFocus,bt);else{const vn=(0,ne.g)(bt);if(!vn.contains(Le))return;const hn=vn.querySelector(".ion-overlay-wrapper");if(!hn)return;if(hn.contains(Le)||Le===vn.querySelector("ion-backdrop"))bt.lastFocus=Le;else{const Wn=bt.lastFocus;Ee(hn,bt),Wn===Pt.activeElement&&ge(hn,bt),bt.lastFocus=Pt.activeElement}}})())})(Pt,Tt)},!0),Tt.addEventListener("ionBackButton",Pt=>{const bt=Fe(Tt);null!=bt&&bt.backdropDismiss&&Pt.detail.register(te.OVERLAY_BACK_BUTTON_PRIORITY,()=>{bt.dismiss(void 0,An)})}),(0,te.shouldUseCloseWatcher)()||Tt.addEventListener("keydown",Pt=>{if("Escape"===Pt.key){const bt=Fe(Tt);null!=bt&&bt.backdropDismiss&&bt.dismiss(void 0,An)}}))},Nt=(Tt,Pt,bt,Le,Nn)=>{const zn=Fe(Tt,Le,Nn);return zn?zn.dismiss(Pt,bt):Promise.reject("overlay does not exist")},Dn=(Tt,Pt)=>((Tt,Pt)=>(void 0===Pt&&(Pt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Tt.querySelectorAll(Pt)).filter(bt=>bt.overlayIndex>0)))(Tt,Pt).filter(bt=>!(Tt=>Tt.classList.contains("overlay-hidden"))(bt)),Fe=(Tt,Pt,bt)=>{const Le=Dn(Tt,Pt);return void 0===bt?Le[Le.length-1]:Le.find(Nn=>Nn.id===bt)},Y=(Tt=!1)=>{const bt=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");bt&&(Tt?bt.setAttribute("aria-hidden","true"):bt.removeAttribute("aria-hidden"))},ee=function(){var Tt=(0,c.A)(function*(Pt,bt,Le,Nn,zn){var vn,hn;if(Pt.presented)return;"ION-TOAST"!==Pt.el.tagName&&Y(!0),document.body.classList.add(be.B),_n(Pt.el),En(Pt.el),Pt.presented=!0,Pt.willPresent.emit(),null===(vn=Pt.willPresentShorthand)||void 0===vn||vn.emit();const Wn=(0,ie.b)(Pt),Qn=Pt.enterAnimation?Pt.enterAnimation:ie.c.get(bt,"ios"===Wn?Le:Nn);(yield Qe(Pt,Qn,Pt.el,zn))&&(Pt.didPresent.emit(),null===(hn=Pt.didPresentShorthand)||void 0===hn||hn.emit()),"ION-TOAST"!==Pt.el.tagName&&ye(Pt.el),Pt.keyboardClose&&(null===document.activeElement||!Pt.el.contains(document.activeElement))&&Pt.el.focus(),Pt.el.removeAttribute("aria-hidden")});return function(bt,Le,Nn,zn,vn){return Tt.apply(this,arguments)}}(),ye=function(){var Tt=(0,c.A)(function*(Pt){let bt=document.activeElement;if(!bt)return;const Le=null==bt?void 0:bt.shadowRoot;Le&&(bt=Le.querySelector(je)||bt),yield Pt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&bt.focus()});return function(bt){return Tt.apply(this,arguments)}}(),re=function(){var Tt=(0,c.A)(function*(Pt,bt,Le,Nn,zn,vn,hn){var Wn,Qn;if(!Pt.presented)return!1;const kn=void 0!==f.d?Dn(f.d).filter(fr=>"ION-TOAST"!==fr.tagName):[];1===kn.length&&kn[0].id===Pt.el.id&&(Y(!1),document.body.classList.remove(be.B)),Pt.presented=!1;try{En(Pt.el),Pt.el.style.setProperty("pointer-events","none"),Pt.willDismiss.emit({data:bt,role:Le}),null===(Wn=Pt.willDismissShorthand)||void 0===Wn||Wn.emit({data:bt,role:Le});const fr=(0,ie.b)(Pt),pr=Pt.leaveAnimation?Pt.leaveAnimation:ie.c.get(Nn,"ios"===fr?zn:vn);Le!==sn&&(yield Qe(Pt,pr,Pt.el,hn)),Pt.didDismiss.emit({data:bt,role:Le}),null===(Qn=Pt.didDismissShorthand)||void 0===Qn||Qn.emit({data:bt,role:Le}),(Ze.get(Pt)||[]).forEach(Gr=>Gr.destroy()),Ze.delete(Pt),Pt.el.classList.add("overlay-hidden"),Pt.el.style.removeProperty("pointer-events"),void 0!==Pt.el.lastFocus&&(Pt.el.lastFocus=void 0)}catch(fr){console.error(fr)}return Pt.el.remove(),Kt(),!0});return function(bt,Le,Nn,zn,vn,hn,Wn){return Tt.apply(this,arguments)}}(),Ae=Tt=>Tt.querySelector("ion-app")||Tt.body,Qe=function(){var Tt=(0,c.A)(function*(Pt,bt,Le,Nn){Le.classList.remove("overlay-hidden");const vn=bt(Pt.el,Nn);(!Pt.animated||!ie.c.getBoolean("animated",!0))&&vn.duration(0),Pt.keyboardClose&&vn.beforeAddWrite(()=>{const Wn=Le.ownerDocument.activeElement;null!=Wn&&Wn.matches("input,ion-input, ion-textarea")&&Wn.blur()});const hn=Ze.get(Pt)||[];return Ze.set(Pt,[...hn,vn]),yield vn.play(),!0});return function(bt,Le,Nn,zn){return Tt.apply(this,arguments)}}(),Ke=(Tt,Pt)=>{let bt;const Le=new Promise(Nn=>bt=Nn);return Ve(Tt,Pt,Nn=>{bt(Nn.detail)}),Le},Ve=(Tt,Pt,bt)=>{const Le=Nn=>{(0,ne.b)(Tt,Pt,Le),bt(Nn)};(0,ne.a)(Tt,Pt,Le)},rt=Tt=>"cancel"===Tt||Tt===An,lt=Tt=>Tt(),St=(Tt,Pt)=>{if("function"==typeof Tt)return ie.c.get("_zoneGate",lt)(()=>{try{return Tt(Pt)}catch(Le){throw Le}})},An="backdrop",sn="gesture",dn=39,Zt=Tt=>{let bt,Pt=!1;const Le=(0,ae.C)(),Nn=(hn=!1)=>{if(bt&&!hn)return{delegate:bt,inline:Pt};const{el:Wn,hasController:Qn,delegate:kn}=Tt;return Pt=null!==Wn.parentNode&&!Qn,bt=Pt?kn||Le:kn,{inline:Pt,delegate:bt}};return{attachViewToDom:function(){var hn=(0,c.A)(function*(Wn){const{delegate:Qn}=Nn(!0);if(Qn)return yield Qn.attachViewToDom(Tt.el,Wn);const{hasController:kn}=Tt;if(kn&&void 0!==Wn)throw new Error("framework delegate is missing");return null});return function(Qn){return hn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:hn}=Nn();hn&&void 0!==Tt.el&&hn.removeViewFromDom(Tt.el.parentElement,Tt.el)}}},Mn=()=>{let Tt;const Pt=()=>{Tt&&(Tt(),Tt=void 0)};return{addClickListener:(Le,Nn)=>{Pt();const zn=void 0!==Nn?document.getElementById(Nn):null;zn?Tt=((hn,Wn)=>{const Qn=()=>{Wn.present()};return hn.addEventListener("click",Qn),()=>{hn.removeEventListener("click",Qn)}})(zn,Le):(0,Be.p)(`A trigger element with the ID "${Nn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Le)},removeClickListener:Pt}},En=Tt=>{void 0!==f.d&&Tt.setAttribute("aria-hidden","true")},_n=Tt=>{var Pt;if(void 0===f.d)return;const bt=Dn(f.d);for(let Le=bt.length-1;Le>=0;Le--){const Nn=bt[Le],zn=null!==(Pt=bt[Le+1])&&void 0!==Pt?Pt:Tt;(zn.hasAttribute("aria-hidden")||"ION-TOAST"!==zn.tagName)&&Nn.setAttribute("aria-hidden","true")}},Kt=()=>{if(void 0===f.d)return;const Tt=Dn(f.d);for(let Pt=Tt.length-1;Pt>=0;Pt--){const bt=Tt[Pt];if(bt.removeAttribute("aria-hidden"),"ION-TOAST"!==bt.tagName)break}},ir="ion-disable-focus-trap"},1148:(mn,_t,k)=>{"use strict";k.d(_t,{u:()=>$n});var c=k(467),f=k(4438),ne=k(1182),te=k(7687),ie=k(5407);k(7037);var at=k(1526);const dn=(0,ie.S3)(at.gS,!0),Pt=(0,ie.S3)(at.rJ,!0),kn=(0,ie.S3)(at.H9,!0),Fr=(0,ie.S3)(at.x7,!0),Fi=(0,ie.S3)(at.BN,!0);var xn=k(4171);let $n=(()=>{var nr;class Pn{constructor(){this.afAuth=(0,f.WQX)(ne.DS),this.firestore=(0,f.WQX)(te.Qe),this.utilsService=(0,f.WQX)(xn.T)}iniciarSesion(On,br){var or=this;return(0,c.A)(function*(){try{var li;const ti=yield or.afAuth.signInWithEmailAndPassword(On,br),lr=yield or.obtenerDocumento(`usuarios/${null===(li=ti.user)||void 0===li?void 0:li.uid}`);return or.utilsService.guardarEnLocalStorage("usuario",lr),ti.user}catch(ti){throw console.error("Error al iniciar sesi\xf3n:",ti),ti}})()}signUp(On,br,or,li){var ti=this;return(0,c.A)(function*(){try{const lr=yield ti.afAuth.createUserWithEmailAndPassword(On,br);return lr.user&&(yield ti.establecerDocumento(`usuarios/${lr.user.uid}`,{nombre:or,apellido:li,email:On,uid:lr.user.uid})),lr.user}catch(lr){throw console.error("Error al registrarse:",lr),lr}})()}cerrarSesion(){var On=this;return(0,c.A)(function*(){try{yield On.afAuth.signOut(),console.log("Sesi\xf3n cerrada exitosamente"),localStorage.removeItem("usuario"),On.utilsService.navegarARaiz("/inicio-sesion")}catch(br){throw console.error("Error al cerrar sesi\xf3n:",br),br}})()}changePassword(On,br){var or=this;return(0,c.A)(function*(){try{const li=yield or.afAuth.currentUser;if(!li)throw new Error("Usuario no autenticado");(yield or.afAuth.signInWithEmailAndPassword(li.email,br))&&(yield li.updatePassword(On),console.log("Contrase\xf1a actualizada con \xe9xito"))}catch(li){throw console.error("Error al cambiar la contrase\xf1a:",li),li}})()}obtenerDocumento(On){var br=this;return(0,c.A)(function*(){try{const or=yield Fr(kn(br.firestore.firestore,On));return or.exists()?or.data():null}catch(or){throw console.error(`Error al obtener el documento de la ruta ${On}:`,or),or}})()}resetPasswordEmail(On){var br=this;return(0,c.A)(function*(){try{yield br.afAuth.sendPasswordResetEmail(On),console.log("Correo de restablecimiento enviado.")}catch(or){throw console.error("Error al enviar el correo de restablecimiento:",or),or}})()}obtenerDatosUsuarioActual(){var On=this;return(0,c.A)(function*(){try{const br=yield On.afAuth.currentUser;return br?On.obtenerDocumento(`usuarios/${br.uid}`):null}catch(br){throw console.error("Error al obtener los datos del usuario actual:",br),br}})()}establecerDocumento(On,br){return Fi(kn(this.firestore.firestore,On),br)}agregarDocumento(On,br){return dn(Pt(this.firestore.firestore,On),br)}obtenerInstanciaAuth(){return this.afAuth}}return(nr=Pn).\u0275fac=function(On){return new(On||nr)},nr.\u0275prov=f.jDH({token:nr,factory:nr.\u0275fac,providedIn:"root"}),Pn})()},4171:(mn,_t,k)=>{"use strict";k.d(_t,{T:()=>ie});var c=k(467),f=k(4438),ne=k(4742),te=k(4964);let ie=(()=>{var ae;class be{constructor(je,Ee,ge){this.loadingCtrl=je,this.toastCtrl=Ee,this.router=ge}presentarCargando(je="Cargando..."){var Ee=this;return(0,c.A)(function*(){return yield Ee.loadingCtrl.create({message:je,spinner:"crescent",duration:2e3})})()}mostrarToast(je){var Ee=this;return(0,c.A)(function*(){(yield Ee.toastCtrl.create({message:je.mensaje,duration:je.duracion,color:je.color,icon:je.icono||"information-circle"})).present()})()}obtenerDelLocalStorage(je){const Ee=localStorage.getItem(je);return Ee?JSON.parse(Ee):null}guardarEnLocalStorage(je,Ee){localStorage.setItem(je,JSON.stringify(Ee))}navegarARaiz(je){this.router.navigate([je])}navegarAlInicio(je){this.navegarARaiz(je)}}return(ae=be).\u0275fac=function(je){return new(je||ae)(f.KVO(ne.Xi),f.KVO(ne.K_),f.KVO(te.Ix))},ae.\u0275prov=f.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"}),be})()},6132:(mn,_t,k)=>{"use strict";var c=k(345),f=k(4964),ne=k(2872),te=k(4742),ie=k(467),ae=k(4438),be=k(1148);let Be=(()=>{var v;class C{constructor(U,Ie){this.authSvc=U,this.navCtrl=Ie}cerrarSesion(){var U=this;return(0,ie.A)(function*(){try{yield U.authSvc.cerrarSesion(),U.navCtrl.navigateRoot("/inicio-sesion")}catch(Ie){console.error("Error al cerrar sesi\xf3n:",Ie)}})()}}return(v=C).\u0275fac=function(U){return new(U||v)(ae.rXU(be.u),ae.rXU(ne.q9))},v.\u0275cmp=ae.VBU({type:v,selectors:[["app-root"]],decls:28,vars:0,consts:[["autoside","start","menuId","main-menu","contentId","main-content"],["auto-hide","true"],["routerLink","/home"],["slot","start","name","home-outline"],["routerLink","/mis-viajes"],["slot","start","name","car-sport-outline"],["routerLink","/perfil"],["slot","start","name","person-outline"],["button","",3,"click"],["slot","start","name","log-out-outline"],["id","main-content"]],template:function(U,Ie){1&U&&(ae.j41(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),ae.EFF(5,"Men\xfa Principal"),ae.k0s()()(),ae.j41(6,"ion-content")(7,"ion-list")(8,"ion-menu-toggle",1)(9,"ion-item",2),ae.nrm(10,"ion-icon",3),ae.j41(11,"ion-label"),ae.EFF(12,"Inicio"),ae.k0s()(),ae.j41(13,"ion-item",4),ae.nrm(14,"ion-icon",5),ae.j41(15,"ion-label"),ae.EFF(16,"Mis Viajes"),ae.k0s()(),ae.j41(17,"ion-item",6),ae.nrm(18,"ion-icon",7),ae.j41(19,"ion-label"),ae.EFF(20,"Perfil"),ae.k0s()()()(),ae.j41(21,"ion-footer")(22,"ion-toolbar")(23,"ion-item",8),ae.bIt("click",function(){return Ie.cerrarSesion()}),ae.nrm(24,"ion-icon",9),ae.j41(25,"ion-label"),ae.EFF(26,"Cerrar Sesi\xf3n"),ae.k0s()()()()()(),ae.nrm(27,"ion-router-outlet",10),ae.k0s())},dependencies:[te.U1,te.W9,te.M0,te.eU,te.iq,te.uz,te.he,te.nf,te.oS,te.cA,te.BC,te.ai,te.Rg,te.N7,f.Wk]}),C})();const je=[{path:"home",loadChildren:()=>k.e(2069).then(k.bind(k,2069)).then(v=>v.HomePageModule)},{path:"",redirectTo:"inicio-sesion",pathMatch:"full"},{path:"perfil",loadChildren:()=>k.e(5382).then(k.bind(k,5382)).then(v=>v.PerfilPageModule)},{path:"detalles-viaje-modal",loadChildren:()=>k.e(621).then(k.bind(k,621)).then(v=>v.DetallesViajeModalPageModule)},{path:"viajes-disponibles",loadChildren:()=>k.e(8171).then(k.bind(k,8171)).then(v=>v.ViajesDisponiblesPageModule)},{path:"programar-viaje",loadChildren:()=>k.e(7106).then(k.bind(k,7106)).then(v=>v.ProgramarViajePageModule)},{path:"inicio-sesion",loadChildren:()=>k.e(3032).then(k.bind(k,3032)).then(v=>v.InicioSesionPageModule)},{path:"registrarse",loadChildren:()=>k.e(2958).then(k.bind(k,2958)).then(v=>v.RegistrarsePageModule)},{path:"editar-perfil",loadChildren:()=>k.e(5261).then(k.bind(k,5261)).then(v=>v.EditarPerfilPageModule)},{path:"reestablecer",loadChildren:()=>k.e(39).then(k.bind(k,39)).then(v=>v.ReestablecerPageModule)},{path:"viaje-en-curso/:id",loadChildren:()=>k.e(9790).then(k.bind(k,9790)).then(v=>v.ViajeEnCursoPageModule)}];let Ee=(()=>{var v;class C{}return(v=C).\u0275fac=function(U){return new(U||v)},v.\u0275mod=ae.$C({type:v}),v.\u0275inj=ae.G2t({imports:[f.iI.forRoot(je,{preloadingStrategy:f.Kp}),f.iI]}),C})();var ge=k(9253),$e=k(1182),qe=k(7687);const He={apiKey:"AIzaSyBckMIJotq6y859L9MQm8bn1nR6JXsfni0",authDomain:"sorkoapp.firebaseapp.com",projectId:"sorkoapp",storageBucket:"sorkoapp.firebasestorage.app",messagingSenderId:"145819077989",appId:"1:145819077989:web:f6d1de6952b8628c85258c"};var Ze=k(9842),ct=k(5407),nt=k(1985),st=k(7673),It=k(8455),mt=k(3236),Se=k(9974),_e=k(4360),dt=k(6354),at=k(5558),Mt=k(9574),pe=k(2979),De=k(1401),Ot=k(8779);const zt="firebasestorage.googleapis.com",Nt="storageBucket";class Y extends De.g{constructor(C,w,U=0){super(ye(C),`Firebase Storage: ${w} (${ye(C)})`),this.status_=U,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Y.prototype)}get status(){return this.status_}set status(C){this.status_=C}_codeEquals(C){return ye(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ee=function(v){return v.UNKNOWN="unknown",v.OBJECT_NOT_FOUND="object-not-found",v.BUCKET_NOT_FOUND="bucket-not-found",v.PROJECT_NOT_FOUND="project-not-found",v.QUOTA_EXCEEDED="quota-exceeded",v.UNAUTHENTICATED="unauthenticated",v.UNAUTHORIZED="unauthorized",v.UNAUTHORIZED_APP="unauthorized-app",v.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",v.INVALID_CHECKSUM="invalid-checksum",v.CANCELED="canceled",v.INVALID_EVENT_NAME="invalid-event-name",v.INVALID_URL="invalid-url",v.INVALID_DEFAULT_BUCKET="invalid-default-bucket",v.NO_DEFAULT_BUCKET="no-default-bucket",v.CANNOT_SLICE_BLOB="cannot-slice-blob",v.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",v.NO_DOWNLOAD_URL="no-download-url",v.INVALID_ARGUMENT="invalid-argument",v.INVALID_ARGUMENT_COUNT="invalid-argument-count",v.APP_DELETED="app-deleted",v.INVALID_ROOT_OPERATION="invalid-root-operation",v.INVALID_FORMAT="invalid-format",v.INTERNAL_ERROR="internal-error",v.UNSUPPORTED_ENVIRONMENT="unsupported-environment",v}(ee||{});function ye(v){return"storage/"+v}function re(){return new Y(ee.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lt(){return new Y(ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function St(){return new Y(ee.CANCELED,"User canceled the upload/download.")}function Zt(){return new Y(ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kt(v){return new Y(ee.INVALID_ARGUMENT,v)}function ir(){return new Y(ee.APP_DELETED,"The Firebase app was deleted.")}function Tt(v){return new Y(ee.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(v,C){return new Y(ee.INVALID_FORMAT,"String does not match format '"+v+"': "+C)}function bt(v){throw new Y(ee.INTERNAL_ERROR,"Internal error: "+v)}class Le{constructor(C,w){this.bucket=C,this.path_=w}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,w){let U;try{U=Le.makeFromUrl(C,w)}catch{return new Le(C,"")}if(""===U.path)return U;throw function sn(v){return new Y(ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(C)}static makeFromUrl(C,w){let U=null;const Ie="([A-Za-z0-9.\\-_]+)",yn=new RegExp("^gs://"+Ie+"(/(.*))?$","i");function Ln(Ui){Ui.path_=decodeURIComponent(Ui.path)}const ni=w.replace(/[.]/g,"\\."),Yi=[{regex:yn,indices:{bucket:1,path:3},postModify:function pt(Ui){"/"===Ui.path.charAt(Ui.path.length-1)&&(Ui.path_=Ui.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ni}/v[A-Za-z0-9_]+/b/${Ie}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ln},{regex:new RegExp(`^https?://${w===zt?"(?:storage.googleapis.com|storage.cloud.google.com)":w}/${Ie}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ln}];for(let Ui=0;Ui<Yi.length;Ui++){const no=Yi[Ui],rs=no.regex.exec(C);if(rs){let is=rs[no.indices.path];is||(is=""),U=new Le(rs[no.indices.bucket],is),no.postModify(U);break}}if(null==U)throw function An(v){return new Y(ee.INVALID_URL,"Invalid URL '"+v+"'.")}(C);return U}}class Nn{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function kn(v){return"string"==typeof v||v instanceof String}function er(v){return fr()&&v instanceof Blob}function fr(){return typeof Blob<"u"}function pr(v,C,w,U){if(U<C)throw Kt(`Invalid value for '${v}'. Expected ${C} or greater.`);if(U>w)throw Kt(`Invalid value for '${v}'. Expected ${w} or less.`)}function tr(v,C,w){let U=C;return null==w&&(U=`https://${C}`),`${w}://${U}/v0${v}`}function Gr(v){const C=encodeURIComponent;let w="?";for(const U in v)v.hasOwnProperty(U)&&(w=w+(C(U)+"=")+C(v[U])+"&");return w=w.slice(0,-1),w}var jn=function(v){return v[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",v}(jn||{});function Vr(v,C){const w=v>=500&&v<600,Ie=-1!==[408,429].indexOf(v),pt=-1!==C.indexOf(v);return w||Ie||pt}class Ir{constructor(C,w,U,Ie,pt,Qt,yn,wn,Ln,hr,ni,yi=!0){this.url_=C,this.method_=w,this.headers_=U,this.body_=Ie,this.successCodes_=pt,this.additionalRetryCodes_=Qt,this.callback_=yn,this.errorCallback_=wn,this.timeout_=Ln,this.progressCallback_=hr,this.connectionFactory_=ni,this.retry=yi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Kr,Jn)=>{this.resolve_=Kr,this.reject_=Jn,this.start_()})}start_(){const w=(U,Ie)=>{const pt=this.resolve_,Qt=this.reject_,yn=Ie.connection;if(Ie.wasSuccessCode)try{const wn=this.callback_(yn,yn.getResponse());!function hn(v){return void 0!==v}(wn)?pt():pt(wn)}catch(wn){Qt(wn)}else if(null!==yn){const wn=re();wn.serverResponse=yn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(yn,wn):wn)}else Qt(Ie.canceled?this.appDelete_?ir():St():lt())};this.canceled_?w(0,new yt(!1,null,!0)):this.backoffId_=function zn(v,C,w){let U=1,Ie=null,pt=null,Qt=!1,yn=0;function wn(){return 2===yn}let Ln=!1;function hr(...jr){Ln||(Ln=!0,C.apply(null,jr))}function ni(jr){Ie=setTimeout(()=>{Ie=null,v(Kr,wn())},jr)}function yi(){pt&&clearTimeout(pt)}function Kr(jr,...zi){if(Ln)return void yi();if(jr)return yi(),void hr.call(null,jr,...zi);if(wn()||Qt)return yi(),void hr.call(null,jr,...zi);let Yi;U<64&&(U*=2),1===yn?(yn=2,Yi=0):Yi=1e3*(U+Math.random()),ni(Yi)}let Jn=!1;function Br(jr){Jn||(Jn=!0,yi(),!Ln&&(null!==Ie?(jr||(yn=2),clearTimeout(Ie),ni(0)):jr||(yn=1)))}return ni(0),pt=setTimeout(()=>{Qt=!0,Br(!0)},w),Br}((U,Ie)=>{if(Ie)return void U(!1,new yt(!1,null,!0));const pt=this.connectionFactory_();this.pendingConnection_=pt;const Qt=yn=>{null!==this.progressCallback_&&this.progressCallback_(yn.loaded,yn.lengthComputable?yn.total:-1)};null!==this.progressCallback_&&pt.addUploadProgressListener(Qt),pt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&pt.removeUploadProgressListener(Qt),this.pendingConnection_=null;const yn=pt.getErrorCode()===jn.NO_ERROR,wn=pt.getStatus();if(!yn||Vr(wn,this.additionalRetryCodes_)&&this.retry){const hr=pt.getErrorCode()===jn.ABORT;return void U(!1,new yt(!1,null,hr))}const Ln=-1!==this.successCodes_.indexOf(wn);U(!0,new yt(Ln,pt))})},w,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function vn(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class yt{constructor(C,w,U){this.wasSuccessCode=C,this.connection=w,this.canceled=!!U}}function At(...v){const C=function Oe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const w=new C;for(let U=0;U<v.length;U++)w.append(v[U]);return w.getBlob()}if(fr())return new Blob(v);throw new Y(ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ht={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Te{constructor(C,w){this.data=C,this.contentType=w||null}}function Re(v,C){switch(v){case Ht.RAW:return new Te(We(C));case Ht.BASE64:case Ht.BASE64URL:return new Te(ft(v,C));case Ht.DATA_URL:return new Te(function cn(v){const C=new pn(v);return C.base64?ft(Ht.BASE64,C.rest):function Lt(v){let C;try{C=decodeURIComponent(v)}catch{throw Pt(Ht.DATA_URL,"Malformed data URL.")}return We(C)}(C.rest)}(C),function Mr(v){return new pn(v).contentType}(C))}throw re()}function We(v){const C=[];for(let w=0;w<v.length;w++){let U=v.charCodeAt(w);U<=127?C.push(U):U<=2047?C.push(192|U>>6,128|63&U):55296==(64512&U)?w<v.length-1&&56320==(64512&v.charCodeAt(w+1))?(U=65536|(1023&U)<<10|1023&v.charCodeAt(++w),C.push(240|U>>18,128|U>>12&63,128|U>>6&63,128|63&U)):C.push(239,191,189):56320==(64512&U)?C.push(239,191,189):C.push(224|U>>12,128|U>>6&63,128|63&U)}return new Uint8Array(C)}function ft(v,C){switch(v){case Ht.BASE64:{const Ie=-1!==C.indexOf("-"),pt=-1!==C.indexOf("_");if(Ie||pt)throw Pt(v,"Invalid character '"+(Ie?"-":"_")+"' found: is it base64url encoded?");break}case Ht.BASE64URL:{const Ie=-1!==C.indexOf("+"),pt=-1!==C.indexOf("/");if(Ie||pt)throw Pt(v,"Invalid character '"+(Ie?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let w;try{w=function it(v){if(typeof atob>"u")throw function _n(v){return new Y(ee.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(C)}catch(Ie){throw Ie.message.includes("polyfill")?Ie:Pt(v,"Invalid character found")}const U=new Uint8Array(w.length);for(let Ie=0;Ie<w.length;Ie++)U[Ie]=w.charCodeAt(Ie);return U}class pn{constructor(C){this.base64=!1,this.contentType=null;const w=C.match(/^data:([^,]+)?,/);if(null===w)throw Pt(Ht.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const U=w[1]||null;null!=U&&(this.base64=function $r(v,C){return v.length>=C.length&&v.substring(v.length-C.length)===C}(U,";base64"),this.contentType=this.base64?U.substring(0,U.length-7):U),this.rest=C.substring(C.indexOf(",")+1)}}class Hn{constructor(C,w){let U=0,Ie="";er(C)?(this.data_=C,U=C.size,Ie=C.type):C instanceof ArrayBuffer?(w?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),U=this.data_.length):C instanceof Uint8Array&&(w?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),U=C.length),this.size_=U,this.type_=Ie}size(){return this.size_}type(){return this.type_}slice(C,w){if(er(this.data_)){const Ie=function Je(v,C,w){return v.webkitSlice?v.webkitSlice(C,w):v.mozSlice?v.mozSlice(C,w):v.slice?v.slice(C,w):null}(this.data_,C,w);return null===Ie?null:new Hn(Ie)}{const U=new Uint8Array(this.data_.buffer,C,w-C);return new Hn(U,!0)}}static getBlob(...C){if(fr()){const w=C.map(U=>U instanceof Hn?U.data_:U);return new Hn(At.apply(null,w))}{const w=C.map(Qt=>kn(Qt)?Re(Ht.RAW,Qt).data:Qt.data_);let U=0;w.forEach(Qt=>{U+=Qt.byteLength});const Ie=new Uint8Array(U);let pt=0;return w.forEach(Qt=>{for(let yn=0;yn<Qt.length;yn++)Ie[pt++]=Qt[yn]}),new Hn(Ie,!0)}}uploadData(){return this.data_}}function Er(v){let C;try{C=JSON.parse(v)}catch{return null}return function Qn(v){return"object"==typeof v&&!Array.isArray(v)}(C)?C:null}function Sr(v){const C=v.lastIndexOf("/",v.length-2);return-1===C?v:v.slice(C+1)}function Fn(v,C){return C}class Pr{constructor(C,w,U,Ie){this.server=C,this.local=w||C,this.writable=!!U,this.xform=Ie||Fn}}let _i=null;function ki(){if(_i)return _i;const v=[];v.push(new Pr("bucket")),v.push(new Pr("generation")),v.push(new Pr("metageneration")),v.push(new Pr("name","fullPath",!0));const w=new Pr("name");w.xform=function C(pt,Qt){return function Mi(v){return!kn(v)||v.length<2?v:Sr(v)}(Qt)},v.push(w);const Ie=new Pr("size");return Ie.xform=function U(pt,Qt){return void 0!==Qt?Number(Qt):Qt},v.push(Ie),v.push(new Pr("timeCreated")),v.push(new Pr("updated")),v.push(new Pr("md5Hash",null,!0)),v.push(new Pr("cacheControl",null,!0)),v.push(new Pr("contentDisposition",null,!0)),v.push(new Pr("contentEncoding",null,!0)),v.push(new Pr("contentLanguage",null,!0)),v.push(new Pr("contentType",null,!0)),v.push(new Pr("metadata","customMetadata",!0)),_i=v,_i}function se(v,C,w){const U=Er(C);return null===U?null:function gr(v,C,w){const U={type:"file"},Ie=w.length;for(let pt=0;pt<Ie;pt++){const Qt=w[pt];U[Qt.local]=Qt.xform(U,C[Qt.server])}return function Fi(v,C){Object.defineProperty(v,"ref",{get:function w(){const pt=new Le(v.bucket,v.fullPath);return C._makeStorageReference(pt)}})}(U,v),U}(v,U,w)}function ve(v,C){const w={},U=C.length;for(let Ie=0;Ie<U;Ie++){const pt=C[Ie];pt.writable&&(w[pt.server]=v[pt.local])}return JSON.stringify(w)}const Z="prefixes",J="items";class Bt{constructor(C,w,U,Ie){this.url=C,this.method=w,this.handler=U,this.timeout=Ie,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rn(v){if(!v)throw re()}function Bn(v,C){return function w(U,Ie){const pt=se(v,Ie,C);return rn(null!==pt),pt}}function nr(v){return function C(w,U){let Ie;return Ie=401===w.getStatus()?w.getErrorText().includes("Firebase App Check token is invalid")?function Ve(){return new Y(ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new Y(ee.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===w.getStatus()?function Qe(v){return new Y(ee.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===w.getStatus()?function rt(v){return new Y(ee.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):U,Ie.status=w.getStatus(),Ie.serverResponse=U.serverResponse,Ie}}function Pn(v){const C=nr(v);return function w(U,Ie){let pt=C(U,Ie);return 404===U.getStatus()&&(pt=function Ae(v){return new Y(ee.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),pt.serverResponse=Ie.serverResponse,pt}}function mr(v,C,w){const Ie=tr(C.fullServerUrl(),v.host,v._protocol),Qt=v.maxOperationRetryTime,yn=new Bt(Ie,"GET",Bn(v,w),Qt);return yn.errorHandler=Pn(C),yn}function On(v,C,w,U,Ie){const pt={};pt.prefix=C.isRoot?"":C.path+"/",w&&w.length>0&&(pt.delimiter=w),U&&(pt.pageToken=U),Ie&&(pt.maxResults=Ie);const yn=tr(C.bucketOnlyServerUrl(),v.host,v._protocol),Ln=v.maxOperationRetryTime,hr=new Bt(yn,"GET",function xn(v,C){return function w(U,Ie){const pt=function vt(v,C,w){const U=Er(w);return null===U?null:function we(v,C,w){const U={prefixes:[],items:[],nextPageToken:w.nextPageToken};if(w[Z])for(const Ie of w[Z]){const pt=Ie.replace(/\/$/,""),Qt=v._makeStorageReference(new Le(C,pt));U.prefixes.push(Qt)}if(w[J])for(const Ie of w[J]){const pt=v._makeStorageReference(new Le(C,Ie.name));U.items.push(pt)}return U}(v,C,U)}(v,C,Ie);return rn(null!==pt),pt}}(v,C.bucket),Ln);return hr.urlParams=pt,hr.errorHandler=nr(C),hr}function xo(v,C,w){const U=Object.assign({},w);return U.fullPath=v.path,U.size=C.size(),U.contentType||(U.contentType=function lr(v,C){return v&&v.contentType||C&&C.type()||"application/octet-stream"}(null,C)),U}class vr{constructor(C,w,U,Ie){this.current=C,this.total=w,this.finalized=!!U,this.metadata=Ie||null}}function ji(v,C){let w=null;try{w=v.getResponseHeader("X-Goog-Upload-Status")}catch{rn(!1)}return rn(!!w&&-1!==(C||["active"]).indexOf(w)),w}const ri={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dr(v){switch(v){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;default:return Gn.ERROR}}class di{constructor(C,w,U){if(function Wn(v){return"function"==typeof v}(C)||null!=w||null!=U)this.next=C,this.error=null!=w?w:void 0,this.complete=null!=U?U:void 0;else{const pt=C;this.next=pt.next,this.error=pt.error,this.complete=pt.complete}}}function bi(v){return(...C)=>{Promise.resolve().then(()=>v(...C))}}let Do=null;class lo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jn.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jn.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jn.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,w,U,Ie){if(this.sent_)throw bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(w,C,!0),void 0!==Ie)for(const pt in Ie)Ie.hasOwnProperty(pt)&&this.xhr_.setRequestHeader(pt,Ie[pt].toString());return void 0!==U?this.xhr_.send(U):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}class hs extends lo{initXhr(){this.xhr_.responseType="text"}}function Ki(){return Do?Do():new hs}class Li{constructor(C,w,U=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=w,this._metadata=U,this._mappings=ki(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ie=>{if(this._request=void 0,this._chunkMultiplier=1,Ie._codeEquals(ee.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const pt=this.isExponentialBackoffExpired();if(Vr(Ie.status,[])){if(!pt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ie=lt()}this._error=Ie,this._transition("error")}},this._metadataErrorHandler=Ie=>{this._request=void 0,Ie._codeEquals(ee.CANCELED)?this.completeTransitions_():(this._error=Ie,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ie,pt)=>{this._resolve=Ie,this._reject=pt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const C=this._transferred;return w=>this._updateProgress(C+w)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([w,U])=>{switch(this._state){case"running":C(w,U);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,w)=>{const U=function ao(v,C,w,U,Ie){const pt=C.bucketOnlyServerUrl(),Qt=xo(C,U,Ie),yn={name:Qt.fullPath},wn=tr(pt,v.host,v._protocol),hr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${U.size()}`,"X-Goog-Upload-Header-Content-Type":Qt.contentType,"Content-Type":"application/json; charset=utf-8"},ni=ve(Qt,w),Jn=new Bt(wn,"POST",function Kr(Br){let jr;ji(Br);try{jr=Br.getResponseHeader("X-Goog-Upload-URL")}catch{rn(!1)}return rn(kn(jr)),jr},v.maxUploadRetryTime);return Jn.urlParams=yn,Jn.headers=hr,Jn.body=ni,Jn.errorHandler=nr(C),Jn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(U,Ki,C,w);this._request=Ie,Ie.getPromise().then(pt=>{this._request=void 0,this._uploadUrl=pt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((w,U)=>{const Ie=function Di(v,C,w,U){const wn=new Bt(w,"POST",function pt(Ln){const hr=ji(Ln,["active","final"]);let ni=null;try{ni=Ln.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rn(!1)}ni||rn(!1);const yi=Number(ni);return rn(!isNaN(yi)),new vr(yi,U.size(),"final"===hr)},v.maxUploadRetryTime);return wn.headers={"X-Goog-Upload-Command":"query"},wn.errorHandler=nr(C),wn}(this._ref.storage,this._ref._location,C,this._blob),pt=this._ref.storage._makeRequest(Ie,Ki,w,U);this._request=pt,pt.getPromise().then(Qt=>{this._request=void 0,this._updateProgress(Qt.current),this._needToFetchStatus=!1,Qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,w=new vr(this._transferred,this._blob.size()),U=this._uploadUrl;this._resolveToken((Ie,pt)=>{let Qt;try{Qt=function pi(v,C,w,U,Ie,pt,Qt,yn){const wn=new vr(0,0);if(Qt?(wn.current=Qt.current,wn.total=Qt.total):(wn.current=0,wn.total=U.size()),U.size()!==wn.total)throw function Mn(){return new Y(ee.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ln=wn.total-wn.current;let hr=Ln;Ie>0&&(hr=Math.min(hr,Ie));const ni=wn.current;let Kr="";Kr=0===hr?"finalize":Ln===hr?"upload, finalize":"upload";const Jn={"X-Goog-Upload-Command":Kr,"X-Goog-Upload-Offset":`${wn.current}`},Br=U.slice(ni,ni+hr);if(null===Br)throw Zt();const Yi=new Bt(w,"POST",function jr(Ui,no){const rs=ji(Ui,["active","final"]),aa=wn.current+hr,is=U.size();let Da;return Da="final"===rs?Bn(C,pt)(Ui,no):null,new vr(aa,is,"final"===rs,Da)},C.maxUploadRetryTime);return Yi.headers=Jn,Yi.body=Br.uploadData(),Yi.progressCallback=yn||null,Yi.errorHandler=nr(v),Yi}(this._ref._location,this._ref.storage,U,this._blob,C,this._mappings,w,this._makeProgressCallback())}catch(wn){return this._error=wn,void this._transition("error")}const yn=this._ref.storage._makeRequest(Qt,Ki,Ie,pt,!1);this._request=yn,yn.getPromise().then(wn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(wn.current),wn.finalized?(this._metadata=wn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,w)=>{const U=mr(this._ref.storage,this._ref._location,this._mappings),Ie=this._ref.storage._makeRequest(U,Ki,C,w);this._request=Ie,Ie.getPromise().then(pt=>{this._request=void 0,this._metadata=pt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,w)=>{const U=function ci(v,C,w,U,Ie){const pt=C.bucketOnlyServerUrl(),Qt={"X-Goog-Upload-Protocol":"multipart"},wn=function yn(){let Yi="";for(let Ui=0;Ui<2;Ui++)Yi+=Math.random().toString().slice(2);return Yi}();Qt["Content-Type"]="multipart/related; boundary="+wn;const Ln=xo(C,U,Ie),hr=ve(Ln,w),Kr=Hn.getBlob("--"+wn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+hr+"\r\n--"+wn+"\r\nContent-Type: "+Ln.contentType+"\r\n\r\n",U,"\r\n--"+wn+"--");if(null===Kr)throw Zt();const Jn={name:Ln.fullPath},Br=tr(pt,v.host,v._protocol),zi=v.maxUploadRetryTime,qn=new Bt(Br,"POST",Bn(v,w),zi);return qn.urlParams=Jn,qn.headers=Qt,qn.body=Kr.uploadData(),qn.errorHandler=nr(C),qn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(U,Ki,C,w);this._request=Ie,Ie.getPromise().then(pt=>{this._request=void 0,this._metadata=pt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const w=this._transferred;this._transferred=C,this._transferred!==w&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const w="paused"===this._state;this._state=C,w&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=St(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=dr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,w,U,Ie){const pt=new di(w||void 0,U||void 0,Ie||void 0);return this._addObserver(pt),()=>{this._removeObserver(pt)}}then(C,w){return this._promise.then(C,w)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const w=this._observers.indexOf(C);-1!==w&&this._observers.splice(w,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(w=>{this._notifyObserver(w)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(dr(this._state)){case Gn.SUCCESS:bi(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:bi(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(dr(this._state)){case Gn.RUNNING:case Gn.PAUSED:C.next&&bi(C.next.bind(C,this.snapshot))();break;case Gn.SUCCESS:C.complete&&bi(C.complete.bind(C))();break;default:C.error&&bi(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class Vi{constructor(C,w){this._service=C,this._location=w instanceof Le?w:Le.makeFromUrl(w,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,w){return new Vi(C,w)}get root(){const C=new Le(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sr(this._location.path)}get storage(){return this._service}get parent(){const C=function Un(v){if(0===v.length)return null;const C=v.lastIndexOf("/");return-1===C?"":v.slice(0,C)}(this._location.path);if(null===C)return null;const w=new Le(this._location.bucket,C);return new Vi(this._service,w)}_throwIfRoot(C){if(""===this._location.path)throw Tt(C)}}function O(v,C,w){return A.apply(this,arguments)}function A(){return(A=(0,ie.A)(function*(v,C,w){const Ie=yield N(v,{pageToken:w});C.prefixes.push(...Ie.prefixes),C.items.push(...Ie.items),null!=Ie.nextPageToken&&(yield O(v,C,Ie.nextPageToken))})).apply(this,arguments)}function N(v,C){null!=C&&"number"==typeof C.maxResults&&pr("options.maxResults",1,1e3,C.maxResults);const w=C||{},U=On(v.storage,v._location,"/",w.pageToken,w.maxResults);return v.storage.makeRequestWithTokens(U,Ki)}function oe(v){v._throwIfRoot("getDownloadURL");const C=function or(v,C,w){const Ie=tr(C.fullServerUrl(),v.host,v._protocol),Qt=v.maxOperationRetryTime,yn=new Bt(Ie,"GET",function $n(v,C){return function w(U,Ie){const pt=se(v,Ie,C);return rn(null!==pt),function K(v,C,w,U){const Ie=Er(C);if(null===Ie||!kn(Ie.downloadTokens))return null;const pt=Ie.downloadTokens;if(0===pt.length)return null;const Qt=encodeURIComponent;return pt.split(",").map(Ln=>{const ni=v.fullPath;return tr("/b/"+Qt(v.bucket)+"/o/"+Qt(ni),w,U)+Gr({alt:"media",token:Ln})})[0]}(pt,Ie,v.host,v._protocol)}}(v,w),Qt);return yn.errorHandler=Pn(C),yn}(v.storage,v._location,ki());return v.storage.makeRequestWithTokens(C,Ki).then(w=>{if(null===w)throw function En(){return new Y(ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return w})}function $t(v,C){const w=function Lr(v,C){const w=C.split("/").filter(U=>U.length>0).join("/");return 0===v.length?w:v+"/"+w}(v._location.path,C),U=new Le(v._location.bucket,w);return new Vi(v.storage,U)}function Jt(v,C){if(v instanceof Tn){const w=v;if(null==w._bucket)throw function dn(){return new Y(ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nt+"' property when initializing the app?")}();const U=new Vi(w,w._bucket);return null!=C?Jt(U,C):U}return void 0!==C?$t(v,C):v}function gn(v,C){if(C&&function Ct(v){return/^[A-Za-z]+:\/\//.test(v)}(C)){if(v instanceof Tn)return function qt(v,C){return new Vi(v,C)}(v,C);throw Kt("To use ref(service, url), the first argument must be a Storage instance.")}return Jt(v,C)}function bn(v,C){const w=null==C?void 0:C[Nt];return null==w?null:Le.makeFromBucketSpec(w,v)}class Tn{constructor(C,w,U,Ie,pt){this.app=C,this._authProvider=w,this._appCheckProvider=U,this._url=Ie,this._firebaseVersion=pt,this._bucket=null,this._host=zt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ie?Le.makeFromBucketSpec(Ie,this._host):bn(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?Le.makeFromBucketSpec(this._url,C):bn(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){pr("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){pr("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,ie.A)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const w=C._authProvider.getImmediate({optional:!0});if(w){const U=yield w.getToken();if(null!==U)return U.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,ie.A)(function*(){const w=C._appCheckProvider.getImmediate({optional:!0});return w?(yield w.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new Vi(this,C)}_makeRequest(C,w,U,Ie,pt=!0){if(this._deleted)return new Nn(ir());{const Qt=function Pe(v,C,w,U,Ie,pt,Qt=!0){const yn=Gr(v.urlParams),wn=v.url+yn,Ln=Object.assign({},v.headers);return function fe(v,C){C&&(v["X-Firebase-GMPID"]=C)}(Ln,C),function Fr(v,C){null!==C&&C.length>0&&(v.Authorization="Firebase "+C)}(Ln,w),function Vt(v,C){v["X-Firebase-Storage-Version"]="webjs/"+(null!=C?C:"AppManager")}(Ln,pt),function ze(v,C){null!==C&&(v["X-Firebase-AppCheck"]=C)}(Ln,U),new Ir(wn,v.method,Ln,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,Ie,Qt)}(C,this._appId,U,Ie,w,this._firebaseVersion,pt);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(C,w){var U=this;return(0,ie.A)(function*(){const[Ie,pt]=yield Promise.all([U._getAuthToken(),U._getAppCheckToken()]);return U._makeRequest(C,w,Ie,pt).getPromise()})()}}const Ur="@firebase/storage";function Fo(v,C){return gn(v=(0,De.Ku)(v),C)}function fl(v,{instanceIdentifier:C}){const w=v.getProvider("app").getImmediate(),U=v.getProvider("auth-internal"),Ie=v.getProvider("app-check-internal");return new Tn(w,U,Ie,C,pe.SDK_VERSION)}!function Ms(){(0,pe._registerComponent)(new Ot.uA("storage",fl,"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Ur,"0.13.2",""),(0,pe.registerVersion)(Ur,"0.13.2","esm2017")}();class Hi{constructor(C,w,U){this._delegate=C,this.task=w,this.ref=U}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xr{constructor(C,w){this._delegate=C,this._ref=w,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hi(this._delegate.snapshot,this,this._ref)}then(C,w){return this._delegate.then(U=>{if(C)return C(new Hi(U,this,this._ref))},w)}on(C,w,U,Ie){let pt;return w&&(pt="function"==typeof w?Qt=>w(new Hi(Qt,this,this._ref)):{next:w.next?Qt=>w.next(new Hi(Qt,this,this._ref)):void 0,complete:w.complete||void 0,error:w.error||void 0}),this._delegate.on(C,pt,U||void 0,Ie||void 0)}}class To{constructor(C,w){this._delegate=C,this._service=w}get prefixes(){return this._delegate.prefixes.map(C=>new Xi(C,this._service))}get items(){return this._delegate.items.map(C=>new Xi(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xi{constructor(C,w){this._delegate=C,this.storage=w}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const w=function Ss(v,C){return $t(v,C)}(this._delegate,C);return new Xi(w,this.storage)}get root(){return new Xi(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new Xi(C,this.storage)}put(C,w){return this._throwIfRoot("put"),new xr(function Io(v,C,w){return function yo(v,C,w){return v._throwIfRoot("uploadBytesResumable"),new Li(v,new Hn(C),w)}(v=(0,De.Ku)(v),C,w)}(this._delegate,C,w),this)}putString(C,w=Ht.RAW,U){this._throwIfRoot("putString");const Ie=Re(w,C),pt=Object.assign({},U);return null==pt.contentType&&null!=Ie.contentType&&(pt.contentType=Ie.contentType),new xr(new Li(this._delegate,new Hn(Ie.data,!0),pt),this)}listAll(){return function ko(v){return function Oo(v){const C={prefixes:[],items:[]};return O(v,C).then(()=>C)}(v=(0,De.Ku)(v))}(this._delegate).then(C=>new To(C,this.storage))}list(C){return function Rr(v,C){return N(v=(0,De.Ku)(v),C)}(this._delegate,C||void 0).then(w=>new To(w,this.storage))}getMetadata(){return function uo(v){return function b(v){v._throwIfRoot("getMetadata");const C=mr(v.storage,v._location,ki());return v.storage.makeRequestWithTokens(C,Ki)}(v=(0,De.Ku)(v))}(this._delegate)}updateMetadata(C){return function _r(v,C){return function j(v,C){v._throwIfRoot("updateMetadata");const w=function li(v,C,w,U){const pt=tr(C.fullServerUrl(),v.host,v._protocol),yn=ve(w,U),Ln=v.maxOperationRetryTime,hr=new Bt(pt,"PATCH",Bn(v,U),Ln);return hr.headers={"Content-Type":"application/json; charset=utf-8"},hr.body=yn,hr.errorHandler=Pn(C),hr}(v.storage,v._location,C,ki());return v.storage.makeRequestWithTokens(w,Ki)}(v=(0,De.Ku)(v),C)}(this._delegate,C)}getDownloadURL(){return function ns(v){return oe(v=(0,De.Ku)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ro(v){return function Xe(v){v._throwIfRoot("deleteObject");const C=function ti(v,C){const U=tr(C.fullServerUrl(),v.host,v._protocol),yn=new Bt(U,"DELETE",function Qt(wn,Ln){},v.maxOperationRetryTime);return yn.successCodes=[200,204],yn.errorHandler=Pn(C),yn}(v.storage,v._location);return v.storage.makeRequestWithTokens(C,Ki)}(v=(0,De.Ku)(v))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw Tt(C)}}class Go{constructor(C,w){this.app=C,this._delegate=w}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(Ps(C))throw Kt("ref() expected a child path but got a URL, use refFromURL instead.");return new Xi(Fo(this._delegate,C),this)}refFromURL(C){if(!Ps(C))throw Kt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Le.makeFromUrl(C,this._delegate.host)}catch{throw Kt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xi(Fo(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,w,U={}){!function wi(v,C,w,U={}){!function Kn(v,C,w,U={}){v.host=`${C}:${w}`,v._protocol="http";const{mockUserToken:Ie}=U;Ie&&(v._overrideAuthToken="string"==typeof Ie?Ie:(0,De.Fy)(Ie,v.app.options.projectId))}(v,C,w,U)}(this._delegate,C,w,U)}}function Ps(v){return/^[A-Za-z]+:\/\//.test(v)}function Ta(v,{instanceIdentifier:C}){const w=v.getProvider("app-compat").getImmediate(),U=v.getProvider("storage").getImmediate({identifier:C});return new Go(w,U)}!function fs(v){const C={TaskState:Gn,TaskEvent:ri,StringFormat:Ht,Storage:Go,Reference:Xi};v.INTERNAL.registerComponent(new Ot.uA("storage-compat",Ta,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.12")}(Mt.A);var $s=k(762);function Eo(v){const C=function js(v){return new nt.c(C=>{const w=Qt=>C.next(Qt);w(v.snapshot);const pt=v.on("state_changed",w);return v.then(Qt=>{w(Qt),C.complete()},Qt=>{w(v.snapshot),(Qt=>{C.error(Qt)})(Qt)}),function(){pt()}}).pipe(function Me(v,C=mt.E){return(0,Se.N)((w,U)=>{let Ie=null,pt=null,Qt=null;const yn=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const Ln=pt;pt=null,U.next(Ln)}};function wn(){const Ln=Qt+v,hr=C.now();if(hr<Ln)return Ie=this.schedule(void 0,Ln-hr),void U.add(Ie);yn()}w.subscribe((0,_e._)(U,Ln=>{pt=Ln,Qt=C.now(),Ie||(Ie=C.schedule(wn,v),U.add(Ie))},()=>{yn(),U.complete()},void 0,()=>{pt=Ie=null}))})}(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,dt.T)(w=>w.bytesTransferred/w.totalBytes*100))}}function xs(v){return{getDownloadURL:()=>(0,st.of)(void 0).pipe(ct.Oe,(0,at.n)(()=>v.getDownloadURL()),ct.U0),getMetadata:()=>(0,st.of)(void 0).pipe(ct.Oe,(0,at.n)(()=>v.getMetadata()),ct.U0),delete:()=>(0,It.H)(v.delete()),child:C=>xs(v.child(C)),updateMetadata:C=>(0,It.H)(v.updateMetadata(C)),put:(C,w)=>Eo(v.put(C,w)),putString:(C,w,U)=>Eo(v.putString(C,w,U)),list:C=>(0,It.H)(v.list(C)),listAll:()=>(0,It.H)(v.listAll())}}const Ko=new ae.nKC("angularfire2.storageBucket"),Qr=new ae.nKC("angularfire2.storage.maxUploadRetryTime"),Lo=new ae.nKC("angularfire2.storage.maxOperationRetryTime"),ps=new ae.nKC("angularfire2.storage.use-emulator");let to=(()=>{var v;class C{constructor(U,Ie,pt,Qt,yn,wn,Ln,hr,ni,yi){(0,Ze.A)(this,"storage",void 0);const Kr=(0,ge.iB)(U,yn,Ie);this.storage=(0,ge.BM)(`${Kr.name}.storage.${pt}`,"AngularFireStorage",Kr.name,()=>{const Jn=yn.runOutsideAngular(()=>Kr.storage(pt||void 0)),Br=ni;return Br&&Jn.useEmulator(...Br),Ln&&Jn.setMaxUploadRetryTime(Ln),hr&&Jn.setMaxOperationRetryTime(hr),Jn},[Ln,hr])}ref(U){return xs(this.storage.ref(U))}refFromURL(U){return xs(this.storage.refFromURL(U))}upload(U,Ie,pt){return xs(this.storage.ref(U)).put(Ie,pt)}}return v=C,(0,Ze.A)(C,"\u0275fac",function(U){return new(U||v)(ae.KVO(ge.rx),ae.KVO(ge.uP,8),ae.KVO(Ko,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(ct.u0),ae.KVO(Qr,8),ae.KVO(Lo,8),ae.KVO(ps,8),ae.KVO(ct.Jv,8))}),(0,Ze.A)(C,"\u0275prov",ae.jDH({token:v,factory:v.\u0275fac,providedIn:"any"})),C})(),sa=(()=>{var v;class C{}return v=C,(0,Ze.A)(C,"\u0275fac",function(U){return new(U||v)}),(0,Ze.A)(C,"\u0275mod",ae.$C({type:v})),(0,Ze.A)(C,"\u0275inj",ae.G2t({})),C})(),Ys=(()=>{var v;class C{constructor(){$s.A.registerVersion("angularfire",ct.xv.full,"gcs-compat")}}return v=C,(0,Ze.A)(C,"\u0275fac",function(U){return new(U||v)}),(0,Ze.A)(C,"\u0275mod",ae.$C({type:v})),(0,Ze.A)(C,"\u0275inj",ae.G2t({providers:[to],imports:[sa]})),C})(),W=(()=>{var v;class C{}return(v=C).\u0275fac=function(U){return new(U||v)},v.\u0275mod=ae.$C({type:v,bootstrap:[Be]}),v.\u0275inj=ae.G2t({providers:[{provide:f.b,useClass:ne.jM}],imports:[c.Bb,te.bv.forRoot(),Ee,ge.bf.initializeApp(He),$e.X8,qe.cM,Ys]}),C})();c.sG().bootstrapModule(W).catch(v=>console.log(v))},4412:(mn,_t,k)=>{"use strict";k.d(_t,{t:()=>f});var c=k(1413);class f extends c.B{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const ie=super._subscribe(te);return!ie.closed&&te.next(this._value),ie}getValue(){const{hasError:te,thrownError:ie,_value:ae}=this;if(te)throw ie;return this._throwIfClosed(),ae}next(te){super.next(this._value=te)}}},1985:(mn,_t,k)=>{"use strict";k.d(_t,{c:()=>Be});var c=k(7707),f=k(8359),ne=k(3494),te=k(1203),ie=k(1026),ae=k(8071),be=k(9786);let Be=(()=>{class $e{constructor(He){He&&(this._subscribe=He)}lift(He){const Ze=new $e;return Ze.source=this,Ze.operator=He,Ze}subscribe(He,Ze,ct){const nt=function ge($e){return $e&&$e instanceof c.vU||function Ee($e){return $e&&(0,ae.T)($e.next)&&(0,ae.T)($e.error)&&(0,ae.T)($e.complete)}($e)&&(0,f.Uv)($e)}(He)?He:new c.Ms(He,Ze,ct);return(0,be.Y)(()=>{const{operator:st,source:It}=this;nt.add(st?st.call(nt,It):It?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(He){try{return this._subscribe(He)}catch(Ze){He.error(Ze)}}forEach(He,Ze){return new(Ze=je(Ze))((ct,nt)=>{const st=new c.Ms({next:It=>{try{He(It)}catch(mt){nt(mt),st.unsubscribe()}},error:nt,complete:ct});this.subscribe(st)})}_subscribe(He){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(He)}[ne.s](){return this}pipe(...He){return(0,te.m)(He)(this)}toPromise(He){return new(He=je(He))((Ze,ct)=>{let nt;this.subscribe(st=>nt=st,st=>ct(st),()=>Ze(nt))})}}return $e.create=qe=>new $e(qe),$e})();function je($e){var qe;return null!==(qe=null!=$e?$e:ie.$.Promise)&&void 0!==qe?qe:Promise}},1413:(mn,_t,k)=>{"use strict";k.d(_t,{B:()=>be});var c=k(1985),f=k(8359);const te=(0,k(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(7908),ae=k(9786);let be=(()=>{class je extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const $e=new Be(this,this);return $e.operator=ge,$e}_throwIfClosed(){if(this.closed)throw new te}next(ge){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(ge)}})}error(ge){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:$e}=this;for(;$e.length;)$e.shift().error(ge)}})}complete(){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:$e,isStopped:qe,observers:He}=this;return $e||qe?f.Kn:(this.currentObservers=null,He.push(ge),new f.yU(()=>{this.currentObservers=null,(0,ie.o)(He,ge)}))}_checkFinalizedStatuses(ge){const{hasError:$e,thrownError:qe,isStopped:He}=this;$e?ge.error(qe):He&&ge.complete()}asObservable(){const ge=new c.c;return ge.source=this,ge}}return je.create=(Ee,ge)=>new Be(Ee,ge),je})();class Be extends be{constructor(Ee,ge){super(),this.destination=Ee,this.source=ge}next(Ee){var ge,$e;null===($e=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===$e||$e.call(ge,Ee)}error(Ee){var ge,$e;null===($e=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===$e||$e.call(ge,Ee)}complete(){var Ee,ge;null===(ge=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===ge||ge.call(Ee)}_subscribe(Ee){var ge,$e;return null!==($e=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ee))&&void 0!==$e?$e:f.Kn}}},7707:(mn,_t,k)=>{"use strict";k.d(_t,{Ms:()=>ct,vU:()=>$e});var c=k(8071),f=k(8359),ne=k(1026),te=k(5334),ie=k(5343);const ae=je("C",void 0,void 0);function je(Se,_e,Me){return{kind:Se,value:_e,error:Me}}var Ee=k(9270),ge=k(9786);class $e extends f.yU{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,f.Uv)(_e)&&_e.add(this)):this.destination=mt}static create(_e,Me,dt){return new ct(_e,Me,dt)}next(_e){this.isStopped?It(function Be(Se){return je("N",Se,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?It(function be(Se){return je("E",void 0,Se)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?It(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function He(Se,_e){return qe.call(Se,_e)}class Ze{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Me}=this;if(Me.next)try{Me.next(_e)}catch(dt){nt(dt)}}error(_e){const{partialObserver:Me}=this;if(Me.error)try{Me.error(_e)}catch(dt){nt(dt)}else nt(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Me){nt(Me)}}}class ct extends $e{constructor(_e,Me,dt){let at;if(super(),(0,c.T)(_e)||!_e)at={next:null!=_e?_e:void 0,error:null!=Me?Me:void 0,complete:null!=dt?dt:void 0};else{let Mt;this&&ne.$.useDeprecatedNextContext?(Mt=Object.create(_e),Mt.unsubscribe=()=>this.unsubscribe(),at={next:_e.next&&He(_e.next,Mt),error:_e.error&&He(_e.error,Mt),complete:_e.complete&&He(_e.complete,Mt)}):at=_e}this.destination=new Ze(at)}}function nt(Se){ne.$.useDeprecatedSynchronousErrorHandling?(0,ge.l)(Se):(0,te.m)(Se)}function It(Se,_e){const{onStoppedNotification:Me}=ne.$;Me&&Ee.f.setTimeout(()=>Me(Se,_e))}const mt={closed:!0,next:ie.l,error:function st(Se){throw Se},complete:ie.l}},8359:(mn,_t,k)=>{"use strict";k.d(_t,{Kn:()=>ae,yU:()=>ie,Uv:()=>be});var c=k(8071);const ne=(0,k(1853).L)(je=>function(ge){je(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map(($e,qe)=>`${qe+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var te=k(7908);class ie{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const He of ge)He.remove(this);else ge.remove(this);const{initialTeardown:$e}=this;if((0,c.T)($e))try{$e()}catch(He){Ee=He instanceof ne?He.errors:[He]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const He of qe)try{Be(He)}catch(Ze){Ee=null!=Ee?Ee:[],Ze instanceof ne?Ee=[...Ee,...Ze.errors]:Ee.push(Ze)}}if(Ee)throw new ne(Ee)}}add(Ee){var ge;if(Ee&&Ee!==this)if(this.closed)Be(Ee);else{if(Ee instanceof ie){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(Ee)}}_hasParent(Ee){const{_parentage:ge}=this;return ge===Ee||Array.isArray(ge)&&ge.includes(Ee)}_addParent(Ee){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(Ee),ge):ge?[ge,Ee]:Ee}_removeParent(Ee){const{_parentage:ge}=this;ge===Ee?this._parentage=null:Array.isArray(ge)&&(0,te.o)(ge,Ee)}remove(Ee){const{_finalizers:ge}=this;ge&&(0,te.o)(ge,Ee),Ee instanceof ie&&Ee._removeParent(this)}}ie.EMPTY=(()=>{const je=new ie;return je.closed=!0,je})();const ae=ie.EMPTY;function be(je){return je instanceof ie||je&&"closed"in je&&(0,c.T)(je.remove)&&(0,c.T)(je.add)&&(0,c.T)(je.unsubscribe)}function Be(je){(0,c.T)(je)?je():je.unsubscribe()}},1026:(mn,_t,k)=>{"use strict";k.d(_t,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(mn,_t,k)=>{"use strict";k.d(_t,{z:()=>Ee});var c=k(1985),f=k(3073),ne=k(8455),te=k(3669),ie=k(6450),ae=k(3794),be=k(8496),Be=k(4360),je=k(5225);function Ee(...qe){const He=(0,ae.lI)(qe),Ze=(0,ae.ms)(qe),{args:ct,keys:nt}=(0,f.D)(qe);if(0===ct.length)return(0,ne.H)([],He);const st=new c.c(function ge(qe,He,Ze=te.D){return ct=>{$e(He,()=>{const{length:nt}=qe,st=new Array(nt);let It=nt,mt=nt;for(let Se=0;Se<nt;Se++)$e(He,()=>{const _e=(0,ne.H)(qe[Se],He);let Me=!1;_e.subscribe((0,Be._)(ct,dt=>{st[Se]=dt,Me||(Me=!0,mt--),mt||ct.next(Ze(st.slice()))},()=>{--It||ct.complete()}))},ct)},ct)}}(ct,He,nt?It=>(0,be.e)(nt,It):te.D));return Ze?st.pipe((0,ie.I)(Ze)):st}function $e(qe,He,Ze){qe?(0,je.N)(Ze,qe,He):He()}},8793:(mn,_t,k)=>{"use strict";k.d(_t,{x:()=>ie});var c=k(6365),ne=k(3794),te=k(8455);function ie(...ae){return function f(){return(0,c.U)(1)}()((0,te.H)(ae,(0,ne.lI)(ae)))}},983:(mn,_t,k)=>{"use strict";k.d(_t,{w:()=>f});const f=new(k(1985).c)(ie=>ie.complete())},8455:(mn,_t,k)=>{"use strict";k.d(_t,{H:()=>_e});var c=k(8750),f=k(941),ne=k(6745),ae=k(1985),Be=k(4761),je=k(8071),Ee=k(5225);function $e(Me,dt){if(!Me)throw new Error("Iterable cannot be null");return new ae.c(at=>{(0,Ee.N)(at,dt,()=>{const Mt=Me[Symbol.asyncIterator]();(0,Ee.N)(at,dt,()=>{Mt.next().then(pe=>{pe.done?at.complete():at.next(pe.value)})},0,!0)})})}var qe=k(5055),He=k(9858),Ze=k(7441),ct=k(5397),nt=k(7953),st=k(591),It=k(5196);function _e(Me,dt){return dt?function Se(Me,dt){if(null!=Me){if((0,qe.l)(Me))return function te(Me,dt){return(0,c.Tg)(Me).pipe((0,ne._)(dt),(0,f.Q)(dt))}(Me,dt);if((0,Ze.X)(Me))return function be(Me,dt){return new ae.c(at=>{let Mt=0;return dt.schedule(function(){Mt===Me.length?at.complete():(at.next(Me[Mt++]),at.closed||this.schedule())})})}(Me,dt);if((0,He.y)(Me))return function ie(Me,dt){return(0,c.Tg)(Me).pipe((0,ne._)(dt),(0,f.Q)(dt))}(Me,dt);if((0,nt.T)(Me))return $e(Me,dt);if((0,ct.x)(Me))return function ge(Me,dt){return new ae.c(at=>{let Mt;return(0,Ee.N)(at,dt,()=>{Mt=Me[Be.l](),(0,Ee.N)(at,dt,()=>{let pe,De;try{({value:pe,done:De}=Mt.next())}catch(Ot){return void at.error(Ot)}De?at.complete():at.next(pe)},0,!0)}),()=>(0,je.T)(null==Mt?void 0:Mt.return)&&Mt.return()})}(Me,dt);if((0,It.U)(Me))return function mt(Me,dt){return $e((0,It.C)(Me),dt)}(Me,dt)}throw(0,st.L)(Me)}(Me,dt):(0,c.Tg)(Me)}},3726:(mn,_t,k)=>{"use strict";k.d(_t,{R:()=>Ee});var c=k(8750),f=k(1985),ne=k(1397),te=k(7441),ie=k(8071),ae=k(6450);const be=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],je=["on","off"];function Ee(Ze,ct,nt,st){if((0,ie.T)(nt)&&(st=nt,nt=void 0),st)return Ee(Ze,ct,nt).pipe((0,ae.I)(st));const[It,mt]=function He(Ze){return(0,ie.T)(Ze.addEventListener)&&(0,ie.T)(Ze.removeEventListener)}(Ze)?Be.map(Se=>_e=>Ze[Se](ct,_e,nt)):function $e(Ze){return(0,ie.T)(Ze.addListener)&&(0,ie.T)(Ze.removeListener)}(Ze)?be.map(ge(Ze,ct)):function qe(Ze){return(0,ie.T)(Ze.on)&&(0,ie.T)(Ze.off)}(Ze)?je.map(ge(Ze,ct)):[];if(!It&&(0,te.X)(Ze))return(0,ne.Z)(Se=>Ee(Se,ct,nt))((0,c.Tg)(Ze));if(!It)throw new TypeError("Invalid event target");return new f.c(Se=>{const _e=(...Me)=>Se.next(1<Me.length?Me:Me[0]);return It(_e),()=>mt(_e)})}function ge(Ze,ct){return nt=>st=>Ze[nt](ct,st)}},8750:(mn,_t,k)=>{"use strict";k.d(_t,{Tg:()=>qe});var c=k(1635),f=k(7441),ne=k(9858),te=k(1985),ie=k(5055),ae=k(7953),be=k(591),Be=k(5397),je=k(5196),Ee=k(8071),ge=k(5334),$e=k(3494);function qe(Se){if(Se instanceof te.c)return Se;if(null!=Se){if((0,ie.l)(Se))return function He(Se){return new te.c(_e=>{const Me=Se[$e.s]();if((0,Ee.T)(Me.subscribe))return Me.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,f.X)(Se))return function Ze(Se){return new te.c(_e=>{for(let Me=0;Me<Se.length&&!_e.closed;Me++)_e.next(Se[Me]);_e.complete()})}(Se);if((0,ne.y)(Se))return function ct(Se){return new te.c(_e=>{Se.then(Me=>{_e.closed||(_e.next(Me),_e.complete())},Me=>_e.error(Me)).then(null,ge.m)})}(Se);if((0,ae.T)(Se))return st(Se);if((0,Be.x)(Se))return function nt(Se){return new te.c(_e=>{for(const Me of Se)if(_e.next(Me),_e.closed)return;_e.complete()})}(Se);if((0,je.U)(Se))return function It(Se){return st((0,je.C)(Se))}(Se)}throw(0,be.L)(Se)}function st(Se){return new te.c(_e=>{(function mt(Se,_e){var Me,dt,at,Mt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Me=(0,c.xN)(Se);!(dt=yield Me.next()).done;)if(_e.next(dt.value),_e.closed)return}catch(pe){at={error:pe}}finally{try{dt&&!dt.done&&(Mt=Me.return)&&(yield Mt.call(Me))}finally{if(at)throw at.error}}_e.complete()})})(Se,_e).catch(Me=>_e.error(Me))})}},7673:(mn,_t,k)=>{"use strict";k.d(_t,{of:()=>ne});var c=k(3794),f=k(8455);function ne(...te){const ie=(0,c.lI)(te);return(0,f.H)(te,ie)}},4360:(mn,_t,k)=>{"use strict";k.d(_t,{_:()=>f});var c=k(7707);function f(te,ie,ae,be,Be){return new ne(te,ie,ae,be,Be)}class ne extends c.vU{constructor(ie,ae,be,Be,je,Ee){super(ie),this.onFinalize=je,this.shouldUnsubscribe=Ee,this._next=ae?function(ge){try{ae(ge)}catch($e){ie.error($e)}}:super._next,this._error=Be?function(ge){try{Be(ge)}catch($e){ie.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ge){ie.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},9901:(mn,_t,k)=>{"use strict";k.d(_t,{U:()=>ne});var c=k(9974),f=k(4360);function ne(te){return(0,c.N)((ie,ae)=>{let be=!1;ie.subscribe((0,f._)(ae,Be=>{be=!0,ae.next(Be)},()=>{be||ae.next(te),ae.complete()}))})}},3294:(mn,_t,k)=>{"use strict";k.d(_t,{F:()=>te});var c=k(3669),f=k(9974),ne=k(4360);function te(ae,be=c.D){return ae=null!=ae?ae:ie,(0,f.N)((Be,je)=>{let Ee,ge=!0;Be.subscribe((0,ne._)(je,$e=>{const qe=be($e);(ge||!ae(Ee,qe))&&(ge=!1,Ee=qe,je.next($e))}))})}function ie(ae,be){return ae===be}},5964:(mn,_t,k)=>{"use strict";k.d(_t,{p:()=>ne});var c=k(9974),f=k(4360);function ne(te,ie){return(0,c.N)((ae,be)=>{let Be=0;ae.subscribe((0,f._)(be,je=>te.call(ie,je,Be++)&&be.next(je)))})}},1594:(mn,_t,k)=>{"use strict";k.d(_t,{$:()=>be});var c=k(9350),f=k(5964),ne=k(6697),te=k(9901),ie=k(3774),ae=k(3669);function be(Be,je){const Ee=arguments.length>=2;return ge=>ge.pipe(Be?(0,f.p)(($e,qe)=>Be($e,qe,ge)):ae.D,(0,ne.s)(1),Ee?(0,te.U)(je):(0,ie.v)(()=>new c.G))}},6354:(mn,_t,k)=>{"use strict";k.d(_t,{T:()=>ne});var c=k(9974),f=k(4360);function ne(te,ie){return(0,c.N)((ae,be)=>{let Be=0;ae.subscribe((0,f._)(be,je=>{be.next(te.call(ie,je,Be++))}))})}},6365:(mn,_t,k)=>{"use strict";k.d(_t,{U:()=>ne});var c=k(1397),f=k(3669);function ne(te=1/0){return(0,c.Z)(f.D,te)}},1397:(mn,_t,k)=>{"use strict";k.d(_t,{Z:()=>Be});var c=k(6354),f=k(8750),ne=k(9974),te=k(5225),ie=k(4360),be=k(8071);function Be(je,Ee,ge=1/0){return(0,be.T)(Ee)?Be(($e,qe)=>(0,c.T)((He,Ze)=>Ee($e,He,qe,Ze))((0,f.Tg)(je($e,qe))),ge):("number"==typeof Ee&&(ge=Ee),(0,ne.N)(($e,qe)=>function ae(je,Ee,ge,$e,qe,He,Ze,ct){const nt=[];let st=0,It=0,mt=!1;const Se=()=>{mt&&!nt.length&&!st&&Ee.complete()},_e=dt=>st<$e?Me(dt):nt.push(dt),Me=dt=>{He&&Ee.next(dt),st++;let at=!1;(0,f.Tg)(ge(dt,It++)).subscribe((0,ie._)(Ee,Mt=>{null==qe||qe(Mt),He?_e(Mt):Ee.next(Mt)},()=>{at=!0},void 0,()=>{if(at)try{for(st--;nt.length&&st<$e;){const Mt=nt.shift();Ze?(0,te.N)(Ee,Ze,()=>Me(Mt)):Me(Mt)}Se()}catch(Mt){Ee.error(Mt)}}))};return je.subscribe((0,ie._)(Ee,_e,()=>{mt=!0,Se()})),()=>{null==ct||ct()}}($e,qe,je,ge)))}},941:(mn,_t,k)=>{"use strict";k.d(_t,{Q:()=>te});var c=k(5225),f=k(9974),ne=k(4360);function te(ie,ae=0){return(0,f.N)((be,Be)=>{be.subscribe((0,ne._)(Be,je=>(0,c.N)(Be,ie,()=>Be.next(je),ae),()=>(0,c.N)(Be,ie,()=>Be.complete(),ae),je=>(0,c.N)(Be,ie,()=>Be.error(je),ae)))})}},2816:(mn,_t,k)=>{"use strict";k.d(_t,{S:()=>te});var c=k(9974),f=k(4360);function te(ie,ae){return(0,c.N)(function ne(ie,ae,be,Be,je){return(Ee,ge)=>{let $e=be,qe=ae,He=0;Ee.subscribe((0,f._)(ge,Ze=>{const ct=He++;qe=$e?ie(qe,Ze,ct):($e=!0,Ze),Be&&ge.next(qe)},je&&(()=>{$e&&ge.next(qe),ge.complete()})))}}(ie,ae,arguments.length>=2,!0))}},9172:(mn,_t,k)=>{"use strict";k.d(_t,{Z:()=>te});var c=k(8793),f=k(3794),ne=k(9974);function te(...ie){const ae=(0,f.lI)(ie);return(0,ne.N)((be,Be)=>{(ae?(0,c.x)(ie,be,ae):(0,c.x)(ie,be)).subscribe(Be)})}},6745:(mn,_t,k)=>{"use strict";k.d(_t,{_:()=>f});var c=k(9974);function f(ne,te=0){return(0,c.N)((ie,ae)=>{ae.add(ne.schedule(()=>ie.subscribe(ae),te))})}},5558:(mn,_t,k)=>{"use strict";k.d(_t,{n:()=>te});var c=k(8750),f=k(9974),ne=k(4360);function te(ie,ae){return(0,f.N)((be,Be)=>{let je=null,Ee=0,ge=!1;const $e=()=>ge&&!je&&Be.complete();be.subscribe((0,ne._)(Be,qe=>{null==je||je.unsubscribe();let He=0;const Ze=Ee++;(0,c.Tg)(ie(qe,Ze)).subscribe(je=(0,ne._)(Be,ct=>Be.next(ae?ae(qe,ct,Ze,He++):ct),()=>{je=null,$e()}))},()=>{ge=!0,$e()}))})}},6697:(mn,_t,k)=>{"use strict";k.d(_t,{s:()=>te});var c=k(983),f=k(9974),ne=k(4360);function te(ie){return ie<=0?()=>c.w:(0,f.N)((ae,be)=>{let Be=0;ae.subscribe((0,ne._)(be,je=>{++Be<=ie&&(be.next(je),ie<=Be&&be.complete())}))})}},8141:(mn,_t,k)=>{"use strict";k.d(_t,{M:()=>ie});var c=k(8071),f=k(9974),ne=k(4360),te=k(3669);function ie(ae,be,Be){const je=(0,c.T)(ae)||be||Be?{next:ae,error:be,complete:Be}:ae;return je?(0,f.N)((Ee,ge)=>{var $e;null===($e=je.subscribe)||void 0===$e||$e.call(je);let qe=!0;Ee.subscribe((0,ne._)(ge,He=>{var Ze;null===(Ze=je.next)||void 0===Ze||Ze.call(je,He),ge.next(He)},()=>{var He;qe=!1,null===(He=je.complete)||void 0===He||He.call(je),ge.complete()},He=>{var Ze;qe=!1,null===(Ze=je.error)||void 0===Ze||Ze.call(je,He),ge.error(He)},()=>{var He,Ze;qe&&(null===(He=je.unsubscribe)||void 0===He||He.call(je)),null===(Ze=je.finalize)||void 0===Ze||Ze.call(je)}))}):te.D}},3774:(mn,_t,k)=>{"use strict";k.d(_t,{v:()=>te});var c=k(9350),f=k(9974),ne=k(4360);function te(ae=ie){return(0,f.N)((be,Be)=>{let je=!1;be.subscribe((0,ne._)(Be,Ee=>{je=!0,Be.next(Ee)},()=>je?Be.complete():Be.error(ae())))})}function ie(){return new c.G}},6780:(mn,_t,k)=>{"use strict";k.d(_t,{R:()=>ie});var c=k(8359);class f extends c.yU{constructor(be,Be){super()}schedule(be,Be=0){return this}}const ne={setInterval(ae,be,...Be){const{delegate:je}=ne;return null!=je&&je.setInterval?je.setInterval(ae,be,...Be):setInterval(ae,be,...Be)},clearInterval(ae){const{delegate:be}=ne;return((null==be?void 0:be.clearInterval)||clearInterval)(ae)},delegate:void 0};var te=k(7908);class ie extends f{constructor(be,Be){super(be,Be),this.scheduler=be,this.work=Be,this.pending=!1}schedule(be,Be=0){var je;if(this.closed)return this;this.state=be;const Ee=this.id,ge=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(ge,Ee,Be)),this.pending=!0,this.delay=Be,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(ge,this.id,Be),this}requestAsyncId(be,Be,je=0){return ne.setInterval(be.flush.bind(be,this),je)}recycleAsyncId(be,Be,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Be;null!=Be&&ne.clearInterval(Be)}execute(be,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(be,Be);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Be){let Ee,je=!1;try{this.work(be)}catch(ge){je=!0,Ee=ge||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:be,scheduler:Be}=this,{actions:je}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.o)(je,this),null!=be&&(this.id=this.recycleAsyncId(Be,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(mn,_t,k)=>{"use strict";k.d(_t,{q:()=>ne});var c=k(6129);class f{constructor(ie,ae=f.now){this.schedulerActionCtor=ie,this.now=ae}schedule(ie,ae=0,be){return new this.schedulerActionCtor(this,ie).schedule(be,ae)}}f.now=c.U.now;class ne extends f{constructor(ie,ae=f.now){super(ie,ae),this.actions=[],this._active=!1}flush(ie){const{actions:ae}=this;if(this._active)return void ae.push(ie);let be;this._active=!0;do{if(be=ie.execute(ie.state,ie.delay))break}while(ie=ae.shift());if(this._active=!1,be){for(;ie=ae.shift();)ie.unsubscribe();throw be}}}},3236:(mn,_t,k)=>{"use strict";k.d(_t,{E:()=>ne});var c=k(6780);const ne=new(k(9687).q)(c.R)},6129:(mn,_t,k)=>{"use strict";k.d(_t,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(mn,_t,k)=>{"use strict";k.d(_t,{f:()=>c});const c={setTimeout(f,ne,...te){const{delegate:ie}=c;return null!=ie&&ie.setTimeout?ie.setTimeout(f,ne,...te):setTimeout(f,ne,...te)},clearTimeout(f){const{delegate:ne}=c;return((null==ne?void 0:ne.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(mn,_t,k)=>{"use strict";k.d(_t,{l:()=>f});const f=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(mn,_t,k)=>{"use strict";k.d(_t,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(mn,_t,k)=>{"use strict";k.d(_t,{G:()=>f});const f=(0,k(1853).L)(ne=>function(){ne(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(mn,_t,k)=>{"use strict";k.d(_t,{R0:()=>ae,ms:()=>te,lI:()=>ie});var c=k(8071);function ne(be){return be[be.length-1]}function te(be){return(0,c.T)(ne(be))?be.pop():void 0}function ie(be){return function f(be){return be&&(0,c.T)(be.schedule)}(ne(be))?be.pop():void 0}function ae(be,Be){return"number"==typeof ne(be)?be.pop():Be}},3073:(mn,_t,k)=>{"use strict";k.d(_t,{D:()=>ie});const{isArray:c}=Array,{getPrototypeOf:f,prototype:ne,keys:te}=Object;function ie(be){if(1===be.length){const Be=be[0];if(c(Be))return{args:Be,keys:null};if(function ae(be){return be&&"object"==typeof be&&f(be)===ne}(Be)){const je=te(Be);return{args:je.map(Ee=>Be[Ee]),keys:je}}}return{args:be,keys:null}}},7908:(mn,_t,k)=>{"use strict";function c(f,ne){if(f){const te=f.indexOf(ne);0<=te&&f.splice(te,1)}}k.d(_t,{o:()=>c})},1853:(mn,_t,k)=>{"use strict";function c(f){const te=f(ie=>{Error.call(ie),ie.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}k.d(_t,{L:()=>c})},8496:(mn,_t,k)=>{"use strict";function c(f,ne){return f.reduce((te,ie,ae)=>(te[ie]=ne[ae],te),{})}k.d(_t,{e:()=>c})},9786:(mn,_t,k)=>{"use strict";k.d(_t,{Y:()=>ne,l:()=>te});var c=k(1026);let f=null;function ne(ie){if(c.$.useDeprecatedSynchronousErrorHandling){const ae=!f;if(ae&&(f={errorThrown:!1,error:null}),ie(),ae){const{errorThrown:be,error:Be}=f;if(f=null,be)throw Be}}else ie()}function te(ie){c.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=ie)}},5225:(mn,_t,k)=>{"use strict";function c(f,ne,te,ie=0,ae=!1){const be=ne.schedule(function(){te(),ae?f.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(f.add(be),!ae)return be}k.d(_t,{N:()=>c})},3669:(mn,_t,k)=>{"use strict";function c(f){return f}k.d(_t,{D:()=>c})},7441:(mn,_t,k)=>{"use strict";k.d(_t,{X:()=>c});const c=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(mn,_t,k)=>{"use strict";k.d(_t,{T:()=>f});var c=k(8071);function f(ne){return Symbol.asyncIterator&&(0,c.T)(null==ne?void 0:ne[Symbol.asyncIterator])}},8071:(mn,_t,k)=>{"use strict";function c(f){return"function"==typeof f}k.d(_t,{T:()=>c})},5055:(mn,_t,k)=>{"use strict";k.d(_t,{l:()=>ne});var c=k(3494),f=k(8071);function ne(te){return(0,f.T)(te[c.s])}},5397:(mn,_t,k)=>{"use strict";k.d(_t,{x:()=>ne});var c=k(4761),f=k(8071);function ne(te){return(0,f.T)(null==te?void 0:te[c.l])}},9858:(mn,_t,k)=>{"use strict";k.d(_t,{y:()=>f});var c=k(8071);function f(ne){return(0,c.T)(null==ne?void 0:ne.then)}},5196:(mn,_t,k)=>{"use strict";k.d(_t,{C:()=>ne,U:()=>te});var c=k(1635),f=k(8071);function ne(ie){return(0,c.AQ)(this,arguments,function*(){const be=ie.getReader();try{for(;;){const{value:Be,done:je}=yield(0,c.N3)(be.read());if(je)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Be)}}finally{be.releaseLock()}})}function te(ie){return(0,f.T)(null==ie?void 0:ie.getReader)}},9974:(mn,_t,k)=>{"use strict";k.d(_t,{N:()=>ne,S:()=>f});var c=k(8071);function f(te){return(0,c.T)(null==te?void 0:te.lift)}function ne(te){return ie=>{if(f(ie))return ie.lift(function(ae){try{return te(ae,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(mn,_t,k)=>{"use strict";k.d(_t,{I:()=>te});var c=k(6354);const{isArray:f}=Array;function te(ie){return(0,c.T)(ae=>function ne(ie,ae){return f(ae)?ie(...ae):ie(ae)}(ie,ae))}},5343:(mn,_t,k)=>{"use strict";function c(){}k.d(_t,{l:()=>c})},1203:(mn,_t,k)=>{"use strict";k.d(_t,{F:()=>f,m:()=>ne});var c=k(3669);function f(...te){return ne(te)}function ne(te){return 0===te.length?c.D:1===te.length?te[0]:function(ae){return te.reduce((be,Be)=>Be(be),ae)}}},5334:(mn,_t,k)=>{"use strict";k.d(_t,{m:()=>ne});var c=k(1026),f=k(9270);function ne(te){f.f.setTimeout(()=>{const{onUnhandledError:ie}=c.$;if(!ie)throw te;ie(te)})}},591:(mn,_t,k)=>{"use strict";function c(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(_t,{L:()=>c})},8996:(mn,_t,k)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[6552,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(ne){if(!k.o(c,ne))return Promise.resolve().then(()=>{var ae=new Error("Cannot find module '"+ne+"'");throw ae.code="MODULE_NOT_FOUND",ae});var te=c[ne],ie=te[0];return Promise.all(te.slice(1).map(k.e)).then(()=>k(ie))}f.keys=()=>Object.keys(c),f.id=8996,mn.exports=f},177:(mn,_t,k)=>{"use strict";k.d(_t,{AJ:()=>$t,MD:()=>Xe,N0:()=>sr,QT:()=>ne,Sm:()=>ct,Sq:()=>$n,T3:()=>Di,VF:()=>ie,Vy:()=>Jt,Xr:()=>bn,ZD:()=>te,_b:()=>J,aZ:()=>st,bT:()=>mr,fw:()=>nt,hb:()=>He,hj:()=>je,qQ:()=>be,vh:()=>ii});var c=k(4438);let f=null;function ne(){return f}function te(R){var z;null!==(z=f)&&void 0!==z||(f=R)}class ie{}const be=new c.nKC("");let Be=(()=>{var R;class z{historyGo(H){throw new Error("")}}return(R=z).\u0275fac=function(H){return new(H||R)},R.\u0275prov=c.jDH({token:R,factory:()=>(0,c.WQX)(Ee),providedIn:"platform"}),z})();const je=new c.nKC("");let Ee=(()=>{var R;class z extends Be{constructor(){super(),this._doc=(0,c.WQX)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(H){const ue=ne().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",H,!1),()=>ue.removeEventListener("popstate",H)}onHashChange(H){const ue=ne().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",H,!1),()=>ue.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,ue,Ne){this._history.pushState(H,ue,Ne)}replaceState(H,ue,Ne){this._history.replaceState(H,ue,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return(R=z).\u0275fac=function(H){return new(H||R)},R.\u0275prov=c.jDH({token:R,factory:()=>new R,providedIn:"platform"}),z})();function ge(R,z){if(0==R.length)return z;if(0==z.length)return R;let xe=0;return R.endsWith("/")&&xe++,z.startsWith("/")&&xe++,2==xe?R+z.substring(1):1==xe?R+z:R+"/"+z}function $e(R){const z=R.match(/#|\?|$/),xe=z&&z.index||R.length;return R.slice(0,xe-("/"===R[xe-1]?1:0))+R.slice(xe)}function qe(R){return R&&"?"!==R[0]?"?"+R:R}let He=(()=>{var R;class z{historyGo(H){throw new Error("")}}return(R=z).\u0275fac=function(H){return new(H||R)},R.\u0275prov=c.jDH({token:R,factory:()=>(0,c.WQX)(ct),providedIn:"root"}),z})();const Ze=new c.nKC("");let ct=(()=>{var R;class z extends He{constructor(H,ue){var Ne,Gt,ln;super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=null!==(Ne=null!==(Gt=null!=ue?ue:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Gt?Gt:null===(ln=(0,c.WQX)(be).location)||void 0===ln?void 0:ln.origin)&&void 0!==Ne?Ne:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return ge(this._baseHref,H)}path(H=!1){const ue=this._platformLocation.pathname+qe(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&H?`${ue}${Ne}`:ue}pushState(H,ue,Ne,Gt){const ln=this.prepareExternalUrl(Ne+qe(Gt));this._platformLocation.pushState(H,ue,ln)}replaceState(H,ue,Ne,Gt){const ln=this.prepareExternalUrl(Ne+qe(Gt));this._platformLocation.replaceState(H,ue,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ue,Ne;null===(ue=(Ne=this._platformLocation).historyGo)||void 0===ue||ue.call(Ne,H)}}return(R=z).\u0275fac=function(H){return new(H||R)(c.KVO(Be),c.KVO(Ze,8))},R.\u0275prov=c.jDH({token:R,factory:R.\u0275fac,providedIn:"root"}),z})(),nt=(()=>{var R;class z extends He{constructor(H,ue){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){var ue;const Ne=null!==(ue=this._platformLocation.hash)&&void 0!==ue?ue:"#";return Ne.length>0?Ne.substring(1):Ne}prepareExternalUrl(H){const ue=ge(this._baseHref,H);return ue.length>0?"#"+ue:ue}pushState(H,ue,Ne,Gt){let ln=this.prepareExternalUrl(Ne+qe(Gt));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.pushState(H,ue,ln)}replaceState(H,ue,Ne,Gt){let ln=this.prepareExternalUrl(Ne+qe(Gt));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.replaceState(H,ue,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ue,Ne;null===(ue=(Ne=this._platformLocation).historyGo)||void 0===ue||ue.call(Ne,H)}}return(R=z).\u0275fac=function(H){return new(H||R)(c.KVO(Be),c.KVO(Ze,8))},R.\u0275prov=c.jDH({token:R,factory:R.\u0275fac}),z})(),st=(()=>{var R;class z{constructor(H){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const ue=this._locationStrategy.getBaseHref();this._basePath=function _e(R){if(new RegExp("^(https?:)?//").test(R)){const[,xe]=R.split(/\/\/[^\/]+/);return xe}return R}($e(Se(ue))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){var H;null===(H=this._urlChangeSubscription)||void 0===H||H.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,ue=""){return this.path()==this.normalize(H+qe(ue))}normalize(H){return z.stripTrailingSlash(function mt(R,z){if(!R||!z.startsWith(R))return z;const xe=z.substring(R.length);return""===xe||["/",";","?","#"].includes(xe[0])?xe:z}(this._basePath,Se(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,ue="",Ne=null){this._locationStrategy.pushState(Ne,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ue)),Ne)}replaceState(H,ue="",Ne=null){this._locationStrategy.replaceState(Ne,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ue)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){var ue,Ne;null===(ue=(Ne=this._locationStrategy).historyGo)||void 0===ue||ue.call(Ne,H)}onUrlChange(H){var ue;return this._urlChangeListeners.push(H),null!==(ue=this._urlChangeSubscription)&&void 0!==ue||(this._urlChangeSubscription=this.subscribe(Ne=>{this._notifyUrlChangeListeners(Ne.url,Ne.state)})),()=>{const Ne=this._urlChangeListeners.indexOf(H);var Gt;this._urlChangeListeners.splice(Ne,1),0===this._urlChangeListeners.length&&(null===(Gt=this._urlChangeSubscription)||void 0===Gt||Gt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",ue){this._urlChangeListeners.forEach(Ne=>Ne(H,ue))}subscribe(H,ue,Ne){return this._subject.subscribe({next:H,error:ue,complete:Ne})}}return(R=z).normalizeQueryParams=qe,R.joinWithSlash=ge,R.stripTrailingSlash=$e,R.\u0275fac=function(H){return new(H||R)(c.KVO(He))},R.\u0275prov=c.jDH({token:R,factory:()=>function It(){return new st((0,c.KVO)(He))}(),providedIn:"root"}),z})();function Se(R){return R.replace(/\/index.html$/,"")}var Mt=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(Mt||{}),pe=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(pe||{}),De=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(De||{});const Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function re(R,z){return _n((0,c.H5H)(R)[c.KH2.DateFormat],z)}function Ae(R,z){return _n((0,c.H5H)(R)[c.KH2.TimeFormat],z)}function Qe(R,z){return _n((0,c.H5H)(R)[c.KH2.DateTimeFormat],z)}function Ke(R,z){const xe=(0,c.H5H)(R),H=xe[c.KH2.NumberSymbols][z];if(typeof H>"u"){if(z===Ot.CurrencyDecimal)return xe[c.KH2.NumberSymbols][Ot.Decimal];if(z===Ot.CurrencyGroup)return xe[c.KH2.NumberSymbols][Ot.Group]}return H}function dn(R){if(!R[c.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[c.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _n(R,z){for(let xe=z;xe>-1;xe--)if(typeof R[xe]<"u")return R[xe];throw new Error("Locale data API: locale data undefined")}function Kt(R){const[z,xe]=R.split(":");return{hours:+z,minutes:+xe}}const bt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Le={},Nn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(zn||{}),vn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(vn||{}),hn=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(hn||{});function Wn(R,z,xe,H){let ue=function Te(R){if(We(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ue,Ne=1,Gt=1]=R.split("-").map(ln=>+ln);return Qn(ue,Ne-1,Gt)}const xe=parseFloat(R);if(!isNaN(R-xe))return new Date(xe);let H;if(H=R.match(bt))return function Re(R){const z=new Date(0);let xe=0,H=0;const ue=R[8]?z.setUTCFullYear:z.setFullYear,Ne=R[8]?z.setUTCHours:z.setHours;R[9]&&(xe=Number(R[9]+R[10]),H=Number(R[9]+R[11])),ue.call(z,Number(R[1]),Number(R[2])-1,Number(R[3]));const Gt=Number(R[4]||0)-xe,ln=Number(R[5]||0)-H,ur=Number(R[6]||0),Yr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Ne.call(z,Gt,ln,ur,Yr),z}(H)}const z=new Date(R);if(!We(z))throw new Error(`Unable to convert "${R}" into a date`);return z}(R);z=kn(xe,z)||z;let ln,Gt=[];for(;z;){if(ln=Nn.exec(z),!ln){Gt.push(z);break}{Gt=Gt.concat(ln.slice(1));const Jr=Gt.pop();if(!Jr)break;z=Jr}}let ur=ue.getTimezoneOffset();H&&(ur=Je(H,ur),ue=function Ht(R,z,xe){const H=xe?-1:1,ue=R.getTimezoneOffset();return function it(R,z){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+z),R}(R,H*(Je(z,ue)-ue))}(ue,H,!0));let Yr="";return Gt.forEach(Jr=>{const Hr=function At(R){if(Oe[R])return Oe[R];let z;switch(R){case"G":case"GG":case"GGG":z=jn(hn.Eras,pe.Abbreviated);break;case"GGGG":z=jn(hn.Eras,pe.Wide);break;case"GGGGG":z=jn(hn.Eras,pe.Narrow);break;case"y":z=tr(vn.FullYear,1,0,!1,!0);break;case"yy":z=tr(vn.FullYear,2,0,!0,!0);break;case"yyy":z=tr(vn.FullYear,3,0,!1,!0);break;case"yyyy":z=tr(vn.FullYear,4,0,!1,!0);break;case"Y":z=Pe(1);break;case"YY":z=Pe(2,!0);break;case"YYY":z=Pe(3);break;case"YYYY":z=Pe(4);break;case"M":case"L":z=tr(vn.Month,1,1);break;case"MM":case"LL":z=tr(vn.Month,2,1);break;case"MMM":z=jn(hn.Months,pe.Abbreviated);break;case"MMMM":z=jn(hn.Months,pe.Wide);break;case"MMMMM":z=jn(hn.Months,pe.Narrow);break;case"LLL":z=jn(hn.Months,pe.Abbreviated,Mt.Standalone);break;case"LLLL":z=jn(hn.Months,pe.Wide,Mt.Standalone);break;case"LLLLL":z=jn(hn.Months,pe.Narrow,Mt.Standalone);break;case"w":z=ze(1);break;case"ww":z=ze(2);break;case"W":z=ze(1,!0);break;case"d":z=tr(vn.Date,1);break;case"dd":z=tr(vn.Date,2);break;case"c":case"cc":z=tr(vn.Day,1);break;case"ccc":z=jn(hn.Days,pe.Abbreviated,Mt.Standalone);break;case"cccc":z=jn(hn.Days,pe.Wide,Mt.Standalone);break;case"ccccc":z=jn(hn.Days,pe.Narrow,Mt.Standalone);break;case"cccccc":z=jn(hn.Days,pe.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":z=jn(hn.Days,pe.Abbreviated);break;case"EEEE":z=jn(hn.Days,pe.Wide);break;case"EEEEE":z=jn(hn.Days,pe.Narrow);break;case"EEEEEE":z=jn(hn.Days,pe.Short);break;case"a":case"aa":case"aaa":z=jn(hn.DayPeriods,pe.Abbreviated);break;case"aaaa":z=jn(hn.DayPeriods,pe.Wide);break;case"aaaaa":z=jn(hn.DayPeriods,pe.Narrow);break;case"b":case"bb":case"bbb":z=jn(hn.DayPeriods,pe.Abbreviated,Mt.Standalone,!0);break;case"bbbb":z=jn(hn.DayPeriods,pe.Wide,Mt.Standalone,!0);break;case"bbbbb":z=jn(hn.DayPeriods,pe.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":z=jn(hn.DayPeriods,pe.Abbreviated,Mt.Format,!0);break;case"BBBB":z=jn(hn.DayPeriods,pe.Wide,Mt.Format,!0);break;case"BBBBB":z=jn(hn.DayPeriods,pe.Narrow,Mt.Format,!0);break;case"h":z=tr(vn.Hours,1,-12);break;case"hh":z=tr(vn.Hours,2,-12);break;case"H":z=tr(vn.Hours,1);break;case"HH":z=tr(vn.Hours,2);break;case"m":z=tr(vn.Minutes,1);break;case"mm":z=tr(vn.Minutes,2);break;case"s":z=tr(vn.Seconds,1);break;case"ss":z=tr(vn.Seconds,2);break;case"S":z=tr(vn.FractionalSeconds,1);break;case"SS":z=tr(vn.FractionalSeconds,2);break;case"SSS":z=tr(vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=Ir(zn.Short);break;case"ZZZZZ":z=Ir(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=Ir(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=Ir(zn.Long);break;default:return null}return Oe[R]=z,z}(Jr);Yr+=Hr?Hr(ue,xe,ur):"''"===Jr?"'":Jr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yr}function Qn(R,z,xe){const H=new Date(0);return H.setFullYear(R,z,xe),H.setHours(0,0,0),H}function kn(R,z){var xe;const H=function Nt(R){return(0,c.H5H)(R)[c.KH2.LocaleId]}(R);if(null!==(xe=Le[H])&&void 0!==xe||(Le[H]={}),Le[H][z])return Le[H][z];let ue="";switch(z){case"shortDate":ue=re(R,De.Short);break;case"mediumDate":ue=re(R,De.Medium);break;case"longDate":ue=re(R,De.Long);break;case"fullDate":ue=re(R,De.Full);break;case"shortTime":ue=Ae(R,De.Short);break;case"mediumTime":ue=Ae(R,De.Medium);break;case"longTime":ue=Ae(R,De.Long);break;case"fullTime":ue=Ae(R,De.Full);break;case"short":const Ne=kn(R,"shortTime"),Gt=kn(R,"shortDate");ue=er(Qe(R,De.Short),[Ne,Gt]);break;case"medium":const ln=kn(R,"mediumTime"),ur=kn(R,"mediumDate");ue=er(Qe(R,De.Medium),[ln,ur]);break;case"long":const Yr=kn(R,"longTime"),Jr=kn(R,"longDate");ue=er(Qe(R,De.Long),[Yr,Jr]);break;case"full":const Hr=kn(R,"fullTime"),mi=kn(R,"fullDate");ue=er(Qe(R,De.Full),[Hr,mi])}return ue&&(Le[H][z]=ue),ue}function er(R,z){return z&&(R=R.replace(/\{([^}]+)}/g,function(xe,H){return null!=z&&H in z?z[H]:xe})),R}function fr(R,z,xe="-",H,ue){let Ne="";(R<0||ue&&R<=0)&&(ue?R=1-R:(R=-R,Ne=xe));let Gt=String(R);for(;Gt.length<z;)Gt="0"+Gt;return H&&(Gt=Gt.slice(Gt.length-z)),Ne+Gt}function tr(R,z,xe=0,H=!1,ue=!1){return function(Ne,Gt){let ln=function Gr(R,z){switch(R){case vn.FullYear:return z.getFullYear();case vn.Month:return z.getMonth();case vn.Date:return z.getDate();case vn.Hours:return z.getHours();case vn.Minutes:return z.getMinutes();case vn.Seconds:return z.getSeconds();case vn.FractionalSeconds:return z.getMilliseconds();case vn.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Ne);if((xe>0||ln>-xe)&&(ln+=xe),R===vn.Hours)0===ln&&-12===xe&&(ln=12);else if(R===vn.FractionalSeconds)return function pr(R,z){return fr(R,3).substring(0,z)}(ln,z);const ur=Ke(Gt,Ot.MinusSign);return fr(ln,z,ur,H,ue)}}function jn(R,z,xe=Mt.Format,H=!1){return function(ue,Ne){return function Vr(R,z,xe,H,ue,Ne){switch(xe){case hn.Months:return function Fe(R,z,xe){const H=(0,c.H5H)(R),Ne=_n([H[c.KH2.MonthsFormat],H[c.KH2.MonthsStandalone]],z);return _n(Ne,xe)}(z,ue,H)[R.getMonth()];case hn.Days:return function Dn(R,z,xe){const H=(0,c.H5H)(R),Ne=_n([H[c.KH2.DaysFormat],H[c.KH2.DaysStandalone]],z);return _n(Ne,xe)}(z,ue,H)[R.getDay()];case hn.DayPeriods:const Gt=R.getHours(),ln=R.getMinutes();if(Ne){const Yr=function Zt(R){const z=(0,c.H5H)(R);return dn(z),(z[c.KH2.ExtraData][2]||[]).map(H=>"string"==typeof H?Kt(H):[Kt(H[0]),Kt(H[1])])}(z),Jr=function Mn(R,z,xe){const H=(0,c.H5H)(R);dn(H);const Ne=_n([H[c.KH2.ExtraData][0],H[c.KH2.ExtraData][1]],z)||[];return _n(Ne,xe)||[]}(z,ue,H),Hr=Yr.findIndex(mi=>{if(Array.isArray(mi)){const[si,Ri]=mi,Ii=Gt>=si.hours&&ln>=si.minutes,Nr=Gt<Ri.hours||Gt===Ri.hours&&ln<Ri.minutes;if(si.hours<Ri.hours){if(Ii&&Nr)return!0}else if(Ii||Nr)return!0}else if(mi.hours===Gt&&mi.minutes===ln)return!0;return!1});if(-1!==Hr)return Jr[Hr]}return function Et(R,z,xe){const H=(0,c.H5H)(R),Ne=_n([H[c.KH2.DayPeriodsFormat],H[c.KH2.DayPeriodsStandalone]],z);return _n(Ne,xe)}(z,ue,H)[Gt<12?0:1];case hn.Eras:return function Y(R,z){return _n((0,c.H5H)(R)[c.KH2.Eras],z)}(z,H)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${xe}`)}}(ue,Ne,R,z,xe,H)}}function Ir(R){return function(z,xe,H){const ue=-1*H,Ne=Ke(xe,Ot.MinusSign),Gt=ue>0?Math.floor(ue/60):Math.ceil(ue/60);switch(R){case zn.Short:return(ue>=0?"+":"")+fr(Gt,2,Ne)+fr(Math.abs(ue%60),2,Ne);case zn.ShortGMT:return"GMT"+(ue>=0?"+":"")+fr(Gt,1,Ne);case zn.Long:return"GMT"+(ue>=0?"+":"")+fr(Gt,2,Ne)+":"+fr(Math.abs(ue%60),2,Ne);case zn.Extended:return 0===H?"Z":(ue>=0?"+":"")+fr(Gt,2,Ne)+":"+fr(Math.abs(ue%60),2,Ne);default:throw new Error(`Unknown zone width "${R}"`)}}}const yt=0,Fr=4;function fe(R){const z=R.getDay(),xe=0===z?-3:Fr-z;return Qn(R.getFullYear(),R.getMonth(),R.getDate()+xe)}function ze(R,z=!1){return function(xe,H){let ue;if(z){const Ne=new Date(xe.getFullYear(),xe.getMonth(),1).getDay()-1,Gt=xe.getDate();ue=1+Math.floor((Gt+Ne)/7)}else{const Ne=fe(xe),Gt=function Vt(R){const z=Qn(R,yt,1).getDay();return Qn(R,0,1+(z<=Fr?Fr:Fr+7)-z)}(Ne.getFullYear()),ln=Ne.getTime()-Gt.getTime();ue=1+Math.round(ln/6048e5)}return fr(ue,R,Ke(H,Ot.MinusSign))}}function Pe(R,z=!1){return function(xe,H){return fr(fe(xe).getFullYear(),R,Ke(H,Ot.MinusSign),z)}}const Oe={};function Je(R,z){R=R.replace(/:/g,"");const xe=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(xe)?z:xe}function We(R){return R instanceof Date&&!isNaN(R.valueOf())}function J(R,z){z=encodeURIComponent(z);for(const xe of R.split(";")){const H=xe.indexOf("="),[ue,Ne]=-1==H?[xe,""]:[xe.slice(0,H),xe.slice(H+1)];if(ue.trim()===z)return decodeURIComponent(Ne)}return null}class xn{constructor(z,xe,H,ue){this.$implicit=z,this.ngForOf=xe,this.index=H,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $n=(()=>{var R;class z{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,ue,Ne){this._viewContainer=H,this._template=ue,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ue=this._viewContainer;H.forEachOperation((Ne,Gt,ln)=>{if(null==Ne.previousIndex)ue.createEmbeddedView(this._template,new xn(Ne.item,this._ngForOf,-1,-1),null===ln?void 0:ln);else if(null==ln)ue.remove(null===Gt?void 0:Gt);else if(null!==Gt){const ur=ue.get(Gt);ue.move(ur,ln),nr(ur,Ne)}});for(let Ne=0,Gt=ue.length;Ne<Gt;Ne++){const ur=ue.get(Ne).context;ur.index=Ne,ur.count=Gt,ur.ngForOf=this._ngForOf}H.forEachIdentityChange(Ne=>{nr(ue.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard(H,ue){return!0}}return(R=z).\u0275fac=function(H){return new(H||R)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},R.\u0275dir=c.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function nr(R,z){R.context.$implicit=z.item}let mr=(()=>{var R;class z{constructor(H,ue){this._viewContainer=H,this._context=new On,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){br("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){br("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ue){return!0}}return(R=z).\u0275fac=function(H){return new(H||R)(c.rXU(c.c1b),c.rXU(c.C4Q))},R.\u0275dir=c.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class On{constructor(){this.$implicit=null,this.ngIf=null}}function br(R,z){if(z&&!z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,c.Tbb)(z)}'.`)}let Di=(()=>{var R;class z{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(this._shouldRecreateView(H)){var ue;const Ne=this._viewContainerRef;if(this._viewRef&&Ne.remove(Ne.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Gt=this._createContextForwardProxy();this._viewRef=Ne.createEmbeddedView(this.ngTemplateOutlet,Gt,{injector:null!==(ue=this.ngTemplateOutletInjector)&&void 0!==ue?ue:void 0})}}_shouldRecreateView(H){return!!H.ngTemplateOutlet||!!H.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(H,ue,Ne)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ue,Ne),get:(H,ue,Ne)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ue,Ne)}})}}return(R=z).\u0275fac=function(H){return new(H||R)(c.rXU(c.c1b))},R.\u0275dir=c.FsC({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),z})();const vo=new c.nKC(""),jo=new c.nKC("");let ii=(()=>{var R;class z{constructor(H,ue,Ne){this.locale=H,this.defaultTimezone=ue,this.defaultOptions=Ne}transform(H,ue,Ne,Gt){if(null==H||""===H||H!=H)return null;try{var ln,ur,Yr,Jr,Hr;const mi=null!==(ln=null!=ue?ue:null===(ur=this.defaultOptions)||void 0===ur?void 0:ur.dateFormat)&&void 0!==ln?ln:"mediumDate",si=null!==(Yr=null!==(Jr=null!=Ne?Ne:null===(Hr=this.defaultOptions)||void 0===Hr?void 0:Hr.timezone)&&void 0!==Jr?Jr:this.defaultTimezone)&&void 0!==Yr?Yr:void 0;return Wn(H,mi,Gt||this.locale,si)}catch(mi){throw function pi(R,z){return new c.wOt(2100,!1)}()}}}return(R=z).\u0275fac=function(H){return new(H||R)(c.rXU(c.xe9,16),c.rXU(vo,24),c.rXU(jo,24))},R.\u0275pipe=c.EJ8({name:"date",type:R,pure:!0,standalone:!0}),z})(),Xe=(()=>{var R;class z{}return(R=z).\u0275fac=function(H){return new(H||R)},R.\u0275mod=c.$C({type:R}),R.\u0275inj=c.G2t({}),z})();const $t="browser",Ct="server";function Jt(R){return R===Ct}let bn=(()=>{var R;class z{}return(R=z).\u0275prov=(0,c.jDH)({token:R,providedIn:"root",factory:()=>function qt(R){return R===$t}((0,c.WQX)(c.Agw))?new Kn((0,c.WQX)(be),window):new Ur}),z})();class Kn{constructor(z,xe){this.document=z,this.window=xe,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(z){this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){const xe=function Tn(R,z){const xe=R.getElementById(z)||R.getElementsByName(z)[0];if(xe)return xe;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const H=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ue=H.currentNode;for(;ue;){const Ne=ue.shadowRoot;if(Ne){const Gt=Ne.getElementById(z)||Ne.querySelector(`[name="${z}"]`);if(Gt)return Gt}ue=H.nextNode()}}return null}(this.document,z);xe&&(this.scrollToElement(xe),xe.focus())}setHistoryScrollRestoration(z){this.window.history.scrollRestoration=z}scrollToElement(z){const xe=z.getBoundingClientRect(),H=xe.left+this.window.pageXOffset,ue=xe.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(H-Ne[0],ue-Ne[1])}}class Ur{setOffset(z){}getScrollPosition(){return[0,0]}scrollToPosition(z){}scrollToAnchor(z){}setHistoryScrollRestoration(z){}}class sr{}},4438:(mn,_t,k)=>{"use strict";function c(e,t){return Object.is(e,t)}k.d(_t,{iLQ:()=>dy,sZ2:()=>_d,hnV:()=>cD,Hbi:()=>ZP,o8S:()=>nc,BIS:()=>Xg,gRc:()=>bD,Ql9:()=>EP,Ocv:()=>SP,Z63:()=>To,aKT:()=>lu,uvJ:()=>os,zcH:()=>Xs,bkB:()=>Ls,$GK:()=>Ar,nKC:()=>$n,zZn:()=>Zo,_q3:()=>eE,MKu:()=>tE,xe9:()=>qI,Co$:()=>gA,Vns:()=>gf,SKi:()=>T,Xx1:()=>sr,Agw:()=>Mh,PLl:()=>tp,sFG:()=>db,_9s:()=>N0,czy:()=>zh,kdw:()=>Xr,C4Q:()=>Ud,NYb:()=>pP,giA:()=>lD,xvI:()=>jM,RxE:()=>tD,c1b:()=>L_,gXe:()=>oi,mal:()=>W_,L39:()=>Rx,EWP:()=>Px,a0P:()=>Vx,Ol2:()=>Q0,w6W:()=>nw,oH4:()=>AD,Rfq:()=>Je,WQX:()=>Ct,naY:()=>LP,QuC:()=>zi,fpN:()=>YP,HJs:()=>Ux,N4e:()=>Gl,vPA:()=>QE,O8t:()=>xx,H3F:()=>nD,H8p:()=>za,KH2:()=>Tg,TgB:()=>Nl,wOt:()=>Le,WHO:()=>sD,e01:()=>aD,H5H:()=>AI,mq5:()=>IC,JZv:()=>Ir,LfX:()=>Z,plB:()=>Wd,jNT:()=>zI,zjR:()=>uD,TL$:()=>qg,Tbb:()=>ze,Vt3:()=>W0,GFd:()=>pA,OA$:()=>ms,Jv_:()=>RT,aNF:()=>MT,R7$:()=>et,BMQ:()=>uI,AVh:()=>gI,wni:()=>rT,VBU:()=>yn,FsC:()=>yi,jDH:()=>gr,G2t:()=>K,$C:()=>hr,EJ8:()=>Kr,rXU:()=>wt,nrm:()=>II,eu8:()=>EI,bVm:()=>ty,qex:()=>ey,k0s:()=>J_,j41:()=>Z_,RV6:()=>vC,xGo:()=>kf,KVO:()=>Xe,kS0:()=>Pl,QTQ:()=>kt,bIt:()=>DI,lsd:()=>sT,XpG:()=>GC,nI1:()=>VT,i5U:()=>UT,SdG:()=>KC,NAR:()=>WC,Y8G:()=>fI,mGM:()=>oT,Njj:()=>bu,eBV:()=>Yc,n$t:()=>jh,DNE:()=>Z0,EFF:()=>mT,JRh:()=>RI,SpI:()=>sy,Lme:()=>MI,DH7:()=>DT,mxI:()=>xI,R50:()=>PI,GBs:()=>iT});let f=null,ne=!1,te=1;const ie=Symbol("SIGNAL");function ae(e){const t=f;return f=e,t}const Ee={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ge(e){if(ne)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;dt(f),t<f.producerNode.length&&f.producerNode[t]!==e&&Me(f)&&_e(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=Me(f)?Se(e,f,t):0),f.producerLastReadVersion[t]=e.version}function qe(e){if((!Me(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==te)){if(!e.producerMustRecompute(e)&&!It(e))return e.dirty=!1,void(e.lastCleanEpoch=te);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=te}}function He(e){if(void 0===e.liveConsumerNode)return;const t=ne;ne=!0;try{for(const r of e.liveConsumerNode)r.dirty||ct(r)}finally{ne=t}}function Ze(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ct(e){var t;e.dirty=!0,He(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function nt(e){return e&&(e.nextProducerIndex=0),ae(e)}function st(e,t){if(ae(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Me(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)_e(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function It(e){dt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(qe(r),o!==r.version))return!0}return!1}function mt(e){if(dt(e),Me(e))for(let t=0;t<e.producerNode.length;t++)_e(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Se(e,t,r){if(at(e),0===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Se(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function _e(e,t){if(at(e),1===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)_e(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];dt(a),a.producerIndexOfThis[o]=t}}function Me(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function dt(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function at(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Mt(e){return void 0!==e.producerNode}const De=Symbol("UNSET"),Ot=Symbol("COMPUTING"),zt=Symbol("ERRORED"),Nt={...Ee,value:De,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===De||e.value===Ot,producerRecomputeValue(e){if(e.value===Ot)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Ot;const r=nt(e);let o;try{o=e.computation()}catch(a){o=zt,e.error=a}finally{st(e,r)}t!==De&&t!==zt&&o!==zt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Dn=function Et(){throw new Error};function Fe(){Dn()}let ee=null;function Qe(e,t){Ze()||Fe(),e.equal(e.value,t)||(e.value=t,function lt(e){var t;e.version++,function $e(){te++}(),He(e),null===(t=ee)||void 0===t||t()}(e))}const rt={...Ee,equal:c,value:void 0};var Kt,Tt,Zt=k(4412),Mn=k(1413),En=k(8359),_n=k(6354);const bt="https://g.co/ng/security#xss";class Le extends Error{constructor(t,r){super(function Nn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function kn(e){return{toString:e}.toString()}const fr="__parameters__";function jn(e,t,r){return kn(()=>{const o=function Gr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...d){if(this instanceof a)return o.apply(this,d),this;const g=new a(...d);return E.annotation=g,E;function E(S,$,q){const le=S.hasOwnProperty(fr)?S[fr]:Object.defineProperty(S,fr,{value:[]})[fr];for(;le.length<=q;)le.push(null);return(le[q]=le[q]||[]).push(g),S}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ir=globalThis;function Vt(e){for(let t in e)if(e[t]===Vt)return t;throw Error("Could not find renamed property on target object.")}function fe(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Pe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const At=Vt({__forward_ref__:Vt});function Je(e){return e.__forward_ref__=Je,e.toString=function(){return ze(this())},e}function it(e){return Ht(e)?e():e}function Ht(e){return"function"==typeof e&&e.hasOwnProperty(At)&&e.__forward_ref__===Je}function gr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function K(e){return{providers:e.providers||[],imports:e.imports||[]}}function ve(e){return J(e,Bt)||J(e,Bn)}function Z(e){return null!==ve(e)}function J(e,t){return e.hasOwnProperty(t)?e[t]:null}function vt(e){return e&&(e.hasOwnProperty(rn)||e.hasOwnProperty(xn))?e[rn]:null}const Bt=Vt({\u0275prov:Vt}),rn=Vt({\u0275inj:Vt}),Bn=Vt({ngInjectableDef:Vt}),xn=Vt({ngInjectorDef:Vt});class $n{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=gr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ci(e){return e&&!!e.\u0275providers}const vr=Vt({\u0275cmp:Vt}),ji=Vt({\u0275dir:Vt}),ao=Vt({\u0275pipe:Vt}),Di=Vt({\u0275mod:Vt}),Pi=Vt({\u0275fac:Vt}),pi=Vt({__NG_ELEMENT_ID__:Vt}),ri=Vt({__NG_ENV_ID__:Vt});function Gn(e){return"string"==typeof e?e:null==e?"":String(e)}function Ki(e,t){throw new Le(-201,!1)}var Ar=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ar||{});let vo;function jo(){return vo}function ii(e){const t=vo;return vo=e,t}function Li(e,t,r){const o=ve(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ar.Optional?null:void 0!==t?t:void Ki()}const bo={},gi="__NG_DI_FLAG__",yo="ngTempTokenPath",Oo=/\n/gm,A="__source";let N;function j(e){const t=N;return N=e,t}function oe(e,t=Ar.Default){if(void 0===N)throw new Le(-203,!1);return null===N?Li(e,void 0,t):N.get(e,t&Ar.Optional?null:void 0,t)}function Xe(e,t=Ar.Default){return(jo()||oe)(it(e),t)}function Ct(e,t=Ar.Default){return Xe(e,qt(t))}function qt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Jt(e){const t=[];for(let r=0;r<e.length;r++){const o=it(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Le(900,!1);let a,d=Ar.Default;for(let g=0;g<o.length;g++){const E=o[g],S=bn(E);"number"==typeof S?-1===S?a=E.token:d|=S:a=E}t.push(Xe(a,d))}else t.push(Xe(o))}return t}function gn(e,t){return e[gi]=t,e.prototype[gi]=t,e}function bn(e){return e[gi]}const sr=gn(jn("Optional"),8),Xr=gn(jn("SkipSelf"),4);function qi(e,t){return e.hasOwnProperty(Pi)?e[Pi]:null}function _r(e,t){e.forEach(r=>Array.isArray(r)?_r(r,t):t(r))}function Rr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ko(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wi(e,t,r){let o=Rs(e,t);return o>=0?e[1|o]=r:(o=~o,function Ss(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function zo(e,t){const r=Rs(e,t);if(r>=0)return e[1|r]}function Rs(e,t){return function Ms(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),g=e[d<<r];if(t===g)return d<<r;g>t?a=d:o=d+1}return~(a<<r)}(e,t,1)}const Hi={},xr=[],To=new $n(""),Xi=new $n("",-1),Go=new $n("");class Ps{get(t,r=bo){if(r===bo){const o=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw o.name="NullInjectorError",o}return r}}var Wo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wo||{}),oi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(oi||{}),Qi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Qi||{});function Ta(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}function fs(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],g=r[o++],E=r[o++];e.setAttribute(t,g,E,d)}else{const d=a,g=r[++o];js(d)?e.setProperty(t,d,g):e.setAttribute(t,d,g),o++}}return o}function $s(e){return 3===e||4===e||6===e}function js(e){return 64===e.charCodeAt(0)}function Eo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||xs(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function xs(e,t,r,o,a){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const E=e[d++];if("number"==typeof E){if(E===t){g=-1;break}if(E>t){g=d-1;break}}}for(;d<e.length;){const E=e[d];if("number"==typeof E)break;if(E===r){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Ko="ng-template";function Qr(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Ta(t[a+1].toLowerCase(),r,0))return!0}else if(Lo(e))return!1;if(a=t.indexOf(1,a),a>-1){let d;for(;++a<t.length&&"string"==typeof(d=t[a]);)if(d.toLowerCase()===r)return!0}return!1}function Lo(e){return 4===e.type&&e.value!==Ko}function ps(e,t,r){return t===(4!==e.type||r?e.value:Ko)}function to(e,t,r){let o=4;const a=e.attrs,d=null!==a?function v(e){for(let t=0;t<e.length;t++)if($s(e[t]))return t;return e.length}(a):0;let g=!1;for(let E=0;E<t.length;E++){const S=t[E];if("number"!=typeof S){if(!g)if(4&o){if(o=2|1&o,""!==S&&!ps(e,S,r)||""===S&&1===t.length){if(Vo(o))return!1;g=!0}}else if(8&o){if(null===a||!Qr(e,a,S,r)){if(Vo(o))return!1;g=!0}}else{const $=t[++E],q=sa(S,a,Lo(e),r);if(-1===q){if(Vo(o))return!1;g=!0;continue}if(""!==$){let le;if(le=q>d?"":a[q+1].toLowerCase(),2&o&&$!==le){if(Vo(o))return!1;g=!0}}}}else{if(!g&&!Vo(o)&&!Vo(S))return!1;if(g&&Vo(S))continue;g=!1,o=S|1&o}}return Vo(o)||g}function Vo(e){return!(1&e)}function sa(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let d=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function C(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Ys(e,t,r=!1){for(let o=0;o<t.length;o++)if(to(e,t[o],r))return!0;return!1}function w(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function U(e,t){return e?":not("+t.trim()+")":t}function Ie(e){let t=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const E=e[++r];a+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!Vo(g)&&(t+=U(d,a),a=""),o=g,d=d||!Vo(o);r++}return""!==a&&(t+=U(d,a)),t}function yn(e){return kn(()=>{var t;const r=Yi(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||oi.Emulated,styles:e.styles||xr,_:null,schemas:e.schemas||null,tView:null,id:""};Ui(o);const a=e.dependencies;return o.directiveDefs=no(a,!1),o.pipeDefs=no(a,!0),o.id=function aa(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function wn(e){return Jn(e)||Br(e)}function Ln(e){return null!==e}function hr(e){return kn(()=>({type:e.type,bootstrap:e.bootstrap||xr,declarations:e.declarations||xr,imports:e.imports||xr,exports:e.exports||xr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ni(e,t){if(null==e)return Hi;const r={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a];let g,E,S=Qi.None;var o;Array.isArray(d)?(S=d[0],g=d[1],E=null!==(o=d[2])&&void 0!==o?o:g):(g=d,E=d),t?(r[g]=S!==Qi.None?[a,S]:a,t[g]=E):r[g]=a}return r}function yi(e){return kn(()=>{const t=Yi(e);return Ui(t),t})}function Kr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Jn(e){return e[vr]||null}function Br(e){return e[ji]||null}function jr(e){return e[ao]||null}function zi(e){const t=Jn(e)||Br(e)||jr(e);return null!==t&&t.standalone}function qn(e,t){const r=e[Di]||null;if(!r&&!0===t)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return r}function Yi(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Hi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||xr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ni(e.inputs,t),outputs:ni(e.outputs),debugInfo:null}}function Ui(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function no(e,t){if(!e)return null;const r=t?jr:wn;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Ln)}function Da(...e){return{\u0275providers:yu(0,e),\u0275fromNgModule:!0}}function yu(e,...t){const r=[],o=new Set;let a;const d=g=>{r.push(g)};return _r(t,g=>{const E=g;Zs(E,d,[],o)&&(a||(a=[]),a.push(E))}),void 0!==a&&pl(a,d),r}function pl(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];la(a,d=>{t(d,o)})}}function Zs(e,t,r,o){if(!(e=it(e)))return!1;let a=null,d=vt(e);const g=!d&&Jn(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const S=e.ngModule;if(d=vt(S),!d)return!1;a=S}const E=o.has(a);if(g){if(E)return!1;if(o.add(a),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of S)Zs($,t,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!E){let $;o.add(a);try{_r(d.imports,q=>{Zs(q,t,r,o)&&($||($=[]),$.push(q))})}finally{}void 0!==$&&pl($,t)}if(!E){const $=qi(a)||(()=>new a);t({provide:a,useFactory:$,deps:xr},a),t({provide:Go,useValue:a,multi:!0},a),t({provide:To,useValue:()=>Xe(a),multi:!0},a)}const S=d.providers;if(null!=S&&!E){const $=e;la(S,q=>{t(q,$)})}}}return a!==e&&void 0!==e.providers}function la(e,t){for(let r of e)ci(r)&&(r=r.\u0275providers),Array.isArray(r)?la(r,t):t(r)}const ba=Vt({provide:String,useValue:Vt});function Ha(e){return null!==e&&"object"==typeof e&&ba in e}function zs(e){return"function"==typeof e}const za=new $n(""),zl={},Si={};let ua;function Gs(){return void 0===ua&&(ua=new Ps),ua}class os{}class ss extends os{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,as(t,g=>this.processProvider(g)),this.records.set(Xi,Uo(void 0,this)),a.has("environment")&&this.records.set(os,Uo(void 0,this));const d=this.records.get(za);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Go,xr,Ar.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ae(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=j(this),o=ii(void 0);try{return t()}finally{j(r),ii(o)}}get(t,r=bo,o=Ar.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ri))return t[ri](this);o=qt(o);const d=j(this),g=ii(void 0);try{if(!(o&Ar.SkipSelf)){let S=this.records.get(t);if(void 0===S){const $=function Ns(e){return"function"==typeof e||"object"==typeof e&&e instanceof $n}(t)&&ve(t);S=$&&this.injectableDefInScope($)?Uo(ca(t),zl):null,this.records.set(t,S)}if(null!=S)return this.hydrate(t,S)}return(o&Ar.Self?Gs():this.parent).get(t,r=o&Ar.Optional&&r===bo?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[yo]=E[yo]||[]).unshift(ze(t)),d)throw E;return function Kn(e,t,r,o){const a=e[yo];throw t[A]&&a.unshift(t[A]),e.message=function Tn(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=ze(t);if(Array.isArray(t))a=t.map(ze).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let E=t[g];d.push(g+":"+("string"==typeof E?JSON.stringify(E):ze(E)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Oo,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[yo]=null,e}(E,t,"R3InjectorError",this.source)}throw E}finally{ii(g),j(d)}}resolveInjectorInitializers(){const t=ae(null),r=j(this),o=ii(void 0);try{const d=this.get(To,xr,Ar.Self);for(const g of d)g()}finally{j(r),ii(o),ae(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(ze(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(t){let r=zs(t=it(t))?t:it(t&&t.provide);const o=function Sa(e){return Ha(e)?Uo(void 0,e.useValue):Uo(Js(e),zl)}(t);if(!zs(t)&&!0===t.multi){let a=this.records.get(r);a||(a=Uo(void 0,zl,!0),a.factory=()=>Jt(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ae(null);try{return r.value===zl&&(r.value=Si,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Iu(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ae(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=it(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ca(e){const t=ve(e),r=null!==t?t.factory:qi(e);if(null!==r)return r;if(e instanceof $n)throw new Le(204,!1);if(e instanceof Function)return function gl(e){if(e.length>0)throw new Le(204,!1);const r=function we(e){return e&&(e[Bt]||e[Bn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Le(204,!1)}function Js(e,t,r){let o;if(zs(e)){const a=it(e);return qi(a)||ca(a)}if(Ha(e))o=()=>it(e.useValue);else if(function Hl(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Jt(e.deps||[]));else if(function Hs(e){return!(!e||!e.useExisting)}(e))o=()=>Xe(it(e.useExisting));else{const a=it(e&&(e.useClass||e.provide));if(!function Ra(e){return!!e.deps}(e))return qi(a)||ca(a);o=()=>new a(...Jt(e.deps))}return o}function Uo(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function as(e,t){for(const r of e)Array.isArray(r)?as(r,t):r&&ci(r)?as(r.\u0275providers,t):t(r)}function Gl(e,t){e instanceof ss&&e.assertNotDestroyed();const o=j(e),a=ii(void 0);try{return t()}finally{j(o),ii(a)}}function ml(){return void 0!==jo()||null!=function b(){return N}()}const Nr=0,un=1,Yn=2,xi=3,co=4,Bi=5,Ao=6,Ws=7,Ti=8,Gi=9,Ks=10,Cr=11,da=12,Bo=13,Ga=14,ro=15,Ei=16,vl=17,Co=18,Ma=19,Pa=20,ho=21,_l=22,fi=23,rr=25,yl=1,Os=7,Il=9,Ni=10;var Kl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Kl||{});function Zi(e){return Array.isArray(e)&&"object"==typeof e[yl]}function wo(e){return Array.isArray(e)&&!0===e[yl]}function ea(e){return!!(4&e.flags)}function qs(e){return e.componentOffset>-1}function ql(e){return!(1&~e.flags)}function gs(e){return!!e.template}function Wa(e){return!!(512&e[Yn])}class qo{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Mo(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function ms(){return vs}function vs(e){return e.type.prototype.ngOnChanges&&(e.setInput=oc),ks}function ks(){const e=Kc(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Hi)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function oc(e,t,r,o,a){const d=this.declaredInputs[o],g=Kc(e)||function El(e,t){return e[qa]=t}(e,{previous:Hi,current:null}),E=g.current||(g.current={}),S=g.previous,$=S[d];E[d]=new qo($&&$.currentValue,r,S===Hi),Mo(e,t,a,r)}ms.ngInherit=!0;const qa="__ngSimpleChanges__";function Kc(e){return e[qa]||null}const ls=function(e,t,r){};function Zr(e){for(;Array.isArray(e);)e=e[Nr];return e}function sc(e,t){return Zr(t[e])}function Xo(e,t){return Zr(t[e.index])}function Al(e,t){return e.data[t]}function _s(e,t){const r=t[e];return Zi(r)?r:r[Nr]}function Cl(e){return!(128&~e[Yn])}function us(e,t){return null==t?null:e[t]}function ac(e){e[vl]=0}function qc(e){1024&e[Yn]||(e[Yn]|=1024,Cl(e)&&Qa(e))}function Xa(e){var t;return!!(9216&e[Yn]||null!==(t=e[fi])&&void 0!==t&&t.dirty)}function pa(e){var t;null===(t=e[Ks].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[Yn]&&(e[Yn]|=1024),Xa(e)&&Qa(e)}function Qa(e){var t;null===(t=e[Ks].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Wi(e);for(;null!==r&&!(8192&r[Yn])&&(r[Yn]|=8192,Cl(r));)r=Wi(r)}function uc(e,t){if(!(256&~e[Yn]))throw new Le(911,!1);null===e[ho]&&(e[ho]=[]),e[ho].push(t)}function Wi(e){const t=e[xi];return wo(t)?t[xi]:t}const wr={lFrame:fc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Xc=!1;function Tf(){return wr.bindingsEnabled}function ta(){return null!==wr.skipHydrationRootTNode}function en(){return wr.lFrame.lView}function zr(){return wr.lFrame.tView}function Yc(e){return wr.lFrame.contextLView=e,e[Ti]}function bu(e){return wr.lFrame.contextLView=null,e}function vi(){let e=wf();for(;null!==e&&64===e.type;)e=e.parent;return e}function wf(){return wr.lFrame.currentTNode}function na(e,t){const r=wr.lFrame;r.currentTNode=e,r.isParent=t}function cc(){return wr.lFrame.isParent}function Za(){wr.lFrame.isParent=!1}function eh(){return Xc}function Zc(e){Xc=e}function Oi(){return wr.lFrame.bindingIndex++}function ra(e){const t=wr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Mg(e,t){const r=wr.lFrame;r.bindingIndex=r.bindingRootIndex=e,nh(t)}function nh(e){wr.lFrame.currentDirectiveIndex=e}function Su(){return wr.lFrame.currentQueryIndex}function Jc(e){wr.lFrame.currentQueryIndex=e}function ed(e){const t=e[un];return 2===t.type?t.declTNode:1===t.type?e[Bi]:null}function td(e,t,r){if(r&Ar.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||r&Ar.Host||(a=ed(d),null===a||(d=d[Ga],10&a.type))););if(null===a)return!1;t=a,e=d}const o=wr.lFrame=Ru();return o.currentTNode=t,o.lView=e,!0}function hc(e){const t=Ru(),r=e[un];wr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Ru(){const e=wr.lFrame,t=null===e?null:e.child;return null===t?fc(e):t}function fc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function nd(){const e=wr.lFrame;return wr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pc=nd;function rh(){const e=nd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qo(){return wr.lFrame.selectedIndex}function wl(e){wr.lFrame.selectedIndex=e}function $i(){const e=wr.lFrame;return Al(e.tView,e.selectedIndex)}let ah=!0;function ga(){return ah}function Yo(e){ah=e}function Mu(e,t){for(let $=t.directiveStart,q=t.directiveEnd;$<q;$++){const Ue=e.data[$].type.prototype,{ngAfterContentInit:Ye,ngAfterContentChecked:Ge,ngAfterViewInit:Wt,ngAfterViewChecked:an,ngOnDestroy:In}=Ue;var r,o,a,d,g,E,S;Ye&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-$,Ye),Ge&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,Ge),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push($,Ge)),Wt&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-$,Wt),an&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,an),(null!==(E=e.viewCheckHooks)&&void 0!==E?E:e.viewCheckHooks=[]).push($,an)),null!=In&&(null!==(S=e.destroyHooks)&&void 0!==S?S:e.destroyHooks=[]).push($,In)}}function ru(e,t,r){uh(e,t,3,r)}function Pu(e,t,r,o){(3&e[Yn])===r&&uh(e,t,r,o)}function iu(e,t){let r=e[Yn];(3&r)===t&&(r&=16383,r+=1,e[Yn]=r)}function uh(e,t,r,o){const d=null!=o?o:-1,g=t.length-1;let E=0;for(let S=void 0!==o?65535&e[vl]:0;S<g;S++)if("number"==typeof t[S+1]){if(E=t[S],null!=o&&E>=o)break}else t[S]<0&&(e[vl]+=65536),(E<d||-1==d)&&(Pg(e,r,t,S),e[vl]=(4294901760&e[vl])+S+2),S++}function mc(e,t){ls(4,e,t);const r=ae(null);try{t.call(e)}finally{ae(r),ls(5,e,t)}}function Pg(e,t,r,o){const a=r[o]<0,d=r[o+1],E=e[a?-r[o]:r[o]];a?e[Yn]>>14<e[vl]>>16&&(3&e[Yn])===t&&(e[Yn]+=16384,mc(E,d)):mc(E,d)}const Sl=-1;class xu{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const rd={};class el{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=qt(o);const a=this.injector.get(t,rd,o);return a!==rd||r===rd?a:this.parentInjector.get(t,r,o)}}function id(e){return e!==Sl}function Na(e){return 32767&e}function yc(e,t){let r=function hh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Ga],r--;return o}let $o=!0;function od(e){const t=$o;return $o=e,t}const Ic=255,Ou=5;let gh=0;const ma={};function Ec(e,t){const r=Of(e,t);if(-1!==r)return r;const o=t[un];o.firstCreatePass&&(e.injectorIndex=t.length,Ac(o.data,e),Ac(t,null),Ac(o.blueprint,null));const a=sd(e,t),d=e.injectorIndex;if(id(a)){const g=Na(a),E=yc(a,t),S=E[un].data;for(let $=0;$<8;$++)t[d+$]=E[g+$]|S[g+$]}return t[d+8]=a,d}function Ac(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Of(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sd(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=ud(a),null===o)return Sl;if(r++,a=a[Ga],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Sl}function tl(e,t,r){!function xg(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(pi)&&(o=r[pi]),null==o&&(o=r[pi]=gh++);const a=o&Ic;t.data[e+(a>>Ou)]|=1<<a}(e,t,r)}function ou(e,t,r){if(r&Ar.Optional||void 0!==e)return e;Ki()}function ad(e,t,r,o){if(r&Ar.Optional&&void 0===o&&(o=null),!(r&(Ar.Self|Ar.Host))){const a=e[Gi],d=ii(void 0);try{return a?a.get(t,o,r&Ar.Optional):Li(t,o,r&Ar.Optional)}finally{ii(d)}}return ou(o,0,r)}function Ml(e,t,r,o=Ar.Default,a){if(null!==e){if(2048&t[Yn]&&!(o&Ar.Self)){const g=function Ng(e,t,r,o,a){let d=e,g=t;for(;null!==d&&null!==g&&2048&g[Yn]&&!(512&g[Yn]);){const E=su(d,g,r,o|Ar.Self,ma);if(E!==ma)return E;let S=d.parent;if(!S){const $=g[Pa];if($){const q=$.get(r,ma,o);if(q!==ma)return q}S=ud(g),g=g[Ga]}d=S}return a}(e,t,r,o,ma);if(g!==ma)return g}const d=su(e,t,r,o,ma);if(d!==ma)return d}return ad(t,r,o,a)}function su(e,t,r,o,a){const d=function vh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(pi)?e[pi]:void 0;return"number"==typeof t?t>=0?t&Ic:ld:t}(r);if("function"==typeof d){if(!td(t,e,o))return o&Ar.Host?ou(a,0,o):ad(t,r,o,a);try{let g;if(g=d(o),null!=g||o&Ar.Optional)return g;Ki()}finally{pc()}}else if("number"==typeof d){let g=null,E=Of(e,t),S=Sl,$=o&Ar.Host?t[ro][Bi]:null;for((-1===E||o&Ar.SkipSelf)&&(S=-1===E?sd(e,t):t[E+8],S!==Sl&&_h(o,!1)?(g=t[un],E=Na(S),t=yc(S,t)):E=-1);-1!==E;){const q=t[un];if(nl(d,E,q.data)){const le=mh(E,t,r,g,o,$);if(le!==ma)return le}S=t[E+8],S!==Sl&&_h(o,t[un].data[E+8]===$)&&nl(d,E,t)?(g=q,E=Na(S),t=yc(S,t)):E=-1}}return a}function mh(e,t,r,o,a,d){const g=t[un],E=g.data[e+8],q=Tc(E,g,r,null==o?qs(E)&&$o:o!=g&&!!(3&E.type),a&Ar.Host&&d===E);return null!==q?Oa(t,g,q,E):ma}function Tc(e,t,r,o,a){const d=e.providerIndexes,g=t.data,E=1048575&d,S=e.directiveStart,q=d>>20,Ue=a?E+q:e.directiveEnd;for(let Ye=o?E:E+q;Ye<Ue;Ye++){const Ge=g[Ye];if(Ye<S&&r===Ge||Ye>=S&&Ge.type===r)return Ye}if(a){const Ye=g[S];if(Ye&&gs(Ye)&&Ye.type===r)return S}return null}function Oa(e,t,r,o){let a=e[r];const d=t.data;if(function xf(e){return e instanceof xu}(a)){const g=a;g.resolving&&function Do(e,t){throw t&&t.join(" > "),new Le(-200,e)}(function dr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gn(e)}(d[r]));const E=od(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?ii(g.injectImpl):null;td(e,o,Ar.Default);try{a=e[r]=g.factory(void 0,d,e,o),t.firstCreatePass&&r>=o.directiveStart&&function lh(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(o){var g,E;const le=vs(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,le),(null!==(E=r.preOrderCheckHooks)&&void 0!==E?E:r.preOrderCheckHooks=[]).push(e,le)}var S,$,q;a&&(null!==(S=r.preOrderHooks)&&void 0!==S?S:r.preOrderHooks=[]).push(0-e,a),d&&((null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(e,d),(null!==(q=r.preOrderCheckHooks)&&void 0!==q?q:r.preOrderCheckHooks=[]).push(e,d))}(r,d[r],t)}finally{null!==$&&ii($),od(E),g.resolving=!1,pc()}}return a}function nl(e,t,r){return!!(r[t+(e>>Ou)]&1<<e)}function _h(e,t){return!(e&Ar.Self||e&Ar.Host&&t)}class Po{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Ml(this._tNode,this._lView,t,qt(o),r)}}function ld(){return new Po(vi(),en())}function kf(e){return kn(()=>{const t=e.prototype.constructor,r=t[Pi]||Dc(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Pi]||Dc(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Dc(e){return Ht(e)?()=>{const t=Dc(it(e));return t&&t()}:qi(e)}function ud(e){const t=e[un],r=t.type;return 2===r?t.declTNode:1===r?e[Bi]:null}function Pl(e){return function Cc(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if($s(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===t)return r[a+1];a+=2}}}return null}(vi(),e)}function Ff(e,t=null,r=null,o){const a=va(e,t,r,o);return a.resolveInjectorInitializers(),a}function va(e,t=null,r=null,o,a=new Set){const d=[r||xr,Da(e)];return o=o||("object"==typeof e?void 0:ze(e)),new ss(d,t||Gs(),o||null,a)}class Zo{static create(t,r){if(Array.isArray(t))return Ff({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return Ff({name:a},t.parent,t.providers,a)}}}(Kt=Zo).THROW_IF_NOT_FOUND=bo,Kt.NULL=new Ps,Kt.\u0275prov=gr({token:Kt,providedIn:"any",factory:()=>Xe(Xi)}),Kt.__NG_ELEMENT_ID__=-1,new $n("").__NG_ELEMENT_ID__=e=>{const t=vi();if(null===t)throw new Le(204,!1);if(2&t.type)return t.value;if(e&Ar.Optional)return null;throw new Le(204,!1)};function au(e){return e.ngOriginalError}const il=!0;let ka=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=La,e.__NG_ENV_ID__=r=>r,t})();class Fa extends ka{constructor(t){super(),this._lView=t}onDestroy(t){return uc(this._lView,t),()=>function Tu(e,t){if(null===e[ho])return;const r=e[ho].indexOf(t);-1!==r&&e[ho].splice(r,1)}(this._lView,t)}}function La(){return new Fa(en())}let Nl=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=gr({token:e,providedIn:"root",factory:()=>new e}),t})();const Ls=class Uf extends Mn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,ml()&&(this.destroyRef=null!==(r=Ct(ka,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Ct(Nl,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=ae(null);try{super.next(t)}finally{ae(r)}}subscribe(t,r,o){let a=t,d=r||(()=>null),g=o;if(t&&"object"==typeof t){var E,S,$;const le=t;a=null===(E=le.next)||void 0===E?void 0:E.bind(le),d=null===(S=le.error)||void 0===S?void 0:S.bind(le),g=null===($=le.complete)||void 0===$?void 0:$.bind(le)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const q=super.subscribe({next:a,error:d,complete:g});return t instanceof En.yU&&t.add(q),q}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;t(r),void 0!==a&&(null===(d=this.pendingTasks)||void 0===d||d.remove(a))})}}};function Vu(...e){}function hd(e){let t,r;function o(){e=Vu;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function fd(e){return queueMicrotask(()=>e()),()=>{e=Vu}}const I="isAngularZone",h=I+"_ID";let p=0;class T{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=il}=t;if(typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function xt(e){const t=()=>{!function tt(e){function t(){hd(()=>{e.callbackScheduled=!1,nn(e),e.isCheckStableRunning=!0,ce(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),nn(e))}(e)},r=p++;e._inner=e._inner.fork({name:"angular",properties:{[I]:!0,[h]:r,[h+r]:!0},onInvokeTask:(o,a,d,g,E,S)=>{if(function fo(e){return Rc(e,"__ignore_ng_zone__")}(S))return o.invokeTask(d,g,E,S);try{return Rn(e),o.invokeTask(d,g,E,S)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Zn(e)}},onInvoke:(o,a,d,g,E,S,$)=>{try{return Rn(e),o.invoke(d,g,E,S,$)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function _a(e){return Rc(e,"__scheduler_tick__")}(S)&&t(),Zn(e)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,nn(e),ce(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(I)}static assertInAngularZone(){if(!T.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(T.isInAngularZone())throw new Le(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,t,G,Vu,Vu);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const G={};function ce(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nn(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Rn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Zn(e){e._nesting--,ce(e)}class Xn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Rc(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Xs{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&au(t);for(;r&&au(r);)r=au(r);return r||null}}const $f=new $n("",{providedIn:"root",factory:()=>{const e=Ct(T),t=Ct(Xs);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function bh(){return Ol(vi(),en())}function Ol(e,t){return new lu(Xo(e,t))}let lu=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=bh,t})();function pv(e){return e instanceof lu?e.nativeElement:e}function Vg(){return this._results[Symbol.iterator]()}class jf{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Ls}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=jf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Vg)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function uo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Io(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wh(e){return!(128&~e.flags)}const Sh=new Map;let Cy=0;function Uu(e){Sh.delete(e[Ma])}const Va="__ngContext__";function cs(e,t){Zi(t)?(e[Va]=t[Ma],function $g(e){Sh.set(e[Ma],e)}(t)):e[Va]=t}function Av(e){return Cv(e[da])}function Qf(e){return Cv(e[co])}function Cv(e){for(;null!==e&&!wo(e);)e=e[co];return e}let Jf;function qg(e){Jf=e}const _d=new $n("",{providedIn:"root",factory:()=>ep}),ep="ng",tp=new $n(""),Mh=new $n("",{providedIn:"platform",factory:()=>"unknown"}),Xg=new $n("",{providedIn:"root",factory:()=>{var e;return(null===(e=function kl(){if(void 0!==Jf)return Jf;if(typeof document<"u")return document;throw new Le(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Fh=()=>null;function sp(e,t,r=!1){return Fh(e,t,r)}const em=new $n("",{providedIn:"root",factory:()=>!1});let sl;function Vh(e){var t;return(null===(t=function Fl(){if(void 0===sl&&(sl=null,Ir.trustedTypes))try{sl=Ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sl}())||void 0===t?void 0:t.createScriptURL(e))||e}class Uh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}function ju(e){return e instanceof Uh?e.changingThisBreaksApplicationSecurity:e}function al(e,t){const r=function dp(e){return e instanceof Uh&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${bt})`)}return r===t}const Lc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var uu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(uu||{});function am(e){const t=Ip();return t?t.sanitize(uu.URL,e)||"":al(e,"URL")?ju(e):function pp(e){return(e=String(e)).match(Lc)?e:"unsafe:"+e}(Gn(e))}function lm(e){const t=Ip();if(t)return Vh(t.sanitize(uu.RESOURCE_URL,e)||"");if(al(e,"ResourceURL"))return Vh(ju(e));throw new Le(904,!1)}function jh(e,t,r){return function um(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?lm:am}(t,r)(e)}function Ip(){const e=en();return e&&e[Ks].sanitizer}const Qy=/^>|^->|<!--|-->|--!>|<!-$/g,hE=/(<|>)/g,fE="\u200b$1\u200b";function ya(e){return e instanceof Function?e():e}var zh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zh||{});let Ul;function dm(e,t){return Ul(e,t)}function Pd(e,t,r,o,a){if(null!=o){let d,g=!1;wo(o)?d=o:Zi(o)&&(g=!0,o=o[Nr]);const E=Zr(o);0===e&&null!==r?null==a?Gh(t,r,E):cu(t,r,E,a||null,!0):1===e&&null!==r?cu(t,r,E,a||null,!0):2===e?function ot(e,t,r){e.removeChild(null,t,r)}(t,E,g):3===e&&t.destroyNode(E),null!=d&&function yr(e,t,r,o,a){const d=r[Os];d!==Zr(r)&&Pd(t,e,o,d,a);for(let E=Ni;E<r.length;E++){const S=r[E];Cn(S[un],S,e,t,o,d)}}(t,e,d,r,a)}}function fm(e,t){return e.createComment(function Hu(e){return e.replace(Qy,t=>t.replace(hE,fE))}(t))}function Tp(e,t,r){return e.createElement(t,r)}function l0(e,t){var r;null===(r=t[Ks].changeDetectionScheduler)||void 0===r||r.notify(9),Cn(e,t,t[Cr],2,null,null)}function c0(e,t){const r=e[Il],o=t[xi];(Zi(o)||t[ro]!==o[xi][ro])&&(e[Yn]|=Kl.HasTransplantedViews),null===r?e[Il]=[t]:r.push(t)}function n_(e,t){const r=e[Il],o=r.indexOf(t);r.splice(o,1)}function Dp(e,t){if(e.length<=Ni)return;const r=Ni+t,o=e[r];if(o){const a=o[Ei];null!==a&&a!==e&&n_(a,o),t>0&&(e[r-1][co]=o[co]);const d=ko(e,Ni+t);!function DE(e,t){l0(e,t),t[Nr]=null,t[Bi]=null}(o[un],o);const g=d[Co];null!==g&&g.detachView(d[un]),o[xi]=null,o[co]=null,o[Yn]&=-129}return o}function pm(e,t){if(!(256&t[Yn])){const r=t[Cr];r.destroyNode&&Cn(e,t,r,3,null,null),function t_(e){let t=e[da];if(!t)return bp(e[un],e);for(;t;){let r=null;if(Zi(t))r=t[da];else{const o=t[Ni];o&&(r=o)}if(!r){for(;t&&!t[co]&&t!==e;)Zi(t)&&bp(t[un],t),t=t[xi];null===t&&(t=e),Zi(t)&&bp(t[un],t),r=t&&t[co]}t=r}}(t)}}function bp(e,t){if(256&t[Yn])return;const r=ae(null);try{t[Yn]&=-129,t[Yn]|=256,t[fi]&&mt(t[fi]),function wE(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof xu)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const E=a[d[g]],S=d[g+1];ls(4,E,S);try{S.call(E)}finally{ls(5,E,S)}}else{ls(4,a,d);try{d.call(a)}finally{ls(5,a,d)}}}}}(e,t),function r_(e,t){const r=e.cleanup,o=t[Ws];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(t[Ws]=null);const a=t[ho];if(null!==a){t[ho]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,t),1===t[un].type&&t[Cr].destroy();const o=t[Ei];if(null!==o&&wo(t[xi])){o!==t[xi]&&n_(o,t);const a=t[Co];null!==a&&a.detachView(e)}Uu(t)}finally{ae(r)}}function i_(e,t,r){return function d0(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Nr];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===oi.None||d===oi.Emulated)return null}return Xo(o,r)}}(e,t.parent,r)}function cu(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Gh(e,t,r){e.appendChild(t,r)}function l(e,t,r,o,a){null!==o?cu(e,t,r,o,a):Gh(e,t,r)}function n(e,t){return e.parentNode(t)}function s(e,t,r){return m(e,t,r)}let y,m=function u(e,t,r){return 40&e.type?Xo(e,r):null};function L(e,t,r,o){const a=i_(e,o,t),d=t[Cr],E=s(o.parent||t[Bi],o,t);if(null!=a)if(Array.isArray(r))for(let S=0;S<r.length;S++)l(d,a,r[S],E,!1);else l(d,a,r,E,!1);void 0!==y&&y(d,o,t,r,a)}function X(e,t){if(null!==t){const r=t.type;if(3&r)return Xo(t,e);if(4&r)return ke(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return X(e,o);{const a=e[t.index];return wo(a)?ke(-1,a):Zr(a)}}if(128&r)return X(e,t.next);if(32&r)return dm(t,e)()||Zr(e[t.index]);{const o=he(e,t);return null!==o?Array.isArray(o)?o[0]:X(Wi(e[ro]),o):X(e,t.next)}}return null}function he(e,t){return null!==t?e[ro][Bi].projection[t.projection]:null}function ke(e,t){const r=Ni+e+1;if(r<t.length){const o=t[r],a=o[un].firstChild;if(null!==a)return X(o,a)}return t[Os]}function on(e,t,r,o,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],S=r.type;if(g&&0===t&&(E&&cs(Zr(E),o),r.flags|=2),32&~r.flags)if(8&S)on(e,t,r.child,o,a,d,!1),Pd(t,e,a,E,d);else if(32&S){const $=dm(r,o);let q;for(;q=$();)Pd(t,e,a,q,d);Pd(t,e,a,E,d)}else 16&S?ar(e,t,o,r,a,d):Pd(t,e,a,E,d);r=g?r.projectionNext:r.next}}function Cn(e,t,r,o,a,d){on(r,o,e.firstChild,t,a,d,!1)}function ar(e,t,r,o,a,d){const g=r[ro],S=g[Bi].projection[o.projection];if(Array.isArray(S))for(let $=0;$<S.length;$++)Pd(t,e,a,S[$],d);else{let $=S;const q=g[xi];wh(o)&&($.flags|=128),on(e,t,$,q,a,d,!0)}}function Ai(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function ei(e,t,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&fs(e,t,o),null!==a&&Ai(e,t,a),null!==d&&function Wr(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}const ut={};function et(e=1){gt(zr(),en(),Qo()+e,!1)}function gt(e,t,r,o){if(!o)if(3&~t[Yn]){const d=e.preOrderHooks;null!==d&&Pu(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&ru(t,d,r)}wl(r)}function wt(e,t=Ar.Default){const r=en();return null===r?Xe(e,t):Ml(vi(),r,it(e),t)}function kt(){throw new Error("invalid")}function jt(e,t,r,o,a,d){const g=ae(null);try{let E=null;a&Qi.SignalBased&&(E=t[o][ie]),null!==E&&void 0!==E.transformFn&&(d=E.transformFn(d)),a&Qi.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(t,d)),null!==e.setInput?e.setInput(t,E,d,r,o):Mo(t,E,o,d)}finally{ae(g)}}function Ba(e,t,r,o,a,d,g,E,S,$,q){const le=t.blueprint.slice();return le[Nr]=a,le[Yn]=204|o,(null!==$||e&&2048&e[Yn])&&(le[Yn]|=2048),ac(le),le[xi]=le[Ga]=e,le[Ti]=r,le[Ks]=g||e&&e[Ks],le[Cr]=E||e&&e[Cr],le[Gi]=S||e&&e[Gi]||null,le[Bi]=d,le[Ma]=function Bg(){return Cy++}(),le[Ao]=q,le[Pa]=$,le[ro]=2==t.type?e[ro]:le,le}function ll(e,t,r,o,a){let d=e.data[t];if(null===d)d=function gm(e,t,r,o,a){const d=wf(),g=cc(),S=e.data[t]=function Rp(e,t,r,o,a,d){let g=t?t.injectorIndex:-1,E=0;return ta()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(e,t,r,o,a),function Rg(){return wr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const g=function tu(){const e=wr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return na(d,!0),d}function du(e,t,r,o){if(0===r)return-1;const a=t.length;for(let d=0;d<r;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function xd(e,t,r,o,a){const d=Qo(),g=2&o;try{wl(-1),g&&t.length>rr&&gt(e,t,rr,!1),ls(g?2:0,a),r(o,a)}finally{wl(d),ls(g?3:1,a)}}function Wh(e,t,r){if(ea(t)){const o=ae(null);try{const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const E=e.data[g];E.contentQueries&&E.contentQueries(1,r[g],g)}}finally{ae(o)}}}function wp(e,t,r){Tf()&&(function ym(e,t,r,o){const a=r.directiveStart,d=r.directiveEnd;qs(r)&&function qh(e,t,r){const o=Xo(t,e),a=hu(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const E=Xh(e,Ba(e,a,null,g,o,t,null,e[Ks].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=E}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||Ec(r,t),cs(o,t);const g=r.initialInputs;for(let E=a;E<d;E++){const S=e.data[E],$=Oa(t,e,E,r);cs($,t),null!==g&&Em(0,E-a,$,S,0,g),gs(S)&&(_s(r.index,t)[Ti]=Oa(t,e,E,r))}}(e,t,r,Xo(r,t)),!(64&~r.flags)&&Op(e,t,r))}function mm(e,t,r=Xo){const o=t.localNames;if(null!==o){let a=t.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],E=-1===g?r(t,e):e[g];e[a++]=E}}}function hu(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ds(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ds(e,t,r,o,a,d,g,E,S,$,q){const le=rr+o,Ue=le+a,Ye=function h0(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:ut);return r}(le,Ue),Ge="function"==typeof $?$():$;return Ye[un]={type:e,blueprint:Ye,template:r,queries:null,viewQuery:E,declTNode:t,data:Ye.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:Ge,incompleteFirstPass:!1,ssrId:q}}let Nd=()=>null;function Mp(e,t,r,o,a){for(let g in t){var d;if(!t.hasOwnProperty(g))continue;const E=t[g];if(void 0===E)continue;null!==(d=o)&&void 0!==d||(o={});let S,$=Qi.None;Array.isArray(E)?(S=E[0],$=E[1]):S=E;let q=g;if(null!==a){if(!a.hasOwnProperty(g))continue;q=a[g]}0===e?Pp(o,r,q,S,$):Pp(o,r,q,S)}return o}function Pp(e,t,r,o,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(t,o):d=e[r]=[t,o],void 0!==a&&d.push(a)}function Qs(e,t,r,o,a,d,g,E){const S=Xo(t,r);let q,$=t.inputs;!E&&null!=$&&(q=$[o])?(Od(e,r,q,o,a),qs(t)&&function o_(e,t){const r=_s(t,e);16&r[Yn]||(r[Yn]|=64)}(r,t.index)):3&t.type&&(o=function _m(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,d.setProperty(S,o,a))}function xp(e,t,r,o){if(Tf()){const a=null===o?null:{"":-1},d=function Us(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let g=0;g<r.length;g++){const E=r[g];if(Ys(t,E.selectors,!1))if(o||(o=[]),gs(E))if(null!==E.findHostDirectiveDefs){const S=[];a=a||new Map,E.findHostDirectiveDefs(E,S,a),o.unshift(...S,E),Es(e,t,S.length)}else o.unshift(E),Es(e,t,0);else{var d;a=a||new Map,null===(d=E.findHostDirectiveDefs)||void 0===d||d.call(E,E,o,a),o.push(E)}}return null===o?null:[o,a]}(e,r);let g,E;null===d?g=E=null:[g,E]=d,null!==g&&Np(e,t,r,g,a,E),a&&function kp(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=r[t[a+1]];if(null==d)throw new Le(-301,!1);o.push(t[a],d)}}}(r,o,a)}r.mergedAttrs=Eo(r.mergedAttrs,r.attrs)}function Np(e,t,r,o,a,d){for(let le=0;le<o.length;le++)tl(Ec(r,t),e,o[le].type);!function l_(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let le=0;le<o.length;le++){const Ue=o[le];Ue.providersResolver&&Ue.providersResolver(Ue)}let g=!1,E=!1,S=du(e,t,o.length,null);for(let le=0;le<o.length;le++){const Ue=o[le];r.mergedAttrs=Eo(r.mergedAttrs,Ue.hostAttrs),y0(e,r,t,S,Ue),a_(S,Ue,a),null!==Ue.contentQueries&&(r.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(r.flags|=64);const Ye=Ue.type.prototype;var $,q;!g&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(r.index),g=!0),E||!Ye.ngOnChanges&&!Ye.ngDoCheck||((null!==(q=e.preOrderCheckHooks)&&void 0!==q?q:e.preOrderCheckHooks=[]).push(r.index),E=!0),S++}!function vm(e,t,r){const a=t.directiveEnd,d=e.data,g=t.attrs,E=[];let S=null,$=null;for(let q=t.directiveStart;q<a;q++){const le=d[q],Ue=r?r.get(le):null,Ge=Ue?Ue.outputs:null;S=Mp(0,le.inputs,q,S,Ue?Ue.inputs:null),$=Mp(1,le.outputs,q,$,Ge);const Wt=null===S||null===g||Lo(t)?null:I0(S,q,g);E.push(Wt)}null!==S&&(S.hasOwnProperty("class")&&(t.flags|=8),S.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=S,t.outputs=$}(e,r,d)}function Op(e,t,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,g=function th(){return wr.lFrame.currentDirectiveIndex}();try{wl(d);for(let E=o;E<a;E++){const S=e.data[E],$=t[E];nh(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Im(S,$)}}finally{wl(-1),nh(g)}}function Im(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Es(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function a_(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;gs(t)&&(r[""]=e)}}function y0(e,t,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=qi(a.type)),g=new xu(d,gs(a),wt);e.blueprint[o]=g,r[o]=g,function s_(e,t,r,o,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const E=~t.index;(function _0(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=E&&g.push(E),g.push(r,o,d)}}(e,t,o,du(e,r,a.hostVars,ut),a)}function ul(e,t,r,o,a,d){const g=Xo(e,t);!function Fp(e,t,r,o,a,d,g){if(null==d)e.removeAttribute(t,a,r);else{const E=null==g?Gn(d):g(d,o||"",a);e.setAttribute(t,a,E,r)}}(t[Cr],g,d,e.value,r,o,a)}function Em(e,t,r,o,a,d){const g=d[t];if(null!==g)for(let E=0;E<g.length;)jt(o,r,g[E++],g[E++],g[E++],g[E++])}function I0(e,t,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let E=0;E<g.length;E+=3)if(g[E]===t){o.push(d,g[E+1],g[E+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function u_(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Lp(e,t){const r=e.contentQueries;if(null!==r){const o=ae(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const E=e.data[g];Jc(r[a]),E.contentQueries(2,t[g],g)}}}finally{ae(o)}}}function Xh(e,t){return e[da]?e[Bo][co]=t:e[da]=t,e[Bo]=t,t}function Vp(e,t,r){Jc(0);const o=ae(null);try{t(e,r)}finally{ae(o)}}function Bp(e){var t;return null!==(t=e[Ws])&&void 0!==t?t:e[Ws]=[]}function $p(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function Qh(e,t){const r=e[Gi],o=r?r.get(Xs,null):null;o&&o.handleError(t)}function Od(e,t,r,o,a){for(let d=0;d<r.length;){const g=r[d++],E=r[d++],S=r[d++];jt(e.data[g],t[g],o,E,S,a)}}function Bl(e,t,r){const o=sc(t,e);!function e_(e,t,r){e.setValue(t,r)}(e[Cr],o,r)}function Yh(e,t){const r=_s(t,e),o=r[un];!function c_(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Nr];null!==a&&null===r[Ao]&&(r[Ao]=sp(a,r[Gi])),As(o,r,r[Ti])}function As(e,t,r){hc(t);try{var o;const a=e.viewQuery;null!==a&&Vp(1,a,r);const d=e.template;null!==d&&xd(e,t,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Co])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Lp(e,t),e.staticViewQueries&&Vp(2,e.viewQuery,r);const g=e.components;null!==g&&function d_(e,t){for(let r=0;r<t.length;r++)Yh(e,t[r])}(t,g)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[Yn]&=-5,rh()}}function $l(e,t,r,o){const a=ae(null);try{var d,g,E;const S=t.tView,le=Ba(e,S,r,4096&e[Yn]?4096:16,null,t,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(E=null==o?void 0:o.dehydratedView)&&void 0!==E?E:null);le[Ei]=e[t.index];const Ye=e[Co];return null!==Ye&&(le[Co]=Ye.createEmbeddedView(S)),As(S,le,r),le}finally{ae(a)}}function jc(e,t){return!t||null===t.firstChild||wh(e)}function Fd(e,t,r,o=!0){const a=t[un];if(function u0(e,t,r,o){const a=Ni+o,d=r.length;o>0&&(r[a-1][co]=t),o<d-Ni?(t[co]=r[a],Rr(r,Ni+o,t)):(r.push(t),t[co]=null),t[xi]=r;const g=t[Ei];null!==g&&r!==g&&c0(g,t);const E=t[Co];null!==E&&E.insertView(e),pa(t),t[Yn]|=128}(a,t,e,r),o){const g=ke(r,e),E=t[Cr],S=n(E,e[Os]);null!==S&&function bE(e,t,r,o,a,d){o[Nr]=a,o[Bi]=t,Cn(e,o,r,1,a,d)}(a,e[Bi],E,t,S,g)}const d=t[Ao];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Zh(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&o.push(Zr(d)),wo(d)&&h_(d,o);const g=r.type;if(8&g)Zh(e,t,r.child,o);else if(32&g){const E=dm(r,t);let S;for(;S=E();)o.push(S)}else if(16&g){const E=he(t,r);if(Array.isArray(E))o.push(...E);else{const S=Wi(t[ro]);Zh(S[un],S,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function h_(e,t){for(let r=Ni;r<e.length;r++){const o=e[r],a=o[un].firstChild;null!==a&&Zh(o[un],o,a,t)}e[Os]!==e[Nr]&&t.push(e[Os])}let Jh=[];const Wu={...Ee,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Qa(e.lView)},consumerOnSignalRead(){this.lView[fi]=this}},g_={...Ee,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Wi(e.lView);for(;t&&!Hp(t[un]);)t=Wi(t);t&&qc(t)},consumerOnSignalRead(){this.lView[fi]=this}};function Hp(e){return 2!==e.type}const Cm=100;function ef(e,t=!0,r=0){const o=e[Ks],a=o.rendererFactory;var g;null===(g=a.begin)||void 0===g||g.call(a);try{!function m_(e,t){const r=eh();try{Zc(!0),nf(e,t);let o=0;for(;Xa(e);){if(o===Cm)throw new Le(103,!1);o++,nf(e,1)}}finally{Zc(r)}}(e,r)}catch($){throw t&&Qh(e,$),$}finally{var E,S;null===(E=a.end)||void 0===E||E.call(a),null===(S=o.inlineEffectRunner)||void 0===S||S.flush()}}function zp(e,t,r,o){var a;const d=t[Yn];if(!(256&~d))return;null===(a=t[Ks].inlineEffectRunner)||void 0===a||a.flush(),hc(t);let S=!0,$=null,q=null;Hp(e)?(q=function f_(e){var t;return null!==(t=e[fi])&&void 0!==t?t:function Am(e){var t;const r=null!==(t=Jh.pop())&&void 0!==t?t:Object.create(Wu);return r.lView=e,r}(e)}(t),$=nt(q)):null===function be(){return f}()?(S=!1,q=function p_(e){var t;const r=null!==(t=e[fi])&&void 0!==t?t:Object.create(g_);return r.lView=e,r}(t),$=nt(q)):t[fi]&&(mt(t[fi]),t[fi]=null);try{ac(t),function dc(e){return wr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&xd(e,t,r,2,o);const le=!(3&~d);if(le){const Ge=e.preOrderCheckHooks;null!==Ge&&ru(t,Ge,null)}else{const Ge=e.preOrderHooks;null!==Ge&&Pu(t,Ge,0,null),iu(t,0)}if(function Dm(e){for(let t=Av(e);null!==t;t=Qf(t)){if(!(t[Yn]&Kl.HasTransplantedViews))continue;const r=t[Il];for(let o=0;o<r.length;o++)qc(r[o])}}(t),Tm(t,0),null!==e.contentQueries&&Lp(e,t),le){const Ge=e.contentCheckHooks;null!==Ge&&ru(t,Ge)}else{const Ge=e.contentHooks;null!==Ge&&Pu(t,Ge,1),iu(t,1)}!function ht(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)wl(~a);else{const d=a,g=r[++o],E=r[++o];Mg(g,d),E(2,t[d])}}}finally{wl(-1)}}(e,t);const Ue=e.components;null!==Ue&&__(t,Ue,0);const Ye=e.viewQuery;if(null!==Ye&&Vp(2,Ye,o),le){const Ge=e.viewCheckHooks;null!==Ge&&ru(t,Ge)}else{const Ge=e.viewHooks;null!==Ge&&Pu(t,Ge,2),iu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[_l]){for(const Ge of t[_l])Ge();t[_l]=null}t[Yn]&=-73}catch(le){throw Qa(t),le}finally{null!==q&&(st(q,$),S&&function jp(e){e.lView[fi]!==e&&(e.lView=null,Jh.push(e))}(q)),rh()}}function Tm(e,t){for(let r=Av(e);null!==r;r=Qf(r))for(let o=Ni;o<r.length;o++)Ku(r[o],t)}function tf(e,t,r){Ku(_s(t,e),r)}function Ku(e,t){Cl(e)&&nf(e,t)}function nf(e,t){const o=e[un],a=e[Yn],d=e[fi];let g=!!(0===t&&16&a);if(g||(g=!!(64&a&&0===t)),g||(g=!!(1024&a)),g||(g=!(null==d||!d.dirty||!It(d))),g||(g=!1),d&&(d.dirty=!1),e[Yn]&=-9217,g)zp(o,e,o.template,e[Ti]);else if(8192&a){Tm(e,1);const E=o.components;null!==E&&__(e,E,1)}}function __(e,t,r){for(let o=0;o<t.length;o++)tf(e,t[o],r)}function Ld(e,t){var r;const o=eh()?64:1088;for(null===(r=e[Ks].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Yn]|=o;const a=Wi(e);if(Wa(e)&&!a)return e;e=a}return null}class Vd{get rootNodes(){const t=this._lView,r=t[un];return Zh(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ti]}set context(t){this._lView[Ti]=t}get destroyed(){return!(256&~this._lView[Yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[xi];if(wo(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Dp(t,o),ko(r,o))}this._attachedToViewContainer=!1}pm(this._lView[un],this._lView)}onDestroy(t){uc(this._lView,t)}markForCheck(){Ld(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Yn]&=-129}reattach(){pa(this._lView),this._lView[Yn]|=128}detectChanges(){this._lView[Yn]|=1024,ef(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Wa(this._lView),r=this._lView[Ei];null!==r&&!t&&n_(r,this._lView),l0(this._lView[un],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t;const r=Wa(this._lView),o=this._lView[Ei];null!==o&&!r&&c0(o,this._lView),pa(this._lView)}}let Ud=(()=>{class t{}return t.__NG_ELEMENT_ID__=y_,t})();const bm=Ud,wm=class extends bm{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=$l(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Vd(a)}};function y_(){return rf(vi(),en())}function rf(e,t){return 4&e.type?new wm(t,e,Ol(e,t)):null}let ng=()=>null;function pf(e,t){return ng(e,t)}class rg{}const Bm=new $n("",{providedIn:"root",factory:()=>!1}),SE=new $n(""),x0=new $n("");class lb{}class RE{}class cb{resolveComponentFactory(t){throw function ub(e){const t=Error(`No component factory found for ${ze(e)}.`);return t.ngComponent=e,t}(t)}}class $m{}$m.NULL=new cb;class N0{}let db=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function hb(){const e=en(),r=_s(vi().index,e);return(Zi(r)?r:e)[Cr]}(),t})(),fb=(()=>{var e;class t{}return(e=t).\u0275prov=gr({token:e,providedIn:"root",factory:()=>null}),t})();function Wd(e){return!!qn(e)}function F_(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const E=t[g];"number"==typeof E?d=E:1==d?a=Pe(a,E):2==d&&(o=Pe(o,E+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class NE extends $m{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Jn(t);return new zm(r,this.ngModule)}}function OE(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),g=d?a[0]:a;r.push(t?{propName:g,templateName:o,isSignal:!!((d?a[1]:Qi.None)&Qi.SignalBased)}:{propName:g,templateName:o})}return r}class zm extends RE{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=OE(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return OE(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function pt(e){return e.map(Ie).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const d=ae(null);try{var E;let S=(a=a||this.ngModule)instanceof os?a:null===(E=a)||void 0===E?void 0:E.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const $=S?new el(t,S):t,q=$.get(N0,null);if(null===q)throw new Le(407,!1);const Ye={rendererFactory:q,sanitizer:$.get(fb,null),inlineEffectRunner:null,changeDetectionScheduler:$.get(rg,null)},Ge=q.createRenderer(null,this.componentDef),Wt=this.componentDef.selectors[0][0]||"div",an=o?function Kh(e,t,r,o){const d=o.get(em,!1)||r===oi.ShadowDom,g=e.selectRootElement(t,d);return function f0(e){Nd(e)}(g),g}(Ge,o,this.componentDef.encapsulation,$):Tp(Ge,Wt,function mb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Wt));let In=512;this.componentDef.signals?In|=4096:this.componentDef.onPush||(In|=16);let Yt=null;null!==an&&(Yt=sp(an,$,!0));const Dr=ds(0,null,null,1,0,null,null,null,null,null,null),kr=Ba(null,Dr,null,In,null,null,Ye,Ge,$,null,Yt);hc(kr);let so,ws,oa=null;try{const hl=this.componentDef;let Ef,iE=null;hl.findHostDirectiveDefs?(Ef=[],iE=new Map,hl.findHostDirectiveDefs(hl,Ef,iE),Ef.push(hl)):Ef=[hl];const Bx=function _b(e,t){const r=e[un],o=rr;return e[o]=t,ll(r,o,2,"#host",null)}(kr,an);oa=function yb(e,t,r,o,a,d,g){const E=a[un];!function Ib(e,t,r,o){for(const a of e)t.mergedAttrs=Eo(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(F_(t,t.mergedAttrs,!0),null!==r&&ei(o,r,t))}(o,e,t,g);let S=null;null!==t&&(S=sp(t,a[Gi]));const $=d.rendererFactory.createRenderer(t,r);let q=16;r.signals?q=4096:r.onPush&&(q=64);const le=Ba(a,hu(r),null,q,a[e.index],e,d,$,null,null,S);return E.firstCreatePass&&Es(E,e,o.length-1),Xh(a,le),a[e.index]=le}(Bx,an,hl,Ef,kr,Ye,Ge),ws=Al(Dr,rr),an&&function Ab(e,t,r,o){if(o)fs(e,r,["ng-version","18.2.11"]);else{const{attrs:a,classes:d}=function Qt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++o]):8===a&&r.push(d);else{if(!Vo(a))break;a=d}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&fs(e,r,a),d&&d.length>0&&Ai(e,r,d.join(" "))}}(Ge,hl,an,o),void 0!==r&&function Cb(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const d=r[a];o.push(null!=d?Array.from(d):null)}}(ws,this.ngContentSelectors,r),so=function Eb(e,t,r,o,a,d){const g=vi(),E=a[un],S=Xo(g,a);Np(E,a,g,r,null,o);for(let q=0;q<r.length;q++)cs(Oa(a,E,g.directiveStart+q,g),a);Op(E,a,g),S&&cs(S,a);const $=Oa(a,E,g.directiveStart+g.componentOffset,g);if(e[Ti]=a[Ti]=$,null!==d)for(const q of d)q($,t);return Wh(E,g,a),$}(oa,hl,Ef,iE,kr,[Tb]),As(Dr,kr,null)}catch(hl){throw null!==oa&&Uu(oa),Uu(kr),hl}finally{rh()}return new vb(this.componentType,so,Ol(ws,kr),kr,ws)}finally{ae(d)}}}class vb extends lb{constructor(t,r,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Vd(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Od(g[un],g,a,t,r),this.previousInputValues.set(t,r),Ld(_s(this._tNode.index,g),1)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Tb(){const e=vi();Mu(en()[un],e)}let L_=(()=>{class t{}return t.__NG_ELEMENT_ID__=Db,t})();function Db(){return LE(vi(),en())}const bb=L_,kE=class extends bb{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const t=sd(this._hostTNode,this._hostLView);if(id(t)){const r=yc(t,this._hostLView),o=Na(t);return new Po(r[un].data[o+8],r)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=FE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(t,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=pf(this._lContainer,t.ssrId),E=t.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(E,a,jc(this._hostTNode,g)),E}createComponent(t,r,o,a,d){var g,E,S;const $=t&&!function ln(e){return"function"==typeof e}(t);let q;if($)q=r;else{const In=r||{};q=In.index,o=In.injector,a=In.projectableNodes,d=In.environmentInjector||In.ngModuleRef}const le=$?t:new zm(Jn(t)),Ue=o||this.parentInjector;if(!d&&null==le.ngModule){const Yt=($?Ue:this.parentInjector).get(os,null);Yt&&(d=Yt)}const Ye=Jn(null!==(g=le.componentType)&&void 0!==g?g:{}),Ge=pf(this._lContainer,null!==(E=null==Ye?void 0:Ye.id)&&void 0!==E?E:null),Wt=null!==(S=null==Ge?void 0:Ge.firstChild)&&void 0!==S?S:null,an=le.create(Ue,a,Wt,d);return this.insertImpl(an.hostView,q,jc(this._hostTNode,Ge)),an}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function wg(e){return wo(e[xi])}(a)){const E=this.indexOf(t);if(-1!==E)this.detach(E);else{const S=a[xi],$=new kE(S,S[Bi],S[xi]);$.detach($.indexOf(t))}}const d=this._adjustIndex(r),g=this._lContainer;return Fd(g,a,d,o),t.attachToViewContainerRef(),Rr(F0(g),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=FE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Dp(this._lContainer,r);o&&(ko(F0(this._lContainer),r),pm(o[un],o))}detach(t){const r=this._adjustIndex(t,-1),o=Dp(this._lContainer,r);return o&&null!=ko(F0(this._lContainer),r)?new Vd(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function FE(e){return e[8]}function F0(e){return e[8]||(e[8]=[])}function LE(e,t){let r;const o=t[e.index];return wo(o)?r=o:(r=u_(o,t,null,e),t[e.index]=r,Xh(t,r)),VE(r,t,e,o),new kE(r,e,t)}let VE=function BE(e,t,r,o){if(e[Os])return;let a;a=8&r.type?Zr(o):function wb(e,t){const r=e[Cr],o=r.createComment(""),a=Xo(t,e);return cu(r,n(r,a),o,function i(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[Os]=a},L0=()=>!1;class V0{constructor(t){this.queryList=t,this.matches=null}clone(){return new V0(this.queryList)}setDirty(){this.queryList.setDirty()}}class U0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new U0(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==z0(t,r).matches&&this.queries[r].setDirty()}}class $E{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function kb(e){return e.split(",").map(t=>t.trim())}(t):t}}class B0{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(t,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new B0(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $0{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new $0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(t,r,Pb(r,d)),this.matchTNodeWithReadOption(t,r,Tc(r,t,d,!1,!1))}else o===Ud?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Tc(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===lu||a===L_||a===Ud&&4&r.type)this.addMatch(r.index,-2);else{const d=Tc(r,t,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function Pb(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function Nb(e,t,r,o){return-1===r?function xb(e,t){return 11&e.type?Ol(e,t):4&e.type?rf(e,t):null}(t,e):-2===r?function Ob(e,t,r){return r===lu?Ol(t,e):r===Ud?rf(t,e):r===L_?LE(t,e):void 0}(e,t,o):Oa(e,e[un],r,t)}function jE(e,t,r,o){const a=t[Co].queries[o];if(null===a.matches){const d=e.data,g=r.matches,E=[];for(let S=0;null!==g&&S<g.length;S+=2){const $=g[S];E.push($<0?null:Nb(t,d[$],g[S+1],r.metadata.read))}a.matches=E}return a.matches}function j0(e,t,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=jE(e,t,a,r);for(let E=0;E<d.length;E+=2){const S=d[E];if(S>0)o.push(g[E/2]);else{const $=d[E+1],q=t[-S];for(let le=Ni;le<q.length;le++){const Ue=q[le];Ue[Ei]===Ue[xi]&&j0(Ue[un],Ue,$,o)}if(null!==q[Il]){const le=q[Il];for(let Ue=0;Ue<le.length;Ue++){const Ye=le[Ue];j0(Ye[un],Ye,$,o)}}}}}return o}function HE(e,t,r){var o;const a=new jf(!(4&~r));return function Sp(e,t,r,o){const a=Bp(t);a.push(r),e.firstCreatePass&&$p(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Co])&&void 0!==o?o:t[Co]=new U0).queries.push(new V0(a))-1}function WE(e,t,r){null===e.queries&&(e.queries=new B0),e.queries.track(new $0(t,r))}function z0(e,t){return e.queries.getByIndex(t)}function KE(e,t){const r=e[un],o=z0(r,t);return o.crossesNgTemplate?j0(r,e,t,[]):jE(r,e,o,t)}const qE=new Set;function Aa(e){var t,r;qE.has(e)||(qE.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function QE(e,t){Aa("NgSignals");const r=function ye(e){const t=Object.create(rt);t.value=e;const r=()=>(ge(t),t.value);return r[ie]=t,r}(e),o=r[ie];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>Qe(o,a),r.update=a=>function Ke(e,t){Ze()||Fe(),Qe(e,t(e.value))}(o,a),r.asReadonly=YE.bind(r),r}function YE(){const e=this[ie];if(void 0===e.readonlyFn){const t=()=>this();t[ie]=e,e.readonlyFn=t}return e.readonlyFn}function ZE(e){return function XE(e){return"function"==typeof e&&void 0!==e[ie]}(e)&&"function"==typeof e.set}function W0(e){let t=function uA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(gs(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=U_(e.inputs),g.inputTransforms=U_(e.inputTransforms),g.declaredInputs=U_(e.declaredInputs),g.outputs=U_(e.outputs);const E=a.hostBindings;E&&Qb(e,E);const S=a.viewQuery,$=a.contentQueries;if(S&&qb(e,S),$&&Xb(e,$),Wb(e,a),fe(e.outputs,a.outputs),gs(a)&&a.data.animation){const q=e.data;q.animation=(q.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const E=d[g];E&&E.ngInherit&&E(e),E===W0&&(r=!1)}}t=Object.getPrototypeOf(t)}!function Kb(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Eo(a.hostAttrs,r=Eo(r,a.hostAttrs))}}(o)}function Wb(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const d=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(d))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[d]=t.inputTransforms[d]}}}function U_(e){return e===Hi?{}:e===xr?[]:e}function qb(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function Xb(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{t(o,a,d),r(o,a,d)}:t}function Qb(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function pA(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class gf{}class gA{}function nw(e,t){return new q0(e,null!=t?t:null,[])}class q0 extends gf{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NE(this);const d=qn(t);this._bootstrapComponents=ya(d.bootstrap),this._r3Injector=va(t,r,[{provide:gf,useValue:this},{provide:$m,useValue:this.componentFactoryResolver},...o],ze(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class X0 extends gA{constructor(t){super(),this.moduleType=t}create(t){return new q0(this.moduleType,t,[])}}class mA extends gf{constructor(t){super(),this.componentFactoryResolver=new NE(this),this.instance=null;const r=new ss([...t.providers,{provide:gf,useValue:this},{provide:$m,useValue:this.componentFactoryResolver}],t.parent||Gs(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Q0(e,t,r=null){return new mA({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function B_(e){return!!Y0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Y0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function mf(e,t,r,o){const a=Jo(e,t,r);return Jo(e,t+1,o)||a}function Km(e,t,r,o,a,d,g,E,S,$){const q=r+rr,le=t.firstCreatePass?function lw(e,t,r,o,a,d,g,E,S){const $=t.consts,q=ll(t,e,4,g||null,E||null);xp(t,r,q,us($,S)),Mu(t,q);const le=q.tView=ds(2,q,o,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,$,null);return null!==t.queries&&(t.queries.template(t,q),le.queries=t.queries.embeddedTView(q)),q}(q,t,e,o,a,d,g,E,S):t.data[q];na(le,!1);const Ue=vA(t,e,le,r);ga()&&L(t,e,Ue,le),cs(Ue,e);const Ye=u_(Ue,e,Ue,le);return e[q]=Ye,Xh(e,Ye),function UE(e,t,r){return L0(e,t,r)}(Ye,le,e),ql(le)&&wp(t,e,le),null!=S&&mm(e,le,$),le}function Z0(e,t,r,o,a,d,g,E){const S=en(),$=zr();return Km(S,$,e,t,r,o,a,us($.consts,d),g,E),Z0}let vA=function _A(e,t,r,o){return Yo(!0),t[Cr].createComment("")};var ag=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ag||{});let TA=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=gr({token:e,providedIn:"root",factory:()=>new e}),t})();class G_{constructor(){this.ngZone=Ct(T),this.scheduler=Ct(rg),this.errorHandler=Ct(Xs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of G_.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Tt=G_).PHASES=[ag.EarlyRead,ag.Write,ag.MixedReadWrite,ag.Read],Tt.\u0275prov=gr({token:Tt,providedIn:"root",factory:()=>new Tt});class hw{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function W_(e,t){var r;(null==t||!t.injector)&&function R(e){if(!ml())throw new Le(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Ct(Zo);return function Ua(e){return"browser"===(null!=e?e:Ct(Zo)).get(Mh)}(o)?(Aa("NgAfterNextRender"),function DA(e,t,r,o){var a,d;const g=t.get(TA);null!==(a=g.impl)&&void 0!==a||(g.impl=t.get(G_));const E=null!==(d=null==r?void 0:r.phase)&&void 0!==d?d:ag.MixedReadWrite,S=!0!==(null==r?void 0:r.manualCleanup)?t.get(ka):null,$=new hw(g.impl,function pw(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,E),o,S);return g.impl.register($),$}(e,o,t,!0)):bA}const bA={destroy(){}};function uI(e,t,r,o){const a=en();return Jo(a,Oi(),t)&&(zr(),ul($i(),a,e,t,r,o)),uI}function gg(e,t,r,o,a,d){const E=mf(e,function Ja(){return wr.lFrame.bindingIndex}(),r,a);return ra(2),E?t+Gn(r)+o+Gn(a)+d:ut}function X_(e,t){return e<<17|t<<2}function Xd(e){return e>>17&32767}function cI(e){return 2|e}function _f(e){return(131068&e)>>2}function dI(e,t){return-131069&e|t<<2}function hI(e){return 1|e}function ZA(e,t,r,o){const a=e[r+1],d=null===t;let g=o?Xd(a):_f(a),E=!1;for(;0!==g&&(!1===E||d);){const $=e[g+1];Qw(e[g],t)&&(E=!0,e[g+1]=o?hI($):cI($)),g=o?Xd($):_f($)}E&&(e[r+1]=o?cI(a):hI(a))}function Qw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Rs(e,t)>=0}function fI(e,t,r){const o=en();return Jo(o,Oi(),t)&&Qs(zr(),$i(),o,e,t,o[Cr],r,!1),fI}function pI(e,t,r,o,a){const g=a?"class":"style";Od(e,r,t.inputs[g],g,o)}function gI(e,t){return function vu(e,t,r,o){const a=en(),d=zr(),g=ra(2);d.firstUpdatePass&&function aC(e,t,r,o){const a=e.data;if(null===a[r+1]){const d=a[Qo()],g=function sC(e,t){return t>=e.expandoStartIndex}(e,r);(function dC(e,t){return!!(e.flags&(t?8:16))})(d,o)&&null===t&&!g&&(t=!1),t=function oS(e,t,r,o){const a=function wu(e){const t=wr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Ym(r=mI(null,e,t,r,o),t.attrs,o),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=mI(a,e,t,r,o),null===d){let S=function sS(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==_f(o))return e[Xd(o)]}(e,t,o);void 0!==S&&Array.isArray(S)&&(S=mI(null,e,t,S[1],o),S=Ym(S,t.attrs,o),function aS(e,t,r,o){e[Xd(r?t.classBindings:t.styleBindings)]=o}(e,t,o,S))}else d=function lS(e,t,r){let o;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)o=Ym(o,e[d].hostAttrs,r);return Ym(o,t.attrs,r)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),r}(a,d,t,o),function qw(e,t,r,o,a,d){let g=d?t.classBindings:t.styleBindings,E=Xd(g),S=_f(g);e[o]=r;let q,$=!1;if(Array.isArray(r)?(q=r[1],(null===q||Rs(r,q)>0)&&($=!0)):q=r,a)if(0!==S){const Ue=Xd(e[E+1]);e[o+1]=X_(Ue,E),0!==Ue&&(e[Ue+1]=dI(e[Ue+1],o)),e[E+1]=function Ww(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=X_(E,0),0!==E&&(e[E+1]=dI(e[E+1],o)),E=o;else e[o+1]=X_(S,0),0===E?E=o:e[S+1]=dI(e[S+1],o),S=o;$&&(e[o+1]=cI(e[o+1])),ZA(e,q,o,!0),ZA(e,q,o,!1),function Xw(e,t,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Rs(d,t)>=0&&(r[o+1]=hI(r[o+1]))}(t,q,e,o,d),g=X_(E,S),d?t.classBindings=g:t.styleBindings=g}(a,d,t,r,g,o)}}(d,e,g,o),t!==ut&&Jo(a,g,t)&&function uC(e,t,r,o,a,d,g,E){if(!(3&t.type))return;const S=e.data,$=S[E+1],q=function Kw(e){return!(1&~e)}($)?cC(S,t,r,a,_f($),g):void 0;Q_(q)||(Q_(d)||function Gw(e){return!(2&~e)}($)&&(d=cC(S,null,r,a,E,g)),function cr(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:zh.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=zh.Important),e.setStyle(r,o,a,d))}}(o,g,sc(Qo(),r),a,d))}(d,d.data[Qo()],a,a[Cr],e,a[g+1]=function hS(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ze(ju(e)))),e}(t,r),o,g)}(e,t,null,!0),gI}function mI(e,t,r,o,a){let d=null;const g=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<g&&(d=t[E],o=Ym(o,d.hostAttrs,a),d!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function Ym(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wi(e,g,!!r||t[++d]))}return void 0===e?null:e}function cC(e,t,r,o,a,d){const g=null===t;let E;for(;a>0;){const S=e[a],$=Array.isArray(S),q=$?S[1]:S,le=null===q;let Ue=r[a+1];Ue===ut&&(Ue=le?xr:void 0);let Ye=le?zo(Ue,o):q===o?Ue:void 0;if($&&!Q_(Ye)&&(Ye=zo(S,o)),Q_(Ye)&&(E=Ye,g))return E;const Ge=e[a+1];a=g?Xd(Ge):_f(Ge)}if(null!==t){let S=d?t.residualClasses:t.residualStyles;null!=S&&(E=zo(S,o))}return E}function Q_(e){return void 0!==e}function Z_(e,t,r,o){const a=en(),d=zr(),g=rr+e,E=a[Cr],S=d.firstCreatePass?function kS(e,t,r,o,a,d){const g=t.consts,S=ll(t,e,2,o,us(g,a));return xp(t,r,S,us(g,d)),null!==S.attrs&&F_(S,S.attrs,!1),null!==S.mergedAttrs&&F_(S,S.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,S),S}(g,d,a,t,r,o):d.data[g],$=gC(d,a,S,E,t,e);a[g]=$;const q=ql(S);return na(S,!0),ei(E,$,S),!function og(e){return!(32&~e.flags)}(S)&&ga()&&L(d,a,$,S),0===function Du(){return wr.lFrame.elementDepthCount}()&&cs($,a),function Cf(){wr.lFrame.elementDepthCount++}(),q&&(wp(d,a,S),Wh(d,S,a)),null!==o&&mm(a,S),Z_}function J_(){let e=vi();cc()?Za():(e=e.parent,na(e,!1));const t=e;(function Qc(e){return wr.skipHydrationRootTNode===e})(t)&&function bf(){wr.skipHydrationRootTNode=null}(),function Ya(){wr.lFrame.elementDepthCount--}();const r=zr();return r.firstCreatePass&&(Mu(r,e),ea(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ch(e){return!!(8&e.flags)}(t)&&pI(r,t,en(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dh(e){return!!(16&e.flags)}(t)&&pI(r,t,en(),t.stylesWithoutHost,!1),J_}function II(e,t,r,o){return Z_(e,t,r,o),J_(),II}let gC=(e,t,r,o,a,d)=>(Yo(!0),Tp(o,a,function sh(){return wr.lFrame.currentNamespace}()));function ey(e,t,r){const o=en(),a=zr(),d=e+rr,g=a.firstCreatePass?function VS(e,t,r,o,a){const d=t.consts,g=us(d,o),E=ll(t,e,8,"ng-container",g);return null!==g&&F_(E,g,!0),xp(t,r,E,us(d,a)),null!==t.queries&&t.queries.elementStart(t,E),E}(d,a,o,t,r):a.data[d];na(g,!0);const E=mC(a,o,g,e);return o[d]=E,ga()&&L(a,o,E,g),cs(E,o),ql(g)&&(wp(a,o,g),Wh(a,g,o)),null!=r&&mm(o,g),ey}function ty(){let e=vi();const t=zr();return cc()?Za():(e=e.parent,na(e,!1)),t.firstCreatePass&&(Mu(t,e),ea(e)&&t.queries.elementEnd(e)),ty}function EI(e,t,r){return ey(e,t,r),ty(),EI}let mC=(e,t,r,o)=>(Yo(!0),fm(t[Cr],""));function vC(){return en()}const yf=void 0;var jS=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $S(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Cg={};function AI(e){const t=function HS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=EC(t);if(r)return r;const o=t.split("-")[0];if(r=EC(o),r)return r;if("en"===o)return jS;throw new Le(701,!1)}function IC(e){return AI(e)[Tg.PluralCase]}function EC(e){return e in Cg||(Cg[e]=Ir.ng&&Ir.ng.common&&Ir.ng.common.locales&&Ir.ng.common.locales[e]),Cg[e]}var Tg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Tg||{});const ny="en-US";let AC=ny,BC=(e,t,r)=>{};function DI(e,t,r,o){const a=en(),d=zr(),g=vi();return bI(d,a,a[Cr],g,e,t,o),DI}function bI(e,t,r,o,a,d,g){const E=ql(o),$=e.firstCreatePass&&$p(e),q=t[Ti],le=Bp(t);let Ue=!0;if(3&o.type||g){const Wt=Xo(o,t),an=g?g(Wt):Wt,In=le.length,Yt=g?kr=>g(Zr(kr[o.index])):o.index;let Dr=null;if(!g&&E&&(Dr=function PR(e,t,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===o){const E=t[Ws],S=a[d+2];return E.length>S?E[S]:null}"string"==typeof g&&(d+=2)}return null}(e,t,a,o.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=d,Dr.__ngLastListenerFn__=d,Ue=!1;else{d=zC(o,t,q,d),BC(Wt,a,d);const kr=r.listen(an,a,d);le.push(d,kr),$&&$.push(a,Yt,In,In+1)}}else d=zC(o,t,q,d);const Ye=o.outputs;let Ge;if(Ue&&null!==Ye&&(Ge=Ye[a])){const Wt=Ge.length;if(Wt)for(let an=0;an<Wt;an+=2){const so=t[Ge[an]][Ge[an+1]].subscribe(d),ws=le.length;le.push(d,so),$&&$.push(a,o.index,ws,-(ws+1))}}}function HC(e,t,r,o){const a=ae(null);try{return ls(6,t,r),!1!==r(o)}catch(d){return Qh(e,d),!1}finally{ls(7,t,r),ae(a)}}function zC(e,t,r,o){return function a(d){if(d===Function)return o;Ld(e.componentOffset>-1?_s(e.index,t):t,5);let E=HC(t,r,o,d),S=a.__ngNextListenerFn__;for(;S;)E=HC(t,r,S,d)&&E,S=S.__ngNextListenerFn__;return E}}function GC(e=1){return function Mf(e){return(wr.lFrame.contextLView=function lc(e,t){for(;e>0;)t=t[Ga],e--;return t}(e,wr.lFrame.contextLView))[Ti]}(e)}function xR(e,t){let r=null;const o=function W(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const d=t[a];if("*"!==d){if(null===o?Ys(e,d,!0):w(o,d))return a}else r=a}return r}function WC(e){const t=en()[ro][Bi];if(!t.projection){const o=t.projection=function ns(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let d=t.child;for(;null!==d;){if(128!==d.type){const g=e?xR(d,e):0;null!==g&&(a[g]?a[g].projectionNext=d:o[g]=d,a[g]=d)}d=d.next}}}function KC(e,t=0,r,o,a,d){const g=en(),E=zr(),S=o?e+1:null;null!==S&&Km(g,E,S,o,a,d,null,r);const $=ll(E,rr+e,16,null,r||null);null===$.projection&&($.projection=t),Za();const le=!g[Ao]||ta();null===g[ro][Bi].projection[$.projection]&&null!==S?function NR(e,t,r){const o=rr+r,a=t.data[o],d=e[o],g=pf(d,a.tView.ssrId);Fd(d,$l(e,a,void 0,{dehydratedView:g}),0,jc(a,g))}(g,E,S):le&&32&~$.flags&&function fn(e,t,r){ar(t[Cr],0,t,r,i_(e,r,t),s(r.parent||t[Bi],r,t))}(E,g,$)}function rT(e,t,r,o){!function GE(e,t,r,o){const a=zr();if(a.firstCreatePass){const d=vi();WE(a,new $E(t,r,o),d.index),function Fb(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return HE(a,en(),r)}(e,t,r,o)}function iT(e,t,r){!function zE(e,t,r){const o=zr();return o.firstCreatePass&&(WE(o,new $E(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),HE(o,en(),t)}(e,t,r)}function oT(e){const t=en(),r=zr(),o=Su();Jc(o+1);const a=z0(r,o);if(e.dirty&&function Af(e){return!(4&~e[Yn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=KE(t,o);e.reset(d,pv),e.notifyOnChanges()}return!0}return!1}function sT(){return function H0(e,t){return e[Co].queries[t].queryList}(en(),Su())}function mT(e,t=""){const r=en(),o=zr(),a=e+rr,d=o.firstCreatePass?ll(o,a,1,t,null):o.data[a],g=vT(o,r,d,t,e);r[a]=g,ga()&&L(o,r,g,d),na(d,!1)}let vT=(e,t,r,o,a)=>(Yo(!0),function hm(e,t){return e.createText(t)}(t[Cr],o));function RI(e){return sy("",e,""),RI}function sy(e,t,r){const o=en(),a=function pg(e,t,r,o){return Jo(e,Oi(),r)?t+Gn(r)+o:ut}(o,e,t,r);return a!==ut&&Bl(o,Qo(),a),sy}function MI(e,t,r,o,a){const d=en(),g=gg(d,e,t,r,o,a);return g!==ut&&Bl(d,Qo(),g),MI}function PI(e,t,r){ZE(t)&&(t=t());const o=en();return Jo(o,Oi(),t)&&Qs(zr(),$i(),o,e,t,o[Cr],r,!1),PI}function DT(e,t){const r=ZE(e);return r&&e.set(t),r}function xI(e,t){const r=en(),o=zr(),a=vi();return bI(o,r,r[Cr],a,e,t),xI}function NI(e,t,r,o,a){if(e=it(e),Array.isArray(e))for(let d=0;d<e.length;d++)NI(e[d],t,r,o,a);else{const d=zr(),g=en(),E=vi();let S=zs(e)?e:it(e.provide);const $=Js(e),q=1048575&E.providerIndexes,le=E.directiveStart,Ue=E.providerIndexes>>20;if(zs(e)||!e.multi){const Ye=new xu($,a,wt),Ge=kI(S,t,a?q:q+Ue,le);-1===Ge?(tl(Ec(E,g),d,S),OI(d,e,t.length),t.push(S),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(Ye),g.push(Ye)):(r[Ge]=Ye,g[Ge]=Ye)}else{const Ye=kI(S,t,q+Ue,le),Ge=kI(S,t,q,q+Ue),an=Ge>=0&&r[Ge];if(a&&!an||!a&&!(Ye>=0&&r[Ye])){tl(Ec(E,g),d,S);const In=function eM(e,t,r,o,a){const d=new xu(e,r,wt);return d.multi=[],d.index=t,d.componentProviders=0,ST(d,a,o&&!r),d}(a?JR:ZR,r.length,a,o,$);!a&&an&&(r[Ge].providerFactory=In),OI(d,e,t.length,0),t.push(S),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(In),g.push(In)}else OI(d,e,Ye>-1?Ye:Ge,ST(r[a?Ge:Ye],$,!a&&o));!a&&o&&an&&r[Ge].componentProviders++}}}function OI(e,t,r,o){const a=zs(t),d=function wa(e){return!!e.useClass}(t);if(a||d){const S=(d?it(t.useClass):t).prototype.ngOnDestroy;if(S){const $=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const q=$.indexOf(r);-1===q?$.push(r,[o,S]):$[q+1].push(o,S)}else $.push(r,S)}}}function ST(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function kI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function ZR(e,t,r,o){return FI(this.multi,[])}function JR(e,t,r,o){const a=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=Oa(r,r[un],this.providerFactory.index,o);d=E.slice(0,g),FI(a,d);for(let S=g;S<E.length;S++)d.push(E[S])}else d=[],FI(a,d);return d}function FI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function RT(e,t=[]){return r=>{r.providersResolver=(o,a)=>function YR(e,t,r){const o=zr();if(o.firstCreatePass){const a=gs(e);NI(r,o.data,o.blueprint,a,!0),NI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let tM=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=yu(0,o.type),d=a.length>0?Q0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=gr({token:e,providedIn:"environment",factory:()=>new e(Xe(os))}),t})();function MT(e){Aa("NgStandalone"),e.getStandaloneInjector=t=>t.get(tM).getOrCreateStandaloneInjector(e)}function OT(e,t,r,o,a,d,g){const E=t+r;return mf(e,E,a,d)?function Ju(e,t,r){return e[t]=r}(e,E+2,g?o.call(g,a,d):o(a,d)):function rv(e,t){const r=e[t];return r===ut?void 0:r}(e,E+2)}function VT(e,t){const r=zr();let o;const a=e+rr;var d;r.firstCreatePass?(o=function gM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(null!==(d=r.destroyHooks)&&void 0!==d?d:r.destroyHooks=[]).push(a,o.onDestroy)):o=r.data[a];const g=o.factory||(o.factory=qi(o.type)),S=ii(wt);try{const $=od(!1),q=g();return od($),function SI(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,en(),a,q),q}finally{ii(S)}}function UT(e,t,r,o){const a=e+rr,d=en(),g=function xa(e,t){return e[t]}(d,a);return function iv(e,t){return e[un].data[t].pure}(d,a)?OT(d,function ys(){const e=wr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,g.transform,r,o,g):g.transform(r,o)}class tD{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const jM=new tD("18.2.11");let nD=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const sD=new $n(""),aD=new $n("");let HI,pP=(()=>{var e;class t{constructor(o,a,d){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,HI||(function gP(e){HI=e}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),o()},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(Xe(T),Xe(lD),Xe(aD))},e.\u0275prov=gr({token:e,factory:e.\u0275fac}),t})(),lD=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var d,g;return null!==(d=null===(g=HI)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==d?d:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function zI(e){return!!e&&"function"==typeof e.then}function uD(e){return!!e&&"function"==typeof e.subscribe}const cD=new $n("");let dD=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=null!==(o=Ct(cD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(zI(g))o.push(g);else if(uD(g)){const E=new Promise((S,$)=>{g.subscribe({complete:S,error:$})});o.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const dy=new $n("");function fD(e,t){return Array.isArray(t)?t.reduce(fD,e):{...e,...t}}let nc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct($f),this.afterRenderManager=Ct(TA),this.zonelessEnabled=Ct(Bm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Mn.B,this.afterTick=new Mn.B,this.componentTypes=[],this.components=[],this.isStable=Ct(Nl).hasPendingTasks.pipe((0,_n.T)(o=>!o)),this._injector=Ct(os)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:d=>{d&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof RE;if(!this._injector.get(dD).done)throw!d&&zi(o),new Le(405,!1);let E;E=d?o:this._injector.get($m).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const S=function mP(e){return e.isBoundToModule}(E)?void 0:this._injector.get(gf),q=E.create(Zo.NULL,[],a||E.selector,S),le=q.location.nativeElement,Ue=q.injector.get(sD,null);return null==Ue||Ue.registerApplication(le),q.onDestroy(()=>{this.detachView(q.hostView),hy(this.components,q),null==Ue||Ue.unregisterApplication(le)}),this._loadComponent(q),q}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Le(101,!1);const o=ae(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ae(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(N0,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:E,notifyErrorHandler:S}of this._views)yP(E,S,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,d;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Xa(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;hy(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(dy,[]);[...this._bootstrapListeners,...a].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>hy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Le(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function hy(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function yP(e,t,r,o){(r||Xa(e))&&ef(e,t,r&&!o?0:1)}class IP{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let EP=(()=>{var e;class t{compileModuleSync(o){return new X0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=ya(qn(o).declarations).reduce((E,S)=>{const $=Jn(S);return $&&E.push(new zm($)),E},[]);return new IP(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),TP=(()=>{var e;class t{constructor(){this.zone=Ct(T),this.changeDetectionScheduler=Ct(rg),this.applicationRef=Ct(nc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GI({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new T({...WI(),scheduleInRootZone:r})),[{provide:T,useFactory:e},{provide:To,multi:!0,useFactory:()=>{const a=Ct(TP,{optional:!0});return()=>a.initialize()}},{provide:To,multi:!0,useFactory:()=>{const a=Ct(bP);return()=>{a.initialize()}}},!0===t?{provide:SE,useValue:!0}:[],{provide:x0,useValue:null!=r?r:il}]}function WI(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let bP=(()=>{var e;class t{constructor(){this.subscription=new En.yU,this.initialized=!1,this.zone=Ct(T),this.pendingTasks=Ct(Nl)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;T.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lv=(()=>{var e;class t{constructor(){var o,a,d;this.appRef=Ct(nc),this.taskService=Ct(Nl),this.ngZone=Ct(T),this.zonelessEnabled=Ct(Bm),this.disableScheduling=null!==(o=Ct(SE,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new En.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=Ct(x0,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Xn||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?fd:hd;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const qI=new $n("",{providedIn:"root",factory:()=>Ct(qI,Ar.Optional|Ar.SkipSelf)||function wP(){return typeof $localize<"u"&&$localize.locale||ny}()}),SP=new $n("",{providedIn:"root",factory:()=>"USD"}),fy=new $n("");function py(e){return!e.moduleRef}let ID=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=null==a?void 0:a.scheduleInRootZone,S=[GI({ngZoneFactory:()=>function Bf(e="zone.js",t){return"noop"===e?new Xn:"zone.js"===e?new T(t):e}(null==a?void 0:a.ngZone,{...WI({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:rg,useExisting:lv}],$=function rw(e,t,r){return new q0(e,t,r,!1)}(o.moduleType,this.injector,S);return function yD(e){const t=py(e)?e.r3Injector:e.moduleRef.injector,r=t.get(T);return r.run(()=>{py(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Xs,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),py(e)){const d=()=>t.destroy(),g=e.platformInjector.get(fy);g.add(d),t.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(fy);g.add(d),e.moduleRef.onDestroy(()=>{hy(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(d)})}return function _P(e,t,r){try{const o=r();return zI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=t.get(dD);return d.runInitializers(),d.donePromise.then(()=>{if(function KS(e){"string"==typeof e&&(AC=e.toLowerCase().replace(/_/g,"-"))}(t.get(qI,ny)||ny),py(e)){const E=t.get(nc);return void 0!==e.rootComponent&&E.bootstrap(e.rootComponent),E}return function NP(e,t){const r=e.injector.get(nc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Le(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:$,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const d=fD({},a);return function CP(e,t,r){const o=new X0(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(fy,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(Xe(Zo))},e.\u0275prov=gr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Qd=null;const ED=new $n("");function AD(e,t,r=[]){const o=`Platform: ${t}`,a=new $n(o);return(d=[])=>{let g=XI();if(!g||g.injector.get(ED,!1)){const E=[...r,...d,{provide:a,useValue:!0}];e?e(E):function OP(e){if(Qd&&!Qd.get(ED,!1))throw new Le(400,!1);(function hD(){!function Y(e){Dn=e}(()=>{throw new Le(600,!1)})})(),Qd=e;const t=e.get(ID);(function TD(e){const t=e.get(tp,null);null==t||t.forEach(r=>r())})(e)}(function CD(e=[],t){return Zo.create({name:t,providers:[{provide:za,useValue:"platform"},{provide:fy,useValue:new Set([()=>Qd=null])},...e]})}(E,o))}return function kP(){const t=XI();if(!t)throw new Le(401,!1);return t}()}}function XI(){var e,t;return null!==(e=null===(t=Qd)||void 0===t?void 0:t.get(ID))&&void 0!==e?e:null}function LP(){return!1}let bD=(()=>{class t{}return t.__NG_ELEMENT_ID__=VP,t})();function VP(e){return function UP(e,t,r){if(qs(e)&&!r){const o=_s(e.index,t);return new Vd(o,o)}return 175&e.type?new Vd(t[ro],t):null}(vi(),en(),!(16&~e))}class MD{constructor(){}supports(t){return B_(t)}create(t){return new zP(t)}}const HP=(e,t)=>t;class zP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||HP}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<xD(o,a,d)?r:o,E=xD(g,a,d),S=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const $=E-a,q=S-a;if($!=q){for(let Ue=0;Ue<$;Ue++){const Ye=Ue<d.length?d[Ue]:d[Ue]=0,Ge=Ye+Ue;q<=Ge&&Ge<$&&(d[Ue]=Ye+1)}d[g.previousIndex]=q-$}}E!==S&&t(g,E,S)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!B_(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)d=t[E],g=this._trackByFn(E,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,E)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,E),o=!0),r=r._next}else a=0,function sw(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,E=>{g=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,E,g,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,a)):t=this._addAfter(new GP(r,o),d,a),t}_verifyReinsertion(t,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new PD),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class GP{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class PD{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new WP,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xD(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class ND{constructor(){}supports(t){return t instanceof Map||Y0(t)}create(){return new KP}}class KP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Y0(t)))throw new Le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const o=new qP(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OD(){return new eE([new MD])}let eE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||OD()),deps:[[t,new Xr,new sr]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new Le(901,!1)}}return(e=t).\u0275prov=gr({token:e,providedIn:"root",factory:OD}),t})();function kD(){return new tE([new ND])}let tE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||kD()),deps:[[t,new Xr,new sr]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new Le(901,!1)}}return(e=t).\u0275prov=gr({token:e,providedIn:"root",factory:kD}),t})();const YP=AD(null,"core",[]);let ZP=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(Xe(nc))},e.\u0275mod=hr({type:e}),e.\u0275inj=K({}),t})();function Rx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Px(e,t){Aa("NgSignals");const r=function pe(e){const t=Object.create(Nt);t.computation=e;const r=()=>{if(qe(t),ge(t),t.value===zt)throw t.error;return t.value};return r[ie]=t,r}(e);return null!=t&&t.equal&&(r[ie].equal=t.equal),r}function xx(e){const t=ae(null);try{return e()}finally{ae(t)}}function Vx(e,t){const r=Jn(e),o=t.elementInjector||Gs();return new zm(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Ux(e){const t=Jn(e);if(!t)return null;const r=new zm(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(mn,_t,k)=>{"use strict";k.d(_t,{DS:()=>Qe,X8:()=>Ke,$z:()=>ee,UB:()=>re,yy:()=>Fe,ZP:()=>Y,AU:()=>ye,CP:()=>Dn,gF:()=>Ae});var c=k(9842),ne=(k(324),k(177)),te=k(4438),ie=k(5407),ae=k(9253),be=k(1413),Be=k(7673),je=k(1985),Ee=k(8455),ge=k(6365),$e=k(8750),qe=k(983),He=k(3794),ct=k(941),nt=k(5558),st=k(6354),It=k(6129);class mt extends be.B{constructor(rt=1/0,lt=1/0,St=It.U){super(),this._bufferSize=rt,this._windowTime=lt,this._timestampProvider=St,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,rt),this._windowTime=Math.max(1,lt)}next(rt){const{isStopped:lt,_buffer:St,_infiniteTimeWindow:An,_timestampProvider:sn,_windowTime:dn}=this;lt||(St.push(rt),!An&&St.push(sn.now()+dn)),this._trimBuffer(),super.next(rt)}_subscribe(rt){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(rt),{_infiniteTimeWindow:St,_buffer:An}=this,sn=An.slice();for(let dn=0;dn<sn.length&&!rt.closed;dn+=St?1:2)rt.next(sn[dn]);return this._checkFinalizedStatuses(rt),lt}_trimBuffer(){const{_bufferSize:rt,_timestampProvider:lt,_buffer:St,_infiniteTimeWindow:An}=this,sn=(An?1:2)*rt;if(rt<1/0&&sn<St.length&&St.splice(0,St.length-sn),!An){const dn=lt.now();let Zt=0;for(let Mn=1;Mn<St.length&&St[Mn]<=dn;Mn+=2)Zt=Mn;Zt&&St.splice(0,Zt+1)}}}var Se=k(7707),_e=k(9974);function dt(Ve,rt,...lt){if(!0===rt)return void Ve();if(!1===rt)return;const St=new Se.Ms({next:()=>{St.unsubscribe(),Ve()}});return(0,$e.Tg)(rt(...lt)).subscribe(St)}function at(Ve,rt,lt){let St,An=!1;return Ve&&"object"==typeof Ve?({bufferSize:St=1/0,windowTime:rt=1/0,refCount:An=!1,scheduler:lt}=Ve):St=null!=Ve?Ve:1/0,function Me(Ve={}){const{connector:rt=()=>new be.B,resetOnError:lt=!0,resetOnComplete:St=!0,resetOnRefCountZero:An=!0}=Ve;return sn=>{let dn,Zt,Mn,En=0,_n=!1,Kt=!1;const ir=()=>{null==Zt||Zt.unsubscribe(),Zt=void 0},Tt=()=>{ir(),dn=Mn=void 0,_n=Kt=!1},Pt=()=>{const bt=dn;Tt(),null==bt||bt.unsubscribe()};return(0,_e.N)((bt,Le)=>{En++,!Kt&&!_n&&ir();const Nn=Mn=null!=Mn?Mn:rt();Le.add(()=>{En--,0===En&&!Kt&&!_n&&(Zt=dt(Pt,An))}),Nn.subscribe(Le),!dn&&En>0&&(dn=new Se.Ms({next:zn=>Nn.next(zn),error:zn=>{Kt=!0,ir(),Zt=dt(Tt,lt,zn),Nn.error(zn)},complete:()=>{_n=!0,ir(),Zt=dt(Tt,St),Nn.complete()}}),(0,$e.Tg)(bt).subscribe(dn))})(sn)}}({connector:()=>new mt(St,rt,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:An})}var Mt=k(1594),pe=k(8071);function De(Ve,rt){return(0,pe.T)(rt)?(0,nt.n)(()=>Ve,rt):(0,nt.n)(()=>Ve)}var Ot=k(6745),zt=k(5964),Nt=k(762);const Dn=new te.nKC("angularfire2.auth.use-emulator"),Fe=new te.nKC("angularfire2.auth.settings"),Y=new te.nKC("angularfire2.auth.tenant-id"),ee=new te.nKC("angularfire2.auth.langugage-code"),ye=new te.nKC("angularfire2.auth.use-device-language"),re=new te.nKC("angularfire.auth.persistence"),Ae=(Ve,rt,lt,St,An,sn,dn,Zt)=>(0,ae.BM)(`${Ve.name}.auth`,"AngularFireAuth",Ve.name,()=>{const Mn=rt.runOutsideAngular(()=>Ve.auth());if(lt&&Mn.useEmulator(...lt),St&&(Mn.tenantId=St),Mn.languageCode=An,sn&&Mn.useDeviceLanguage(),dn)for(const[En,_n]of Object.entries(dn))Mn.settings[En]=_n;return Zt&&Mn.setPersistence(Zt),Mn},[lt,St,An,sn,dn,Zt]);let Qe=(()=>{var Ve;class rt{constructor(St,An,sn,dn,Zt,Mn,En,_n,Kt,ir,Tt,Pt){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const bt=new be.B,Le=(0,Be.of)(void 0).pipe((0,ct.Q)(Zt.outsideAngular),(0,nt.n)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,324)))),(0,st.T)(()=>(0,ae.iB)(St,dn,An)),(0,st.T)(Nn=>Ae(Nn,dn,Mn,_n,Kt,ir,En,Tt)),at({bufferSize:1,refCount:!1}));if((0,ne.Vy)(sn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Le.pipe((0,Mt.$)()).subscribe();const Nn=Le.pipe((0,nt.n)(hn=>hn.getRedirectResult().then(Wn=>Wn,()=>null)),ie.U0,at({bufferSize:1,refCount:!1})),zn=Le.pipe((0,nt.n)(hn=>new je.c(Wn=>({unsubscribe:dn.runOutsideAngular(()=>hn.onAuthStateChanged(Qn=>Wn.next(Qn),Qn=>Wn.error(Qn),()=>Wn.complete()))})))),vn=Le.pipe((0,nt.n)(hn=>new je.c(Wn=>({unsubscribe:dn.runOutsideAngular(()=>hn.onIdTokenChanged(Qn=>Wn.next(Qn),Qn=>Wn.error(Qn),()=>Wn.complete()))}))));this.authState=Nn.pipe(De(zn),(0,Ot._)(Zt.outsideAngular),(0,ct.Q)(Zt.insideAngular)),this.user=Nn.pipe(De(vn),(0,Ot._)(Zt.outsideAngular),(0,ct.Q)(Zt.insideAngular)),this.idToken=this.user.pipe((0,nt.n)(hn=>hn?(0,Ee.H)(hn.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,nt.n)(hn=>hn?(0,Ee.H)(hn.getIdTokenResult()):(0,Be.of)(null))),this.credential=function Ze(...Ve){const rt=(0,He.lI)(Ve),lt=(0,He.R0)(Ve,1/0),St=Ve;return St.length?1===St.length?(0,$e.Tg)(St[0]):(0,ge.U)(lt)((0,Ee.H)(St,rt)):qe.w}(Nn,bt,this.authState.pipe((0,zt.p)(hn=>!hn))).pipe((0,st.T)(hn=>null!=hn&&hn.user?hn:null),(0,Ot._)(Zt.outsideAngular),(0,ct.Q)(Zt.insideAngular))}return(0,ae.Gt)(this,Le,dn,{spy:{apply:(Nn,zn,vn)=>{(Nn.startsWith("signIn")||Nn.startsWith("createUser"))&&vn.then(hn=>bt.next(hn))}}})}}return Ve=rt,(0,c.A)(rt,"\u0275fac",function(St){return new(St||Ve)(te.KVO(ae.rx),te.KVO(ae.uP,8),te.KVO(te.Agw),te.KVO(te.SKi),te.KVO(ie.u0),te.KVO(Dn,8),te.KVO(Fe,8),te.KVO(Y,8),te.KVO(ee,8),te.KVO(ye,8),te.KVO(re,8),te.KVO(ie.Jv,8))}),(0,c.A)(rt,"\u0275prov",te.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"any"})),rt})(),Ke=(()=>{var Ve;class rt{constructor(){Nt.A.registerVersion("angularfire",ie.xv.full,"auth-compat")}}return Ve=rt,(0,c.A)(rt,"\u0275fac",function(St){return new(St||Ve)}),(0,c.A)(rt,"\u0275mod",te.$C({type:Ve})),(0,c.A)(rt,"\u0275inj",te.G2t({providers:[Qe]})),rt})()},7687:(mn,_t,k)=>{"use strict";k.d(_t,{Qe:()=>yt,cM:()=>Fr});var c=k(9842),f=k(177),ne=k(4438),te=k(5407),ie=k(9253),ae=k(1182),be=k(3236),Be=k(1985),je=k(8455),Ee=k(7673),ge=k(9172),$e=k(9974),qe=k(4360);function He(){return(0,$e.N)((Vt,fe)=>{let ze,Pe=!1;Vt.subscribe((0,qe._)(fe,Oe=>{const At=ze;ze=Oe,Pe&&fe.next([At,Oe]),Pe=!0}))})}var Ze=k(6354),ct=k(2816),nt=k(3294),st=k(5964),mt=(k(324),k(9574)),Se=k(1526),_e=k(1401),Me=k(8779);function Mt(Vt,fe){if(void 0===fe)return{merge:!1};if(void 0!==fe.mergeFields&&void 0!==fe.merge)throw new Se.W6("invalid-argument",`Invalid options passed to function ${Vt}(): You cannot specify both "merge" and "mergeFields".`);return fe}function pe(){if(typeof Uint8Array>"u")throw new Se.W6("unimplemented","Uint8Arrays are not available in this environment.")}function De(){if(!(0,Se.qG)())throw new Se.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ot{constructor(fe){this._delegate=fe}static fromBase64String(fe){return De(),new Ot(Se.Ix.fromBase64String(fe))}static fromUint8Array(fe){return pe(),new Ot(Se.Ix.fromUint8Array(fe))}toBase64(){return De(),this._delegate.toBase64()}toUint8Array(){return pe(),this._delegate.toUint8Array()}isEqual(fe){return this._delegate.isEqual(fe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zt(Vt){return function Nt(Vt,fe){if("object"!=typeof Vt||null===Vt)return!1;const ze=Vt;for(const Pe of fe)if(Pe in ze&&"function"==typeof ze[Pe])return!0;return!1}(Vt,["next","error","complete"])}class Et{enableIndexedDbPersistence(fe,ze){return(0,Se.ol)(fe._delegate,{forceOwnership:ze})}enableMultiTabIndexedDbPersistence(fe){return(0,Se.Q5)(fe._delegate)}clearIndexedDbPersistence(fe){return(0,Se.me)(fe._delegate)}}class Dn{constructor(fe,ze,Pe){this._delegate=ze,this._persistenceProvider=Pe,this.INTERNAL={delete:()=>this.terminate()},fe instanceof Se.cm||(this._appCompat=fe)}get _databaseId(){return this._delegate._databaseId}settings(fe){const ze=this._delegate._getSettings();!fe.merge&&ze.host!==fe.host&&(0,Se.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),fe.merge&&delete(fe=Object.assign(Object.assign({},ze),fe)).merge,this._delegate._setSettings(fe)}useEmulator(fe,ze,Pe={}){(0,Se.vN)(this._delegate,fe,ze,Pe)}enableNetwork(){return(0,Se.Os)(this._delegate)}disableNetwork(){return(0,Se.LA)(this._delegate)}enablePersistence(fe){let ze=!1,Pe=!1;return fe&&(ze=!!fe.synchronizeTabs,Pe=!!fe.experimentalForceOwningTab,(0,Se.c8)("synchronizeTabs",ze,"experimentalForceOwningTab",Pe)),ze?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Pe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Se.iB)(this._delegate)}onSnapshotsInSync(fe){return(0,Se.FC)(this._delegate,fe)}get app(){if(!this._appCompat)throw new Se.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(fe){try{return new dn(this,(0,Se.rJ)(this._delegate,fe))}catch(ze){throw Qe(ze,"collection()","Firestore.collection()")}}doc(fe){try{return new Ae(this,(0,Se.H9)(this._delegate,fe))}catch(ze){throw Qe(ze,"doc()","Firestore.doc()")}}collectionGroup(fe){try{return new St(this,(0,Se.Cs)(this._delegate,fe))}catch(ze){throw Qe(ze,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(fe){return(0,Se.c4)(this._delegate,ze=>fe(new ee(this,ze)))}batch(){return(0,Se.Ws)(this._delegate),new ye(new Se.GA(this._delegate,fe=>(0,Se.z6)(this._delegate,fe)))}loadBundle(fe){return(0,Se.po)(this._delegate,fe)}namedQuery(fe){return(0,Se.St)(this._delegate,fe).then(ze=>ze?new St(this,ze):null)}}class Fe extends Se.fS{constructor(fe){super(),this.firestore=fe}convertBytes(fe){return new Ot(new Se.Ix(fe))}convertReference(fe){const ze=this.convertDocumentKey(fe,this.firestore._databaseId);return Ae.forKey(ze,this.firestore,null)}}class ee{constructor(fe,ze){this._firestore=fe,this._delegate=ze,this._userDataWriter=new Fe(fe)}get(fe){const ze=Zt(fe);return this._delegate.get(ze).then(Pe=>new rt(this._firestore,new Se.Wq(this._firestore._delegate,this._userDataWriter,Pe._key,Pe._document,Pe.metadata,ze.converter)))}set(fe,ze,Pe){const Oe=Zt(fe);return Pe?(Mt("Transaction.set",Pe),this._delegate.set(Oe,ze,Pe)):this._delegate.set(Oe,ze),this}update(fe,ze,Pe,...Oe){const At=Zt(fe);return 2===arguments.length?this._delegate.update(At,ze):this._delegate.update(At,ze,Pe,...Oe),this}delete(fe){const ze=Zt(fe);return this._delegate.delete(ze),this}}class ye{constructor(fe){this._delegate=fe}set(fe,ze,Pe){const Oe=Zt(fe);return Pe?(Mt("WriteBatch.set",Pe),this._delegate.set(Oe,ze,Pe)):this._delegate.set(Oe,ze),this}update(fe,ze,Pe,...Oe){const At=Zt(fe);return 2===arguments.length?this._delegate.update(At,ze):this._delegate.update(At,ze,Pe,...Oe),this}delete(fe){const ze=Zt(fe);return this._delegate.delete(ze),this}commit(){return this._delegate.commit()}}class re{constructor(fe,ze,Pe){this._firestore=fe,this._userDataWriter=ze,this._delegate=Pe}fromFirestore(fe,ze){const Pe=new Se.YQ(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,null);return this._delegate.fromFirestore(new lt(this._firestore,Pe),null!=ze?ze:{})}toFirestore(fe,ze){return ze?this._delegate.toFirestore(fe,ze):this._delegate.toFirestore(fe)}static getInstance(fe,ze){const Pe=re.INSTANCES;let Oe=Pe.get(fe);Oe||(Oe=new WeakMap,Pe.set(fe,Oe));let At=Oe.get(ze);return At||(At=new re(fe,new Fe(fe),ze),Oe.set(ze,At)),At}}re.INSTANCES=new WeakMap;class Ae{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new Fe(fe)}static forPath(fe,ze,Pe){if(fe.length%2!=0)throw new Se.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${fe.canonicalString()} has ${fe.length}`);return new Ae(ze,new Se.T1(ze._delegate,Pe,new Se.K$(fe)))}static forKey(fe,ze,Pe){return new Ae(ze,new Se.T1(ze._delegate,Pe,fe))}get id(){return this._delegate.id}get parent(){return new dn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(fe){try{return new dn(this.firestore,(0,Se.rJ)(this._delegate,fe))}catch(ze){throw Qe(ze,"collection()","DocumentReference.collection()")}}isEqual(fe){return(fe=(0,_e.Ku)(fe))instanceof Se.T1&&(0,Se.yx)(this._delegate,fe)}set(fe,ze){ze=Mt("DocumentReference.set",ze);try{return ze?(0,Se.BN)(this._delegate,fe,ze):(0,Se.BN)(this._delegate,fe)}catch(Pe){throw Qe(Pe,"setDoc()","DocumentReference.set()")}}update(fe,ze,...Pe){try{return 1===arguments.length?(0,Se.mZ)(this._delegate,fe):(0,Se.mZ)(this._delegate,fe,ze,...Pe)}catch(Oe){throw Qe(Oe,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Se.kd)(this._delegate)}onSnapshot(...fe){const ze=Ke(fe),Pe=Ve(fe,Oe=>new rt(this.firestore,new Se.Wq(this.firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,this._delegate.converter)));return(0,Se.aQ)(this._delegate,ze,Pe)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Se.nY)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Se._e)(this._delegate):(0,Se.x7)(this._delegate),ze.then(Pe=>new rt(this.firestore,new Se.Wq(this.firestore._delegate,this._userDataWriter,Pe._key,Pe._document,Pe.metadata,this._delegate.converter)))}withConverter(fe){return new Ae(this.firestore,this._delegate.withConverter(fe?re.getInstance(this.firestore,fe):null))}}function Qe(Vt,fe,ze){return Vt.message=Vt.message.replace(fe,ze),Vt}function Ke(Vt){for(const fe of Vt)if("object"==typeof fe&&!zt(fe))return fe;return{}}function Ve(Vt,fe){var ze,Pe;let Oe;return Oe=zt(Vt[0])?Vt[0]:zt(Vt[1])?Vt[1]:"function"==typeof Vt[0]?{next:Vt[0],error:Vt[1],complete:Vt[2]}:{next:Vt[1],error:Vt[2],complete:Vt[3]},{next:At=>{Oe.next&&Oe.next(fe(At))},error:null===(ze=Oe.error)||void 0===ze?void 0:ze.bind(Oe),complete:null===(Pe=Oe.complete)||void 0===Pe?void 0:Pe.bind(Oe)}}class rt{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get ref(){return new Ae(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(fe){return this._delegate.data(fe)}get(fe,ze){return this._delegate.get(fe,ze)}isEqual(fe){return(0,Se.lN)(this._delegate,fe._delegate)}}class lt extends rt{data(fe){const ze=this._delegate.data(fe);return this._delegate._converter||(0,Se.bI)(void 0!==ze,"Document in a QueryDocumentSnapshot should exist"),ze}}class St{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new Fe(fe)}where(fe,ze,Pe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se._M)(fe,ze,Pe)))}catch(Oe){throw Qe(Oe,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(fe,ze){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.My)(fe,ze)))}catch(Pe){throw Qe(Pe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.AB)(fe)))}catch(ze){throw Qe(ze,"limit()","Query.limit()")}}limitToLast(fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.$1)(fe)))}catch(ze){throw Qe(ze,"limitToLast()","Query.limitToLast()")}}startAt(...fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.EO)(...fe)))}catch(ze){throw Qe(ze,"startAt()","Query.startAt()")}}startAfter(...fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.HM)(...fe)))}catch(ze){throw Qe(ze,"startAfter()","Query.startAfter()")}}endBefore(...fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.rf)(...fe)))}catch(ze){throw Qe(ze,"endBefore()","Query.endBefore()")}}endAt(...fe){try{return new St(this.firestore,(0,Se.P)(this._delegate,(0,Se.FD)(...fe)))}catch(ze){throw Qe(ze,"endAt()","Query.endAt()")}}isEqual(fe){return(0,Se.B)(this._delegate,fe._delegate)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Se.kU)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Se.Rr)(this._delegate):(0,Se.GG)(this._delegate),ze.then(Pe=>new sn(this.firestore,new Se.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Pe._snapshot)))}onSnapshot(...fe){const ze=Ke(fe),Pe=Ve(fe,Oe=>new sn(this.firestore,new Se.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Oe._snapshot)));return(0,Se.aQ)(this._delegate,ze,Pe)}withConverter(fe){return new St(this.firestore,this._delegate.withConverter(fe?re.getInstance(this.firestore,fe):null))}}class An{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get type(){return this._delegate.type}get doc(){return new lt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sn{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get query(){return new St(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(fe=>new lt(this._firestore,fe))}docChanges(fe){return this._delegate.docChanges(fe).map(ze=>new An(this._firestore,ze))}forEach(fe,ze){this._delegate.forEach(Pe=>{fe.call(ze,new lt(this._firestore,Pe))})}isEqual(fe){return(0,Se.lN)(this._delegate,fe._delegate)}}class dn extends St{constructor(fe,ze){super(fe,ze),this.firestore=fe,this._delegate=ze}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const fe=this._delegate.parent;return fe?new Ae(this.firestore,fe):null}doc(fe){try{return new Ae(this.firestore,void 0===fe?(0,Se.H9)(this._delegate):(0,Se.H9)(this._delegate,fe))}catch(ze){throw Qe(ze,"doc()","CollectionReference.doc()")}}add(fe){return(0,Se.gS)(this._delegate,fe).then(ze=>new Ae(this.firestore,ze))}isEqual(fe){return(0,Se.yx)(this._delegate,fe._delegate)}withConverter(fe){return new dn(this.firestore,this._delegate.withConverter(fe?re.getInstance(this.firestore,fe):null))}}function Zt(Vt){return(0,Se.lo)(Vt,Se.T1)}class Mn{constructor(...fe){this._delegate=new Se.uY(...fe)}static documentId(){return new Mn(Se.FA.keyField().canonicalString())}isEqual(fe){return(fe=(0,_e.Ku)(fe))instanceof Se.uY&&this._delegate._internalPath.isEqual(fe._internalPath)}}class En{constructor(fe){this._delegate=fe}static serverTimestamp(){const fe=(0,Se.O5)();return fe._methodName="FieldValue.serverTimestamp",new En(fe)}static delete(){const fe=(0,Se.CL)();return fe._methodName="FieldValue.delete",new En(fe)}static arrayUnion(...fe){const ze=(0,Se.hq)(...fe);return ze._methodName="FieldValue.arrayUnion",new En(ze)}static arrayRemove(...fe){const ze=(0,Se.C3)(...fe);return ze._methodName="FieldValue.arrayRemove",new En(ze)}static increment(fe){const ze=(0,Se.GV)(fe);return ze._methodName="FieldValue.increment",new En(ze)}isEqual(fe){return this._delegate.isEqual(fe._delegate)}}const _n={Firestore:Dn,GeoPoint:Se.Ci,Timestamp:Se.Dc,Blob:Ot,Transaction:ee,WriteBatch:ye,DocumentReference:Ae,DocumentSnapshot:rt,Query:St,QueryDocumentSnapshot:lt,QuerySnapshot:sn,CollectionReference:dn,FieldPath:Mn,FieldValue:En,setLogLevel:function Y(Vt){(0,Se.He)(Vt)},CACHE_SIZE_UNLIMITED:Se.H6};!function ir(Vt){(function Kt(Vt,fe){Vt.INTERNAL.registerComponent(new Me.uA("firestore-compat",ze=>{const Pe=ze.getProvider("app-compat").getImmediate(),Oe=ze.getProvider("firestore").getImmediate();return fe(Pe,Oe)},"PUBLIC").setServiceProps(Object.assign({},_n)))})(Vt,(fe,ze)=>new Dn(fe,ze,new Et)),Vt.registerVersion("@firebase/firestore-compat","0.3.38")}(mt.A);var Tt=k(762);function bt(Vt,fe){return function Pt(Vt,fe=be.E){return new Be.c(ze=>{let Pe;return null!=fe?fe.schedule(()=>{Pe=Vt.onSnapshot({includeMetadataChanges:!0},ze)}):Pe=Vt.onSnapshot({includeMetadataChanges:!0},ze),()=>{null!=Pe&&Pe()}})}(Vt,fe)}function Nn(Vt,fe){return bt(Vt,fe).pipe((0,Ze.T)(ze=>({payload:ze,type:"query"})))}class zn{constructor(fe,ze){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"afs",void 0),this.ref=fe,this.afs=ze}set(fe,ze){return this.ref.set(fe,ze)}update(fe){return this.ref.update(fe)}delete(){return this.ref.delete()}collection(fe,ze){const Pe=this.ref.collection(fe),{ref:Oe,query:At}=Ir(Pe,ze);return new fr(Oe,At,this.afs)}snapshotChanges(){return function Le(Vt,fe){return bt(Vt,fe).pipe((0,ge.Z)(void 0),He(),(0,Ze.T)(ze=>{const[Pe,Oe]=ze;return Oe.exists?null!=Pe&&Pe.exists?{payload:Oe,type:"modified"}:{payload:Oe,type:"added"}:{payload:Oe,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(fe={}){return this.snapshotChanges().pipe((0,Ze.T)(({payload:ze})=>fe.idField?{...ze.data(),[fe.idField]:ze.id}:ze.data()))}get(fe){return(0,je.H)(this.ref.get(fe)).pipe(te.U0)}}function vn(Vt,fe){return Nn(Vt,fe).pipe((0,ge.Z)(void 0),He(),(0,Ze.T)(ze=>{const[Pe,Oe]=ze,At=Oe.payload.docChanges(),Je=At.map(it=>({type:it.type,payload:it}));return Pe&&JSON.stringify(Pe.payload.metadata)!==JSON.stringify(Oe.payload.metadata)&&Oe.payload.docs.forEach((it,Ht)=>{const Te=At.find(We=>We.doc.ref.isEqual(it.ref)),Re=null==Pe?void 0:Pe.payload.docs.find(We=>We.ref.isEqual(it.ref));Te&&JSON.stringify(Te.doc.metadata)===JSON.stringify(it.metadata)||!Te&&Re&&JSON.stringify(Re.metadata)===JSON.stringify(it.metadata)||Je.push({type:"modified",payload:{oldIndex:Ht,newIndex:Ht,type:"modified",doc:it}})}),Je}))}function hn(Vt,fe,ze){return vn(Vt,ze).pipe((0,ct.S)((Pe,Oe)=>function Wn(Vt,fe,ze){return fe.forEach(Pe=>{ze.indexOf(Pe.type)>-1&&(Vt=function kn(Vt,fe){switch(fe.type){case"added":if(!Vt[fe.newIndex]||!Vt[fe.newIndex].doc.ref.isEqual(fe.doc.ref))return Qn(Vt,fe.newIndex,0,fe);break;case"modified":if(null==Vt[fe.oldIndex]||Vt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref)){if(fe.oldIndex!==fe.newIndex){const ze=Vt.slice();return ze.splice(fe.oldIndex,1),ze.splice(fe.newIndex,0,fe),ze}return Qn(Vt,fe.newIndex,1,fe)}break;case"removed":if(Vt[fe.oldIndex]&&Vt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref))return Qn(Vt,fe.oldIndex,1)}return Vt}(Vt,Pe))}),Vt}(Pe,Oe.map(At=>At.payload),fe),[]),(0,nt.F)(),(0,Ze.T)(Pe=>Pe.map(Oe=>({type:Oe.type,payload:Oe}))))}function Qn(Vt,fe,ze,...Pe){const Oe=Vt.slice();return Oe.splice(fe,ze,...Pe),Oe}function er(Vt){return(!Vt||0===Vt.length)&&(Vt=["added","removed","modified"]),Vt}class fr{constructor(fe,ze,Pe){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.ref=fe,this.query=ze,this.afs=Pe}stateChanges(fe){let ze=vn(this.query,this.afs.schedulers.outsideAngular);return fe&&fe.length>0&&(ze=ze.pipe((0,Ze.T)(Pe=>Pe.filter(Oe=>fe.indexOf(Oe.type)>-1)))),ze.pipe((0,ge.Z)(void 0),He(),(0,st.p)(([Pe,Oe])=>Oe.length>0||!Pe),(0,Ze.T)(([,Pe])=>Pe),te.U0)}auditTrail(fe){return this.stateChanges(fe).pipe((0,ct.S)((ze,Pe)=>[...ze,...Pe],[]))}snapshotChanges(fe){const ze=er(fe);return hn(this.query,ze,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(fe={}){return Nn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(ze=>ze.payload.docs.map(Pe=>fe.idField?{...Pe.data(),[fe.idField]:Pe.id}:Pe.data())),te.U0)}get(fe){return(0,je.H)(this.query.get(fe)).pipe(te.U0)}add(fe){return this.ref.add(fe)}doc(fe){return new zn(this.ref.doc(fe),this.afs)}}class pr{constructor(fe,ze){(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.query=fe,this.afs=ze}stateChanges(fe){return fe&&0!==fe.length?vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(ze=>ze.filter(Pe=>fe.indexOf(Pe.type)>-1)),(0,st.p)(ze=>ze.length>0),te.U0):vn(this.query,this.afs.schedulers.outsideAngular).pipe(te.U0)}auditTrail(fe){return this.stateChanges(fe).pipe((0,ct.S)((ze,Pe)=>[...ze,...Pe],[]))}snapshotChanges(fe){const ze=er(fe);return hn(this.query,ze,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(fe={}){return Nn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(Pe=>Pe.payload.docs.map(Oe=>fe.idField?{[fe.idField]:Oe.id,...Oe.data()}:Oe.data())),te.U0)}get(fe){return(0,je.H)(this.query.get(fe)).pipe(te.U0)}}const tr=new ne.nKC("angularfire2.enableFirestorePersistence"),Gr=new ne.nKC("angularfire2.firestore.persistenceSettings"),jn=new ne.nKC("angularfire2.firestore.settings"),Vr=new ne.nKC("angularfire2.firestore.use-emulator");function Ir(Vt,fe=ze=>ze){return{query:fe(Vt),ref:Vt}}let yt=(()=>{var Vt;class fe{constructor(Pe,Oe,At,Je,it,Ht,Te,Re,We,Lt,ft,pn,cn,Mr,$r,Hn,Er){(0,c.A)(this,"schedulers",void 0),(0,c.A)(this,"firestore",void 0),(0,c.A)(this,"persistenceEnabled$",void 0),this.schedulers=Te;const Un=(0,ie.iB)(Pe,Ht,Oe),Lr=We;Lt&&(0,ae.gF)(Un,Ht,ft,cn,Mr,$r,pn,Hn),[this.firestore,this.persistenceEnabled$]=(0,ie.BM)(`${Un.name}.firestore`,"AngularFirestore",Un.name,()=>{const Sr=Ht.runOutsideAngular(()=>Un.firestore());if(Je&&Sr.settings(Je),Lr&&Sr.useEmulator(...Lr),At&&!(0,f.Vy)(it)){const Fn=()=>{try{return(0,je.H)(Sr.enablePersistence(Re||void 0).then(()=>!0,()=>!1))}catch(Pr){return typeof console<"u"&&console.warn(Pr),(0,Ee.of)(!1)}};return[Sr,Ht.runOutsideAngular(Fn)]}return[Sr,(0,Ee.of)(!1)]},[Je,Lr,At])}collection(Pe,Oe){let At;At="string"==typeof Pe?this.firestore.collection(Pe):Pe;const{ref:Je,query:it}=Ir(At,Oe),Ht=this.schedulers.ngZone.run(()=>Je);return new fr(Ht,it,this)}collectionGroup(Pe,Oe){const At=Oe||(it=>it),Je=this.firestore.collectionGroup(Pe);return new pr(At(Je),this)}doc(Pe){let Oe;Oe="string"==typeof Pe?this.firestore.doc(Pe):Pe;const At=this.schedulers.ngZone.run(()=>Oe);return new zn(At,this)}createId(){return this.firestore.collection("_").doc().id}}return Vt=fe,(0,c.A)(fe,"\u0275fac",function(Pe){return new(Pe||Vt)(ne.KVO(ie.rx),ne.KVO(ie.uP,8),ne.KVO(tr,8),ne.KVO(jn,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(te.u0),ne.KVO(Gr,8),ne.KVO(Vr,8),ne.KVO(ae.DS,8),ne.KVO(ae.CP,8),ne.KVO(ae.yy,8),ne.KVO(ae.ZP,8),ne.KVO(ae.$z,8),ne.KVO(ae.AU,8),ne.KVO(ae.UB,8),ne.KVO(te.Jv,8))}),(0,c.A)(fe,"\u0275prov",ne.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"any"})),fe})(),Fr=(()=>{var Vt;class fe{constructor(){Tt.A.registerVersion("angularfire",te.xv.full,"fst-compat")}static enablePersistence(Pe){return{ngModule:fe,providers:[{provide:tr,useValue:!0},{provide:Gr,useValue:Pe}]}}}return Vt=fe,(0,c.A)(fe,"\u0275fac",function(Pe){return new(Pe||Vt)}),(0,c.A)(fe,"\u0275mod",ne.$C({type:Vt})),(0,c.A)(fe,"\u0275inj",ne.G2t({providers:[yt]})),fe})()},9253:(mn,_t,k)=>{"use strict";k.d(_t,{BM:()=>Ze,Gt:()=>ae,bf:()=>He,e7:()=>be,iB:()=>ge,rx:()=>je,uP:()=>Ee});var c=k(9842),f=k(4438),ne=k(5407),te=k(762);const ie=["ngOnDestroy"],ae=(It,mt,Se,_e={})=>new Proxy(It,{get:(Me,dt)=>Se.runOutsideAngular(()=>{var at;if(It[dt])return null!=_e&&null!==(at=_e.spy)&&void 0!==at&&at.get&&_e.spy.get(dt,It[dt]),It[dt];if(ie.indexOf(dt)>-1)return()=>{};const Mt=mt.toPromise().then(pe=>{const De=null==pe?void 0:pe[dt];return"function"==typeof De?De.bind(pe):null!=De&&De.then?De.then(Ot=>Se.run(()=>Ot)):Se.run(()=>De)});return new Proxy(()=>{},{get:(pe,De)=>Mt[De],apply:(pe,De,Ot)=>Mt.then(zt=>{var Nt;const Et=null==zt?void 0:zt(...Ot);return null!=_e&&null!==(Nt=_e.spy)&&void 0!==Nt&&Nt.apply&&_e.spy.apply(dt,Ot,Et),Et})})})}),be=(It,mt)=>{mt.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(_e=>{Object.defineProperty(It.prototype,_e,Object.getOwnPropertyDescriptor(Se.prototype||Se,_e))})})};class Be{constructor(mt){return mt}}const je=new f.nKC("angularfire2.app.options"),Ee=new f.nKC("angularfire2.app.name");function ge(It,mt,Se){const Me="object"==typeof Se&&Se||{};Me.name=Me.name||"string"==typeof Se&&Se||"[DEFAULT]";const at=te.A.apps.filter(Mt=>Mt&&Mt.name===Me.name)[0]||mt.runOutsideAngular(()=>te.A.initializeApp(It,Me));try{if(JSON.stringify(It)!==JSON.stringify(at.options)){const Mt=!!module.hot;$e("error",`${at.name} Firebase App already initialized with different options${Mt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Be(at)}const $e=(It,...mt)=>{(0,f.naY)()&&typeof console<"u"&&console[It](...mt)},qe={provide:Be,useFactory:ge,deps:[je,f.SKi,[new f.Xx1,Ee]]};let He=(()=>{var It;class mt{static initializeApp(_e,Me){return{ngModule:mt,providers:[{provide:je,useValue:_e},{provide:Ee,useValue:Me}]}}constructor(_e){te.A.registerVersion("angularfire",ne.xv.full,"core"),te.A.registerVersion("angularfire",ne.xv.full,"app-compat"),te.A.registerVersion("angular",f.xvI.full,_e.toString())}}return It=mt,(0,c.A)(mt,"\u0275fac",function(_e){return new(_e||It)(f.KVO(f.Agw))}),(0,c.A)(mt,"\u0275mod",f.$C({type:It})),(0,c.A)(mt,"\u0275inj",f.G2t({providers:[qe]})),mt})();function Ze(It,mt,Se,_e,Me){const[,dt,at]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===It)||[];if(dt)return function ct(It,mt){try{return It.toString()===mt.toString()}catch{return It===mt}}(Me,at)||(st("error",`${mt} was already initialized on the ${Se} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),st("warn",{is:Me,was:at})),dt;{const Mt=_e();return globalThis.\u0275AngularfireInstanceCache.push([It,Mt,Me]),Mt}}const nt=typeof module<"u"&&!!module.hot,st=(It,...mt)=>{(0,f.naY)()&&typeof console<"u"&&console[It](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(mn,_t,k)=>{"use strict";k.d(_t,{xv:()=>Ze,U0:()=>zt,Oe:()=>De,u0:()=>dt,Jv:()=>It,CA:()=>st,lR:()=>nt,S3:()=>Dn});var c=k(9842),f=k(4438),ne=k(7037),te=k(6780),ae=k(9687);const Be=new class be extends ae.q{}(class ie extends te.R{constructor(Y,ee){super(Y,ee),this.scheduler=Y,this.work=ee}schedule(Y,ee=0){return ee>0?super.schedule(Y,ee):(this.delay=ee,this.state=Y,this.scheduler.flush(this),this)}execute(Y,ee){return ee>0||this.closed?super.execute(Y,ee):this._execute(Y,ee)}requestAsyncId(Y,ee,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(Y,ee,ye):(Y.flush(this),0)}});var Ee=k(3236),ge=k(1985),$e=k(8141),qe=k(941),He=k(6745);const Ze=new f.RxE("ANGULARFIRE2_VERSION");function nt(Fe,Y,ee){if(Y){if(1===Y.length)return Y[0];const Ae=Y.filter(Qe=>Qe.app===ee);if(1===Ae.length)return Ae[0]}return ee.container.getProvider(Fe).getImmediate({optional:!0})}const st=(Fe,Y)=>{const ee=Y?[Y]:(0,ne.Dk)(),ye=[];return ee.forEach(re=>{re.container.getProvider(Fe).instances.forEach(Qe=>{ye.includes(Qe)||ye.push(Qe)})}),ye};class It{constructor(){return st(mt)}}const mt="app-check";function Se(){}class _e{constructor(Y,ee=Be){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=Y,this.delegate=ee}now(){return this.delegate.now()}schedule(Y,ee,ye){const re=this.zone;return this.delegate.schedule(function(Qe){re.runGuarded(()=>{Y.apply(this,[Qe])})},ee,ye)}}class Me{constructor(Y){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=Y}call(Y,ee){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),ee.pipe((0,$e.M)({next:ye,complete:ye,error:ye})).subscribe(Y).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dt=(()=>{var Fe;class Y{constructor(ye){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=ye,this.outsideAngular=ye.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=ye.run(()=>new _e(Zone.current,Ee.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Fe=Y,(0,c.A)(Y,"\u0275fac",function(ye){return new(ye||Fe)(f.KVO(f.SKi))}),(0,c.A)(Y,"\u0275prov",f.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})),Y})();function at(){const Fe=globalThis.\u0275AngularFireScheduler;if(!Fe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Fe}function pe(Fe){return at().ngZone.run(()=>Fe())}function De(Fe){return Fe.pipe((0,qe.Q)(at().outsideAngular))}function zt(Fe){return function Nt(Fe){return function(ee){return(ee=ee.lift(new Me(Fe.ngZone))).pipe((0,He._)(Fe.outsideAngular),(0,qe.Q)(Fe.insideAngular))}}(at())(Fe)}const Et=(Fe,Y)=>function(){const ye=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),pe(()=>Fe.apply(void 0,ye))},Dn=(Fe,Y)=>function(){let ee;const ye=arguments;for(let Ae=0;Ae<arguments.length;Ae++)"function"==typeof ye[Ae]&&(Y&&(ee||(ee=pe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)))),ye[Ae]=Et(ye[Ae],ee));const re=function Mt(Fe){return at().ngZone.runOutsideAngular(()=>Fe())}(()=>Fe.apply(this,ye));if(!Y){if(re instanceof ge.c){const Ae=at();return re.pipe((0,He._)(Ae.outsideAngular),(0,qe.Q)(Ae.insideAngular))}return pe(()=>re)}return re instanceof ge.c?re.pipe(zt):re instanceof Promise?pe(()=>new Promise((Ae,Qe)=>re.then(Ke=>pe(()=>Ae(Ke)),Ke=>pe(()=>Qe(Ke))))):"function"==typeof re&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),re.apply(this,arguments)}:pe(()=>re)}},9574:(mn,_t,k)=>{"use strict";k.d(_t,{A:()=>Ze});var c=k(1401),f=k(8779),ne=k(2979),te=k(5398);class ie{constructor(nt,st){this._delegate=nt,this.firebase=st,(0,ne._addComponent)(nt,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ne.deleteApp)(this._delegate)))}_getService(nt,st=ne._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(nt);return!mt.isInitialized()&&"EXPLICIT"===(null===(It=mt.getComponent())||void 0===It?void 0:It.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:st})}_removeServiceInstance(nt,st=ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(st)}_addComponent(nt){(0,ne._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,ne._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ee=function je(){const ct=function Be(ct){const nt={},st={__esModule:!0,initializeApp:function Se(at,Mt={}){const pe=ne.initializeApp(at,Mt);if((0,c.gR)(nt,pe.name))return nt[pe.name];const De=new ct(pe,st);return nt[pe.name]=De,De},app:mt,registerVersion:ne.registerVersion,setLogLevel:ne.setLogLevel,onLog:ne.onLog,apps:null,SDK_VERSION:ne.SDK_VERSION,INTERNAL:{registerComponent:function Me(at){const Mt=at.name,pe=Mt.replace("-compat","");if(ne._registerComponent(at)&&"PUBLIC"===at.type){const De=(Ot=mt())=>{if("function"!=typeof Ot[pe])throw be.create("invalid-app-argument",{appName:Mt});return Ot[pe]()};void 0!==at.serviceProps&&(0,c.zw)(De,at.serviceProps),st[pe]=De,ct.prototype[pe]=function(...Ot){return this._getService.bind(this,Mt).apply(this,at.multipleInstances?Ot:[])}}return"PUBLIC"===at.type?st[pe]:null},removeApp:function It(at){delete nt[at]},useAsService:function dt(at,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:ne}};function mt(at){if(!(0,c.gR)(nt,at=at||ne._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:at});return nt[at]}return st.default=st,Object.defineProperty(st,"apps",{get:function _e(){return Object.keys(nt).map(at=>nt[at])}}),mt.App=ct,st}(ie);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function nt(st){(0,c.zw)(ct,st)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),ct}(),ge=new te.Vy("@firebase/app-compat");try{const ct=(0,c.mS)();if(void 0!==ct.firebase){ge.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const nt=ct.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ge.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Ze=Ee;!function He(ct){(0,ne.registerVersion)("@firebase/app-compat","0.2.43",ct)}()},2979:(mn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{FirebaseError:()=>te.g,SDK_VERSION:()=>ze,_DEFAULT_ENTRY_NAME:()=>vn,_addComponent:()=>er,_addOrOverwriteComponent:()=>fr,_apps:()=>Wn,_clearComponents:()=>Ir,_components:()=>kn,_getProvider:()=>tr,_isFirebaseApp:()=>jn,_isFirebaseServerApp:()=>Vr,_registerComponent:()=>pr,_removeServiceInstance:()=>Gr,_serverApps:()=>Qn,deleteApp:()=>it,getApp:()=>At,getApps:()=>Je,initializeApp:()=>Pe,initializeServerApp:()=>Oe,onLog:()=>Re,registerVersion:()=>Te,setLogLevel:()=>We});var c=k(467),f=k(8779),ne=k(5398),te=k(1401);const ie=(se,K)=>K.some(ve=>se instanceof ve);let ae,be;const Ee=new WeakMap,ge=new WeakMap,$e=new WeakMap,qe=new WeakMap,He=new WeakMap;let nt={get(se,K,ve){if(se instanceof IDBTransaction){if("done"===K)return ge.get(se);if("objectStoreNames"===K)return se.objectStoreNames||$e.get(se);if("store"===K)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return Se(se[K])},set:(se,K,ve)=>(se[K]=ve,!0),has:(se,K)=>se instanceof IDBTransaction&&("done"===K||"store"===K)||K in se};function mt(se){return"function"==typeof se?function It(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...K){return se.apply(_e(this),K),Se(Ee.get(this))}:function(...K){return Se(se.apply(_e(this),K))}:function(K,...ve){const Z=se.call(_e(this),K,...ve);return $e.set(Z,K.sort?K.sort():[K]),Se(Z)}}(se):(se instanceof IDBTransaction&&function ct(se){if(ge.has(se))return;const K=new Promise((ve,Z)=>{const J=()=>{se.removeEventListener("complete",we),se.removeEventListener("error",vt),se.removeEventListener("abort",vt)},we=()=>{ve(),J()},vt=()=>{Z(se.error||new DOMException("AbortError","AbortError")),J()};se.addEventListener("complete",we),se.addEventListener("error",vt),se.addEventListener("abort",vt)});ge.set(se,K)}(se),ie(se,function Be(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,nt):se)}function Se(se){if(se instanceof IDBRequest)return function Ze(se){const K=new Promise((ve,Z)=>{const J=()=>{se.removeEventListener("success",we),se.removeEventListener("error",vt)},we=()=>{ve(Se(se.result)),J()},vt=()=>{Z(se.error),J()};se.addEventListener("success",we),se.addEventListener("error",vt)});return K.then(ve=>{ve instanceof IDBCursor&&Ee.set(ve,se)}).catch(()=>{}),He.set(K,se),K}(se);if(qe.has(se))return qe.get(se);const K=mt(se);return K!==se&&(qe.set(se,K),He.set(K,se)),K}const _e=se=>He.get(se),at=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],pe=new Map;function De(se,K){if(!(se instanceof IDBDatabase)||K in se||"string"!=typeof K)return;if(pe.get(K))return pe.get(K);const ve=K.replace(/FromIndex$/,""),Z=K!==ve,J=Mt.includes(ve);if(!(ve in(Z?IDBIndex:IDBObjectStore).prototype)||!J&&!at.includes(ve))return;const we=function(){var vt=(0,c.A)(function*(Bt,...rn){const Bn=this.transaction(Bt,J?"readwrite":"readonly");let xn=Bn.store;return Z&&(xn=xn.index(rn.shift())),(yield Promise.all([xn[ve](...rn),J&&Bn.done]))[0]});return function(rn){return vt.apply(this,arguments)}}();return pe.set(K,we),we}!function st(se){nt=se(nt)}(se=>({...se,get:(K,ve,Z)=>De(K,ve)||se.get(K,ve,Z),has:(K,ve)=>!!De(K,ve)||se.has(K,ve)}));class Ot{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function zt(se){const K=se.getComponent();return"VERSION"===(null==K?void 0:K.type)}(ve)){const Z=ve.getImmediate();return`${Z.library}/${Z.version}`}return null}).filter(ve=>ve).join(" ")}}const Nt="@firebase/app",Et="0.10.13",Dn=new ne.Vy("@firebase/app"),Fe="@firebase/app-compat",Y="@firebase/analytics-compat",ee="@firebase/analytics",ye="@firebase/app-check-compat",re="@firebase/app-check",Ae="@firebase/auth",Qe="@firebase/auth-compat",Ke="@firebase/database",Ve="@firebase/data-connect",rt="@firebase/database-compat",lt="@firebase/functions",St="@firebase/functions-compat",An="@firebase/installations",sn="@firebase/installations-compat",dn="@firebase/messaging",Zt="@firebase/messaging-compat",Mn="@firebase/performance",En="@firebase/performance-compat",_n="@firebase/remote-config",Kt="@firebase/remote-config-compat",ir="@firebase/storage",Tt="@firebase/storage-compat",Pt="@firebase/firestore",bt="@firebase/vertexai-preview",Le="@firebase/firestore-compat",Nn="firebase",vn="[DEFAULT]",hn={[Nt]:"fire-core",[Fe]:"fire-core-compat",[ee]:"fire-analytics",[Y]:"fire-analytics-compat",[re]:"fire-app-check",[ye]:"fire-app-check-compat",[Ae]:"fire-auth",[Qe]:"fire-auth-compat",[Ke]:"fire-rtdb",[Ve]:"fire-data-connect",[rt]:"fire-rtdb-compat",[lt]:"fire-fn",[St]:"fire-fn-compat",[An]:"fire-iid",[sn]:"fire-iid-compat",[dn]:"fire-fcm",[Zt]:"fire-fcm-compat",[Mn]:"fire-perf",[En]:"fire-perf-compat",[_n]:"fire-rc",[Kt]:"fire-rc-compat",[ir]:"fire-gcs",[Tt]:"fire-gcs-compat",[Pt]:"fire-fst",[Le]:"fire-fst-compat",[bt]:"fire-vertex","fire-js":"fire-js",[Nn]:"fire-js-all"},Wn=new Map,Qn=new Map,kn=new Map;function er(se,K){try{se.container.addComponent(K)}catch(ve){Dn.debug(`Component ${K.name} failed to register with FirebaseApp ${se.name}`,ve)}}function fr(se,K){se.container.addOrOverwriteComponent(K)}function pr(se){const K=se.name;if(kn.has(K))return Dn.debug(`There were multiple attempts to register component ${K}.`),!1;kn.set(K,se);for(const ve of Wn.values())er(ve,se);for(const ve of Qn.values())er(ve,se);return!0}function tr(se,K){const ve=se.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),se.container.getProvider(K)}function Gr(se,K,ve=vn){tr(se,K).clearInstance(ve)}function jn(se){return void 0!==se.options}function Vr(se){return void 0!==se.settings}function Ir(){kn.clear()}const Fr=new te.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vt{constructor(K,ve,Z){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=Z,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}class fe extends Vt{constructor(K,ve,Z,J){const we=void 0!==ve.automaticDataCollectionEnabled&&ve.automaticDataCollectionEnabled,vt={name:Z,automaticDataCollectionEnabled:we};super(void 0!==K.apiKey?K:K.options,vt,J),this._serverConfig=Object.assign({automaticDataCollectionEnabled:we},ve),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ve.releaseOnDeref=void 0,Te(Nt,Et,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(K){this.isDeleted||(this._refCount++,void 0!==K&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(K,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){it(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Fr.create("server-app-deleted")}}const ze="10.14.1";function Pe(se,K={}){let ve=se;"object"!=typeof K&&(K={name:K});const Z=Object.assign({name:vn,automaticDataCollectionEnabled:!1},K),J=Z.name;if("string"!=typeof J||!J)throw Fr.create("bad-app-name",{appName:String(J)});if(ve||(ve=(0,te.T9)()),!ve)throw Fr.create("no-options");const we=Wn.get(J);if(we){if((0,te.bD)(ve,we.options)&&(0,te.bD)(Z,we.config))return we;throw Fr.create("duplicate-app",{appName:J})}const vt=new f.h1(J);for(const rn of kn.values())vt.addComponent(rn);const Bt=new Vt(ve,Z,vt);return Wn.set(J,Bt),Bt}function Oe(se,K){if((0,te.Bd)()&&!(0,te.p7)())throw Fr.create("invalid-server-app-environment");let ve;void 0===K.automaticDataCollectionEnabled&&(K.automaticDataCollectionEnabled=!1),ve=jn(se)?se.options:se;const Z=Object.assign(Object.assign({},K),ve);if(void 0!==Z.releaseOnDeref&&delete Z.releaseOnDeref,void 0!==K.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Fr.create("finalization-registry-not-supported",{});const we=""+(Bn=JSON.stringify(Z),[...Bn].reduce((xn,$n)=>Math.imul(31,xn)+$n.charCodeAt(0)|0,0)),vt=Qn.get(we);var Bn;if(vt)return vt.incRefCount(K.releaseOnDeref),vt;const Bt=new f.h1(we);for(const Bn of kn.values())Bt.addComponent(Bn);const rn=new fe(ve,K,we,Bt);return Qn.set(we,rn),rn}function At(se=vn){const K=Wn.get(se);if(!K&&se===vn&&(0,te.T9)())return Pe();if(!K)throw Fr.create("no-app",{appName:se});return K}function Je(){return Array.from(Wn.values())}function it(se){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.A)(function*(se){let K=!1;const ve=se.name;Wn.has(ve)?(K=!0,Wn.delete(ve)):Qn.has(ve)&&se.decRefCount()<=0&&(Qn.delete(ve),K=!0),K&&(yield Promise.all(se.container.getProviders().map(Z=>Z.delete())),se.isDeleted=!0)})).apply(this,arguments)}function Te(se,K,ve){var Z;let J=null!==(Z=hn[se])&&void 0!==Z?Z:se;ve&&(J+=`-${ve}`);const we=J.match(/\s|\//),vt=K.match(/\s|\//);if(we||vt){const Bt=[`Unable to register library "${J}" with version "${K}":`];return we&&Bt.push(`library name "${J}" contains illegal characters (whitespace or "/")`),we&&vt&&Bt.push("and"),vt&&Bt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void Dn.warn(Bt.join(" "))}pr(new f.uA(`${J}-version`,()=>({library:J,version:K}),"VERSION"))}function Re(se,K){if(null!==se&&"function"!=typeof se)throw Fr.create("invalid-log-argument");(0,ne.Ey)(se,K)}function We(se){(0,ne.He)(se)}const Lt="firebase-heartbeat-database",ft=1,pn="firebase-heartbeat-store";let cn=null;function Mr(){return cn||(cn=function Me(se,K,{blocked:ve,upgrade:Z,blocking:J,terminated:we}={}){const vt=indexedDB.open(se,K),Bt=Se(vt);return Z&&vt.addEventListener("upgradeneeded",rn=>{Z(Se(vt.result),rn.oldVersion,rn.newVersion,Se(vt.transaction),rn)}),ve&&vt.addEventListener("blocked",rn=>ve(rn.oldVersion,rn.newVersion,rn)),Bt.then(rn=>{we&&rn.addEventListener("close",()=>we()),J&&rn.addEventListener("versionchange",Bn=>J(Bn.oldVersion,Bn.newVersion,Bn))}).catch(()=>{}),Bt}(Lt,ft,{upgrade:(se,K)=>{if(0===K)try{se.createObjectStore(pn)}catch(ve){console.warn(ve)}}}).catch(se=>{throw Fr.create("idb-open",{originalErrorMessage:se.message})})),cn}function Hn(){return(Hn=(0,c.A)(function*(se){try{const ve=(yield Mr()).transaction(pn),Z=yield ve.objectStore(pn).get(Lr(se));return yield ve.done,Z}catch(K){if(K instanceof te.g)Dn.warn(K.message);else{const ve=Fr.create("idb-get",{originalErrorMessage:null==K?void 0:K.message});Dn.warn(ve.message)}}})).apply(this,arguments)}function Er(se,K){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(se,K){try{const Z=(yield Mr()).transaction(pn,"readwrite");yield Z.objectStore(pn).put(K,Lr(se)),yield Z.done}catch(ve){if(ve instanceof te.g)Dn.warn(ve.message);else{const Z=Fr.create("idb-set",{originalErrorMessage:null==ve?void 0:ve.message});Dn.warn(Z.message)}}})).apply(this,arguments)}function Lr(se){return`${se.name}!${se.options.appId}`}class Pr{constructor(K){this.container=K,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new ki(ve),this._heartbeatsCachePromise=this._storage.read().then(Z=>(this._heartbeatsCache=Z,Z))}triggerHeartbeat(){var K=this;return(0,c.A)(function*(){var ve,Z;try{const we=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=_i();return null==(null===(ve=K._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)&&(K._heartbeatsCache=yield K._heartbeatsCachePromise,null==(null===(Z=K._heartbeatsCache)||void 0===Z?void 0:Z.heartbeats))||K._heartbeatsCache.lastSentHeartbeatDate===vt||K._heartbeatsCache.heartbeats.some(Bt=>Bt.date===vt)?void 0:(K._heartbeatsCache.heartbeats.push({date:vt,agent:we}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(Bt=>{const rn=new Date(Bt.date).valueOf();return Date.now()-rn<=2592e6}),K._storage.overwrite(K._heartbeatsCache))}catch(J){Dn.warn(J)}})()}getHeartbeatsHeader(){var K=this;return(0,c.A)(function*(){var ve;try{if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null==(null===(ve=K._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)||0===K._heartbeatsCache.heartbeats.length)return"";const Z=_i(),{heartbeatsToSend:J,unsentEntries:we}=function Mi(se,K=1024){const ve=[];let Z=se.slice();for(const J of se){const we=ve.find(vt=>vt.agent===J.agent);if(we){if(we.dates.push(J.date),Fi(ve)>K){we.dates.pop();break}}else if(ve.push({agent:J.agent,dates:[J.date]}),Fi(ve)>K){ve.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:ve,unsentEntries:Z}}(K._heartbeatsCache.heartbeats),vt=(0,te.Uj)(JSON.stringify({version:2,heartbeats:J}));return K._heartbeatsCache.lastSentHeartbeatDate=Z,we.length>0?(K._heartbeatsCache.heartbeats=we,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),vt}catch(Z){return Dn.warn(Z),""}})()}}function _i(){return(new Date).toISOString().substring(0,10)}class ki{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,te.zW)()&&(0,te.eX)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,c.A)(function*(){if(yield K._canUseIndexedDBPromise){const Z=yield function $r(se){return Hn.apply(this,arguments)}(K.app);return null!=Z&&Z.heartbeats?Z:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(K){var ve=this;return(0,c.A)(function*(){var Z;if(yield ve._canUseIndexedDBPromise){const we=yield ve.read();return Er(ve.app,{lastSentHeartbeatDate:null!==(Z=K.lastSentHeartbeatDate)&&void 0!==Z?Z:we.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var ve=this;return(0,c.A)(function*(){var Z;if(yield ve._canUseIndexedDBPromise){const we=yield ve.read();return Er(ve.app,{lastSentHeartbeatDate:null!==(Z=K.lastSentHeartbeatDate)&&void 0!==Z?Z:we.lastSentHeartbeatDate,heartbeats:[...we.heartbeats,...K.heartbeats]})}})()}}function Fi(se){return(0,te.Uj)(JSON.stringify({version:2,heartbeats:se})).length}!function gr(se){pr(new f.uA("platform-logger",K=>new Ot(K),"PRIVATE")),pr(new f.uA("heartbeat",K=>new Pr(K),"PRIVATE")),Te(Nt,Et,se),Te(Nt,Et,"esm2017"),Te("fire-js","")}("")},8779:(mn,_t,k)=>{"use strict";k.d(_t,{h1:()=>Be,uA:()=>ne});var c=k(467),f=k(1401);class ne{constructor(Ee,ge,$e){this.name=Ee,this.instanceFactory=ge,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ee){return this.instantiationMode=Ee,this}setMultipleInstances(Ee){return this.multipleInstances=Ee,this}setServiceProps(Ee){return this.serviceProps=Ee,this}setInstanceCreatedCallback(Ee){return this.onInstanceCreated=Ee,this}}const te="[DEFAULT]";class ie{constructor(Ee,ge){this.name=Ee,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ee){const ge=this.normalizeInstanceIdentifier(Ee);if(!this.instancesDeferred.has(ge)){const $e=new f.cY;if(this.instancesDeferred.set(ge,$e),this.isInitialized(ge)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ge});qe&&$e.resolve(qe)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(Ee){var ge;const $e=this.normalizeInstanceIdentifier(null==Ee?void 0:Ee.identifier),qe=null!==(ge=null==Ee?void 0:Ee.optional)&&void 0!==ge&&ge;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(He){if(qe)return null;throw He}}getComponent(){return this.component}setComponent(Ee){if(Ee.name!==this.name)throw Error(`Mismatching Component ${Ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ee,this.shouldAutoInitialize()){if(function be(je){return"EAGER"===je.instantiationMode}(Ee))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[ge,$e]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ge);try{const He=this.getOrInitializeService({instanceIdentifier:qe});$e.resolve(He)}catch{}}}}clearInstance(Ee=te){this.instancesDeferred.delete(Ee),this.instancesOptions.delete(Ee),this.instances.delete(Ee)}delete(){var Ee=this;return(0,c.A)(function*(){const ge=Array.from(Ee.instances.values());yield Promise.all([...ge.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...ge.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ee=te){return this.instances.has(Ee)}getOptions(Ee=te){return this.instancesOptions.get(Ee)||{}}initialize(Ee={}){const{options:ge={}}=Ee,$e=this.normalizeInstanceIdentifier(Ee.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:$e,options:ge});for(const[He,Ze]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(He)&&Ze.resolve(qe);return qe}onInit(Ee,ge){var $e;const qe=this.normalizeInstanceIdentifier(ge),He=null!==($e=this.onInitCallbacks.get(qe))&&void 0!==$e?$e:new Set;He.add(Ee),this.onInitCallbacks.set(qe,He);const Ze=this.instances.get(qe);return Ze&&Ee(Ze,qe),()=>{He.delete(Ee)}}invokeOnInitCallbacks(Ee,ge){const $e=this.onInitCallbacks.get(ge);if($e)for(const qe of $e)try{qe(Ee,ge)}catch{}}getOrInitializeService({instanceIdentifier:Ee,options:ge={}}){let $e=this.instances.get(Ee);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(je=Ee,je===te?void 0:je),options:ge}),this.instances.set(Ee,$e),this.instancesOptions.set(Ee,ge),this.invokeOnInitCallbacks($e,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,$e)}catch{}var je;return $e||null}normalizeInstanceIdentifier(Ee=te){return this.component?this.component.multipleInstances?Ee:te:Ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(Ee){this.name=Ee,this.providers=new Map}addComponent(Ee){const ge=this.getProvider(Ee.name);if(ge.isComponentSet())throw new Error(`Component ${Ee.name} has already been registered with ${this.name}`);ge.setComponent(Ee)}addOrOverwriteComponent(Ee){this.getProvider(Ee.name).isComponentSet()&&this.providers.delete(Ee.name),this.addComponent(Ee)}getProvider(Ee){if(this.providers.has(Ee))return this.providers.get(Ee);const ge=new ie(Ee,this);return this.providers.set(Ee,ge),ge}getProviders(){return Array.from(this.providers.values())}}},5398:(mn,_t,k)=>{"use strict";k.d(_t,{$b:()=>f,Ey:()=>je,He:()=>Be,Vy:()=>be});const c=[];var f=function(Ee){return Ee[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",Ee}(f||{});const ne={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},te=f.INFO,ie={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ae=(Ee,ge,...$e)=>{if(ge<Ee.logLevel)return;const qe=(new Date).toISOString(),He=ie[ge];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[He](`[${qe}]  ${Ee.name}:`,...$e)};class be{constructor(ge){this.name=ge,this._logLevel=te,this._logHandler=ae,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in f))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?ne[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ge),this._logHandler(this,f.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ge),this._logHandler(this,f.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ge),this._logHandler(this,f.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ge),this._logHandler(this,f.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ge),this._logHandler(this,f.ERROR,...ge)}}function Be(Ee){c.forEach(ge=>{ge.setLogLevel(Ee)})}function je(Ee,ge){for(const $e of c){let qe=null;ge&&ge.level&&(qe=ne[ge.level]),$e.userLogHandler=null===Ee?null:(He,Ze,...ct)=>{const nt=ct.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");Ze>=(null!=qe?qe:He.logLevel)&&Ee({level:f[Ze].toLowerCase(),message:nt,args:ct,type:He.name})}}}},7037:(mn,_t,k)=>{"use strict";k.d(_t,{Dk:()=>c.getApps,Sx:()=>c.getApp});var c=k(2979);(0,c.registerVersion)("firebase","10.14.1","app")},762:(mn,_t,k)=>{"use strict";k.d(_t,{A:()=>c.A});var c=k(9574);c.A.registerVersion("firebase","10.14.1","app-compat")},324:(mn,_t,k)=>{"use strict";var c=k(467),f=k(9574),ne=k(2979),te=k(1401),ie=k(5398),ae=k(1635),be=k(8779);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ct=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new te.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new ie.Vy("@firebase/auth");function Se(I,...h){It.logLevel<=ie.$b.ERROR&&It.error(`Auth (${ne.SDK_VERSION}): ${I}`,...h)}function _e(I,...h){throw pe(I,...h)}function Me(I,...h){return pe(I,...h)}function dt(I,h,p){const T=Object.assign(Object.assign({},ct()),{[h]:p});return new te.FA("auth","Firebase",T).create(h,{appName:I.name})}function at(I){return dt(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mt(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&_e(I,"argument-error"),dt(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pe(I,...h){if("string"!=typeof I){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(p,...T)}return nt.create(I,...h)}function De(I,h,...p){if(!I)throw pe(h,...p)}function Ot(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Se(h),new Error(h)}function zt(I,h){I||Ot(h)}function Nt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Et(){return"http:"===Dn()||"https:"===Dn()}function Dn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ee{constructor(h,p){this.shortDelay=h,this.longDelay=p,zt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,te.jZ)()||(0,te.lV)()}get(){return function Fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,te.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ye(I,h){zt(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class re{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new ee(3e4,6e4);function Ke(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Ve(I,h,p,T){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.A)(function*(I,h,p,T,G={}){return lt(I,G,(0,c.A)(function*(){let ce={},tt={};T&&("GET"===h?tt=T:ce={body:JSON.stringify(T)});const xt=(0,te.Am)(Object.assign({key:I.config.apiKey},tt)).slice(1),nn=yield I._getAdditionalHeaders();nn["Content-Type"]="application/json",I.languageCode&&(nn["X-Firebase-Locale"]=I.languageCode);const Rn=Object.assign({method:h,headers:nn},ce);return(0,te.c1)()||(Rn.referrerPolicy="no-referrer"),re.fetch()(dn(I,I.config.apiHost,p,xt),Rn)}))})).apply(this,arguments)}function lt(I,h,p){return St.apply(this,arguments)}function St(){return(St=(0,c.A)(function*(I,h,p){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ae),h);try{const G=new Mn(I),ce=yield Promise.race([p(),G.promise]);G.clearNetworkTimeout();const tt=yield ce.json();if("needConfirmation"in tt)throw En(I,"account-exists-with-different-credential",tt);if(ce.ok&&!("errorMessage"in tt))return tt;{const xt=ce.ok?tt.errorMessage:tt.error.message,[nn,Rn]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw En(I,"credential-already-in-use",tt);if("EMAIL_EXISTS"===nn)throw En(I,"email-already-in-use",tt);if("USER_DISABLED"===nn)throw En(I,"user-disabled",tt);const Zn=T[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw dt(I,Zn,Rn);_e(I,Zn)}}catch(G){if(G instanceof te.g)throw G;_e(I,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function An(I,h,p,T){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(I,h,p,T,G={}){const ce=yield Ve(I,h,p,T,G);return"mfaPendingCredential"in ce&&_e(I,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function dn(I,h,p,T){const G=`${h}${p}?${T}`;return I.config.emulator?ye(I.config,G):`${I.config.apiScheme}://${G}`}function Zt(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Me(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(I,h,p){const T={appName:I.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const G=Me(I,h,T);return G.customData._tokenResponse=p,G}function _n(I){return void 0!==I&&void 0!==I.getResponse}function Kt(I){return void 0!==I&&void 0!==I.enterprise}class ir{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Zt(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Pt(){return(Pt=(0,c.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bt(I,h){return Le.apply(this,arguments)}function Le(){return(Le=(0,c.A)(function*(I,h){return Ve(I,"GET","/v2/recaptchaConfig",Ke(I,h))})).apply(this,arguments)}function zn(){return(zn=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function hn(){return(hn=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Wn(I,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function kn(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pr(){return(pr=(0,c.A)(function*(I,h=!1){const p=(0,te.Ku)(I),T=yield p.getIdToken(h),G=Gr(T);De(G&&G.exp&&G.auth_time&&G.iat,p.auth,"internal-error");const ce="object"==typeof G.firebase?G.firebase:void 0,tt=null==ce?void 0:ce.sign_in_provider;return{claims:G,token:T,authTime:kn(tr(G.auth_time)),issuedAtTime:kn(tr(G.iat)),expirationTime:kn(tr(G.exp)),signInProvider:tt||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function tr(I){return 1e3*Number(I)}function Gr(I){const[h,p,T]=I.split(".");if(void 0===h||void 0===p||void 0===T)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,te.u)(p);return G?JSON.parse(G):(Se("Failed to decode base64 JWT payload"),null)}catch(G){return Se("Caught error parsing JWT payload as JSON",null==G?void 0:G.toString()),null}}function jn(I){const h=Gr(I);return De(h,"internal-error"),De(typeof h.exp<"u","internal-error"),De(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Vr(I,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.A)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof te.g&&function yt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class Fr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const G=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Vt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fe(I){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.A)(function*(I){var h;const p=I.auth,T=yield I.getIdToken(),G=yield Vr(I,Wn(p,{idToken:T}));De(null==G?void 0:G.users.length,p,"internal-error");const ce=G.users[0];I._notifyReloadListener(ce);const tt=null!==(h=ce.providerUserInfo)&&void 0!==h&&h.length?Je(ce.providerUserInfo):[],xt=function At(I,h){return[...I.filter(T=>!h.some(G=>G.providerId===T.providerId)),...h]}(I.providerData,tt),Zn=!!I.isAnonymous&&!(I.email&&ce.passwordHash||null!=xt&&xt.length),Xn={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:xt,metadata:new Vt(ce.createdAt,ce.lastLoginAt),isAnonymous:Zn};Object.assign(I,Xn)})).apply(this,arguments)}function Oe(){return(Oe=(0,c.A)(function*(I){const h=(0,te.Ku)(I);yield fe(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Je(I){return I.map(h=>{var{providerId:p}=h,T=(0,ae.Tt)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ht(){return(Ht=(0,c.A)(function*(I,h){const p=yield lt(I,{},(0,c.A)(function*(){const T=(0,te.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:G,apiKey:ce}=I.config,tt=dn(I,G,"/v1/token",`key=${ce}`),xt=yield I._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(tt,{method:"POST",headers:xt,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Re(){return(Re=(0,c.A)(function*(I,h){return Ve(I,"POST","/v2/accounts:revokeToken",Ke(I,h))})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(typeof h.idToken<"u","internal-error"),De(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):jn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){De(0!==h.length,"internal-error");const p=jn(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var T=this;return(0,c.A)(function*(){return p||!T.accessToken||T.isExpired?(De(T.refreshToken,h,"user-token-expired"),T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,c.A)(function*(){const{accessToken:G,refreshToken:ce,expiresIn:tt}=yield function it(I,h){return Ht.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(G,ce,Number(tt))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:G,expirationTime:ce}=p,tt=new We;return T&&(De("string"==typeof T,"internal-error",{appName:h}),tt.refreshToken=T),G&&(De("string"==typeof G,"internal-error",{appName:h}),tt.accessToken=G),ce&&(De("number"==typeof ce,"internal-error",{appName:h}),tt.expirationTime=ce),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function Lt(I,h){De("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class ft{constructor(h){var{uid:p,auth:T,stsTokenManager:G}=h,ce=(0,ae.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Vt(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,c.A)(function*(){const T=yield Vr(p,p.stsTokenManager.getToken(p.auth,h));return De(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function fr(I){return pr.apply(this,arguments)}(this,h)}reload(){return function Pe(I){return Oe.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ft(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var T=this;return(0,c.A)(function*(){let G=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),G=!0),p&&(yield fe(T)),yield T.auth._persistUserIfCurrent(T),G&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,ne._isFirebaseServerApp)(h.auth.app))return Promise.reject(at(h.auth));const p=yield h.getIdToken();return yield Vr(h,function Nn(I,h){return zn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,G,ce,tt,xt,nn,Rn,Zn;const Xn=null!==(T=p.displayName)&&void 0!==T?T:void 0,fo=null!==(G=p.email)&&void 0!==G?G:void 0,_a=null!==(ce=p.phoneNumber)&&void 0!==ce?ce:void 0,Rc=null!==(tt=p.photoURL)&&void 0!==tt?tt:void 0,Bf=null!==(xt=p.tenantId)&&void 0!==xt?xt:void 0,Xs=null!==(nn=p._redirectEventId)&&void 0!==nn?nn:void 0,$f=null!==(Rn=p.createdAt)&&void 0!==Rn?Rn:void 0,Mc=null!==(Zn=p.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:Ch,emailVerified:Th,isAnonymous:Dh,providerData:pd,stsTokenManager:Lg}=p;De(Ch&&Lg,h,"internal-error");const bh=We.fromJSON(this.name,Lg);De("string"==typeof Ch,h,"internal-error"),Lt(Xn,h.name),Lt(fo,h.name),De("boolean"==typeof Th,h,"internal-error"),De("boolean"==typeof Dh,h,"internal-error"),Lt(_a,h.name),Lt(Rc,h.name),Lt(Bf,h.name),Lt(Xs,h.name),Lt($f,h.name),Lt(Mc,h.name);const Ol=new ft({uid:Ch,auth:h,email:fo,emailVerified:Th,displayName:Xn,isAnonymous:Dh,photoURL:Rc,phoneNumber:_a,tenantId:Bf,stsTokenManager:bh,createdAt:$f,lastLoginAt:Mc});return pd&&Array.isArray(pd)&&(Ol.providerData=pd.map(lu=>Object.assign({},lu))),Xs&&(Ol._redirectEventId=Xs),Ol}static _fromIdTokenResponse(h,p,T=!1){return(0,c.A)(function*(){const G=new We;G.updateFromServerResponse(p);const ce=new ft({uid:p.localId,auth:h,stsTokenManager:G,isAnonymous:T});return yield fe(ce),ce})()}static _fromGetAccountInfoResponse(h,p,T){return(0,c.A)(function*(){const G=p.users[0];De(void 0!==G.localId,"internal-error");const ce=void 0!==G.providerUserInfo?Je(G.providerUserInfo):[],tt=!(G.email&&G.passwordHash||null!=ce&&ce.length),xt=new We;xt.updateFromIdToken(T);const nn=new ft({uid:G.localId,auth:h,stsTokenManager:xt,isAnonymous:tt}),Rn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:ce,metadata:new Vt(G.createdAt,G.lastLoginAt),isAnonymous:!(G.email&&G.passwordHash||null!=ce&&ce.length)};return Object.assign(nn,Rn),nn})()}}const pn=new Map;function cn(I){zt(I instanceof Function,"Expected a class definition");let h=pn.get(I);return h?(zt(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,pn.set(I,h),h)}const $r=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(p,T){var G=this;return(0,c.A)(function*(){G.storage[p]=T})()}_get(p){var T=this;return(0,c.A)(function*(){const G=T.storage[p];return void 0===G?null:G})()}_remove(p){var T=this;return(0,c.A)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return I.type="NONE",I})();function Hn(I,h,p){return`firebase:${I}:${h}:${p}`}class Er{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:G,name:ce}=this.auth;this.fullUserKey=Hn(this.userKey,G.apiKey,ce),this.fullPersistenceKey=Hn("persistence",G.apiKey,ce),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ft._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,c.A)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,T="authUser"){return(0,c.A)(function*(){if(!p.length)return new Er(cn($r),h,T);const G=(yield Promise.all(p.map(function(){var Rn=(0,c.A)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let ce=G[0]||cn($r);const tt=Hn(T,h.config.apiKey,h.name);let xt=null;for(const Rn of p)try{const Zn=yield Rn._get(tt);if(Zn){const Xn=ft._fromJSON(h,Zn);Rn!==ce&&(xt=Xn),ce=Rn;break}}catch{}const nn=G.filter(Rn=>Rn._shouldAllowMigration);return ce._shouldAllowMigration&&nn.length?(ce=nn[0],xt&&(yield ce._set(tt,xt.toJSON())),yield Promise.all(p.map(function(){var Rn=(0,c.A)(function*(Zn){if(Zn!==ce)try{yield Zn._remove(tt)}catch{}});return function(Zn){return Rn.apply(this,arguments)}}())),new Er(ce,h,T)):new Er(ce,h,T)})()}}function Un(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Pr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Lr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Mi(h))return"Blackberry";if(ki(h))return"Webos";if(Sr(h))return"Safari";if((h.includes("chrome/")||Fn(h))&&!h.includes("edge/"))return"Chrome";if(_i(h))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Lr(I=(0,te.ZQ)()){return/firefox\//i.test(I)}function Sr(I=(0,te.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Fn(I=(0,te.ZQ)()){return/crios\//i.test(I)}function Pr(I=(0,te.ZQ)()){return/iemobile/i.test(I)}function _i(I=(0,te.ZQ)()){return/android/i.test(I)}function Mi(I=(0,te.ZQ)()){return/blackberry/i.test(I)}function ki(I=(0,te.ZQ)()){return/webos/i.test(I)}function Fi(I=(0,te.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ve(I=(0,te.ZQ)()){return Fi(I)||_i(I)||ki(I)||Mi(I)||/windows phone/i.test(I)||Pr(I)}function Z(I,h=[]){let p;switch(I){case"Browser":p=Un((0,te.ZQ)());break;case"Worker":p=`${Un((0,te.ZQ)())}-${I}`;break;default:p=I}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ne.SDK_VERSION}/${T}`}class J{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=ce=>new Promise((tt,xt)=>{try{tt(h(ce))}catch(nn){xt(nn)}});T.onAbort=p,this.queue.push(T);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,c.A)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const G of p.queue)yield G(h),G.onAbort&&T.push(G.onAbort)}catch(G){T.reverse();for(const ce of T)try{ce()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==G?void 0:G.message})}})()}}function vt(){return(vt=(0,c.A)(function*(I,h={}){return Ve(I,"GET","/v2/passwordPolicy",Ke(I,h))})).apply(this,arguments)}class rn{constructor(h){var p,T,G,ce;const tt=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=tt.minPasswordLength)&&void 0!==p?p:6,tt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=tt.maxPasswordLength),void 0!==tt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=tt.containsLowercaseCharacter),void 0!==tt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=tt.containsUppercaseCharacter),void 0!==tt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=tt.containsNumericCharacter),void 0!==tt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=tt.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(ce=h.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,T,G,ce,tt,xt;const nn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,nn),this.validatePasswordCharacterOptions(h,nn),nn.isValid&&(nn.isValid=null===(p=nn.meetsMinPasswordLength)||void 0===p||p),nn.isValid&&(nn.isValid=null===(T=nn.meetsMaxPasswordLength)||void 0===T||T),nn.isValid&&(nn.isValid=null===(G=nn.containsLowercaseLetter)||void 0===G||G),nn.isValid&&(nn.isValid=null===(ce=nn.containsUppercaseLetter)||void 0===ce||ce),nn.isValid&&(nn.isValid=null===(tt=nn.containsNumericCharacter)||void 0===tt||tt),nn.isValid&&(nn.isValid=null===(xt=nn.containsNonAlphanumericCharacter)||void 0===xt||xt),nn}validatePasswordLengthOptions(h,p){const T=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=h.length>=T),G&&(p.meetsMaxPasswordLength=h.length<=G)}validatePasswordCharacterOptions(h,p){let T;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let G=0;G<h.length;G++)T=h.charAt(G),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,p,T,G,ce){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ce))}}class Bn{constructor(h,p,T,G){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $n(this),this.idTokenSubscription=new $n(this),this.beforeStateQueue=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=cn(p)),this._initializationPromise=this.queue((0,c.A)(function*(){var G,ce;if(!T._deleted&&(T.persistenceManager=yield Er.create(T,h),!T._deleted)){if(null!==(G=T._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(ce=T.currentUser)||void 0===ce?void 0:ce.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,c.A)(function*(){try{const T=yield Wn(p,{idToken:h}),G=yield ft._fromGetAccountInfoResponse(p,T,h);yield p.directlySetCurrentUser(G)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,c.A)(function*(){var T;if((0,ne._isFirebaseServerApp)(p.app)){const xt=p.app.settings.authIdToken;return xt?new Promise(nn=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(xt).then(nn,nn))}):p.directlySetCurrentUser(null)}const G=yield p.assertedPersistence.getCurrentUser();let ce=G,tt=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const xt=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,nn=null==ce?void 0:ce._redirectEventId,Rn=yield p.tryRedirectSignIn(h);(!xt||xt===nn)&&null!=Rn&&Rn.user&&(ce=Rn.user,tt=!0)}if(!ce)return p.directlySetCurrentUser(null);if(!ce._redirectEventId){if(tt)try{yield p.beforeStateQueue.runMiddleware(ce)}catch(xt){ce=G,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(xt))}return ce?p.reloadAndSetCurrentUserOrClear(ce):p.directlySetCurrentUser(null)}return De(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ce._redirectEventId?p.directlySetCurrentUser(ce):p.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(h){var p=this;return(0,c.A)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,c.A)(function*(){try{yield fe(h)}catch(T){if("auth/network-request-failed"!==(null==T?void 0:T.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Y(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,c.A)(function*(){if((0,ne._isFirebaseServerApp)(p.app))return Promise.reject(at(p));const T=h?(0,te.Ku)(h):null;return T&&De(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h,p=!1){var T=this;return(0,c.A)(function*(){if(!T._deleted)return h&&De(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),p||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,c.A)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,ne._isFirebaseServerApp)(h.app)?Promise.reject(at(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,ne._isFirebaseServerApp)(this.app)?Promise.reject(at(this)):this.queue((0,c.A)(function*(){yield p.assertedPersistence.setPersistence(cn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,c.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const T=p._getPasswordPolicyInternal();return T.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const p=yield function we(I){return vt.apply(this,arguments)}(h),T=new rn(p);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new te.FA("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,c.A)(function*(){if(p.currentUser){const T=yield p.currentUser.getIdToken(),G={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:T};null!=p.tenantId&&(G.tenantId=p.tenantId),yield function Te(I,h){return Re.apply(this,arguments)}(p,G)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,c.A)(function*(){const G=yield T.getOrInitRedirectPersistenceManager(p);return null===h?G.removeCurrentUser():G.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,c.A)(function*(){if(!p.redirectPersistenceManager){const T=h&&cn(h)||p._popupRedirectResolver;De(T,p,"argument-error"),p.redirectPersistenceManager=yield Er.create(p,[cn(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,c.A)(function*(){var T,G;return p._isInitialized&&(yield p.queue((0,c.A)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(G=p.redirectUser)||void 0===G?void 0:G._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,c.A)(function*(){if(h===p.currentUser)return p.queue((0,c.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,G){if(this._deleted)return()=>{};const ce="function"==typeof p?p:p.next.bind(p);let tt=!1;const xt=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(xt,this,"internal-error"),xt.then(()=>{tt||ce(this.currentUser)}),"function"==typeof p){const nn=h.addObserver(p,T,G);return()=>{tt=!0,nn()}}{const nn=h.addObserver(p);return()=>{tt=!0,nn()}}}directlySetCurrentUser(h){var p=this;return(0,c.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Z(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const G=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();G&&(T["X-Firebase-Client"]=G);const ce=yield h._getAppCheckToken();return ce&&(T["X-Firebase-AppCheck"]=ce),T})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=T&&T.error&&function mt(I,...h){It.logLevel<=ie.$b.WARN&&It.warn(`Auth (${ne.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${T.error}`),null==T?void 0:T.token})()}}function xn(I){return(0,te.Ku)(I)}class $n{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,te.tD)(p=>this.observer=p)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nr={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mr(I){return nr.loadJS(I)}function li(I){return`__${I}${Math.floor(1e6*Math.random())}`}class xo{constructor(h){this.type="recaptcha-enterprise",this.auth=xn(h)}verify(h="verify",p=!1){var T=this;return(0,c.A)(function*(){function ce(){return ce=(0,c.A)(function*(xt){if(!p){if(null==xt.tenantId&&null!=xt._agentRecaptchaConfig)return xt._agentRecaptchaConfig.siteKey;if(null!=xt.tenantId&&void 0!==xt._tenantRecaptchaConfigs[xt.tenantId])return xt._tenantRecaptchaConfigs[xt.tenantId].siteKey}return new Promise(function(){var nn=(0,c.A)(function*(Rn,Zn){bt(xt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Xn=>{if(void 0!==Xn.recaptchaKey){const fo=new ir(Xn);return null==xt.tenantId?xt._agentRecaptchaConfig=fo:xt._tenantRecaptchaConfigs[xt.tenantId]=fo,Rn(fo.siteKey)}Zn(new Error("recaptcha Enterprise site key undefined"))}).catch(Xn=>{Zn(Xn)})});return function(Rn,Zn){return nn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function tt(xt,nn,Rn){const Zn=window.grecaptcha;Kt(Zn)?Zn.enterprise.ready(()=>{Zn.enterprise.execute(xt,{action:h}).then(Xn=>{nn(Xn)}).catch(()=>{nn("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xt,nn)=>{(function G(xt){return ce.apply(this,arguments)})(T.auth).then(Rn=>{if(!p&&Kt(window.grecaptcha))tt(Rn,xt,nn);else{if(typeof window>"u")return void nn(new Error("RecaptchaVerifier is only supported in browser"));let Zn=function br(){return nr.recaptchaEnterpriseScript}();0!==Zn.length&&(Zn+=Rn),mr(Zn).then(()=>{tt(Rn,xt,nn)}).catch(Xn=>{nn(Xn)})}}).catch(Rn=>{nn(Rn)})})})()}}function ci(I,h,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.A)(function*(I,h,p,T=!1){const G=new xo(I);let ce;try{ce=yield G.verify(p)}catch{ce=yield G.verify(p,!0)}const tt=Object.assign({},h);return Object.assign(tt,T?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(tt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(tt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),tt})).apply(this,arguments)}function ji(I,h,p,T){return ao.apply(this,arguments)}function ao(){return ao=(0,c.A)(function*(I,h,p,T){var G;if(null!==(G=I._getRecaptchaConfig())&&void 0!==G&&G.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield ci(I,h,p,"getOobCode"===p);return T(I,ce)}return T(I,h).catch(function(){var ce=(0,c.A)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const xt=yield ci(I,h,p,"getOobCode"===p);return T(I,xt)}return Promise.reject(tt)});return function(tt){return ce.apply(this,arguments)}}())}),ao.apply(this,arguments)}function dr(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function bi(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class lo{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ot("not implemented")}_getIdTokenResponse(h){return Ot("not implemented")}_linkToIdToken(h,p){return Ot("not implemented")}_getReauthenticationResolver(h){return Ot("not implemented")}}function hs(I,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:resetPassword",Ke(I,h))})).apply(this,arguments)}function vo(){return(vo=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jo(I,h){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Vi(){return(Vi=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:update",Ke(I,h))})).apply(this,arguments)}function _o(I,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithPassword",Ke(I,h))})).apply(this,arguments)}function gi(I,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:sendOobCode",Ke(I,h))})).apply(this,arguments)}function Oo(){return(Oo=(0,c.A)(function*(I,h){return gi(I,h)})).apply(this,arguments)}function O(I,h){return A.apply(this,arguments)}function A(){return(A=(0,c.A)(function*(I,h){return gi(I,h)})).apply(this,arguments)}function N(I,h){return b.apply(this,arguments)}function b(){return(b=(0,c.A)(function*(I,h){return gi(I,h)})).apply(this,arguments)}function oe(){return(oe=(0,c.A)(function*(I,h){return gi(I,h)})).apply(this,arguments)}function $t(){return($t=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithEmailLink",Ke(I,h))})).apply(this,arguments)}function qt(){return(qt=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithEmailLink",Ke(I,h))})).apply(this,arguments)}class Jt extends lo{constructor(h,p,T,G=null){super("password",T),this._email=h,this._password=p,this._tenantId=G}static _fromEmailAndPassword(h,p){return new Jt(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new Jt(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,c.A)(function*(){switch(p.signInMethod){case"password":return ji(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_o);case"emailLink":return function Xe(I,h){return $t.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:_e(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,c.A)(function*(){switch(T.signInMethod){case"password":return ji(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jo);case"emailLink":return function Ct(I,h){return qt.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:_e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function gn(I,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithIdp",Ke(I,h))})).apply(this,arguments)}class Tn extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Tn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):_e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:G}=p,ce=(0,ae.Tt)(p,["providerId","signInMethod"]);if(!T||!G)return null;const tt=new Tn(T,G);return tt.idToken=ce.idToken||void 0,tt.accessToken=ce.accessToken||void 0,tt.secret=ce.secret,tt.nonce=ce.nonce,tt.pendingToken=ce.pendingToken||null,tt}_getIdTokenResponse(h){return gn(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,gn(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,gn(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,te.Am)(p)}return h}}function sr(){return(sr=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:sendVerificationCode",Ke(I,h))})).apply(this,arguments)}function Xr(){return(Xr=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,h))})).apply(this,arguments)}function qi(){return(qi=(0,c.A)(function*(I,h){const p=yield An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,h));if(p.temporaryProof)throw En(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Io={USER_NOT_FOUND:"user-not-found"};function _r(){return(_r=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Io)})).apply(this,arguments)}class Rr extends lo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Rr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Rr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function qr(I,h){return Xr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function hi(I,h){return qi.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function uo(I,h){return _r.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:T,verificationCode:G}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:T,code:G}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:T,phoneNumber:G,temporaryProof:ce}=h;return T||p||G||ce?new Rr({verificationId:p,verificationCode:T,phoneNumber:G,temporaryProof:ce}):null}}class Ro{constructor(h){var p,T,G,ce,tt,xt;const nn=(0,te.I9)((0,te.hp)(h)),Rn=null!==(p=nn.apiKey)&&void 0!==p?p:null,Zn=null!==(T=nn.oobCode)&&void 0!==T?T:null,Xn=function ko(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=nn.mode)&&void 0!==G?G:null);De(Rn&&Zn&&Xn,"argument-error"),this.apiKey=Rn,this.operation=Xn,this.code=Zn,this.continueUrl=null!==(ce=nn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(tt=nn.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(xt=nn.tenantId)&&void 0!==xt?xt:null}static parseLink(h){const p=function ns(I){const h=(0,te.I9)((0,te.hp)(I)).link,p=h?(0,te.I9)((0,te.hp)(h)).deep_link_id:null,T=(0,te.I9)((0,te.hp)(I)).deep_link_id;return(T?(0,te.I9)((0,te.hp)(T)).link:null)||T||p||h||I}(h);try{return new Ro(p)}catch{return null}}}let Ss=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,T){return Jt._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const G=Ro.parseLink(T);return De(G,"argument-error"),Jt._fromEmailAndCode(p,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ho{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class wi extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class zo extends wi{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return De("providerId"in p&&"signInMethod"in p,"argument-error"),Tn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),Tn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return zo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return zo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:G,pendingToken:ce,nonce:tt,providerId:xt}=h;if(!T&&!G&&!p&&!ce||!xt)return null;try{return new zo(xt)._credential({idToken:p,accessToken:T,nonce:tt,pendingToken:ce})}catch{return null}}}let Rs=(()=>{class I extends wi{constructor(){super("facebook.com")}static credential(p){return Tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),fl=(()=>{class I extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return Tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:G}=p;if(!T&&!G)return null;try{return I.credential(T,G)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ms=(()=>{class I extends wi{constructor(){super("github.com")}static credential(p){return Tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class xr extends lo{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return gn(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,gn(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,gn(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:G,pendingToken:ce}=p;return T&&G&&ce&&T===G?new xr(T,ce):null}static _create(h,p){return new xr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xi extends Ho{constructor(h){De(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Xi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Xi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=xr.fromJSON(h);return De(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:T}=h;if(!p||!T)return null;try{return xr._create(T,p)}catch{return null}}}let Go=(()=>{class I extends wi{constructor(){super("twitter.com")}static credential(p,T){return Tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:G}=p;if(!T||!G)return null;try{return I.credential(T,G)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ps(I,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signUp",Ke(I,h))})).apply(this,arguments)}class oi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T,G=!1){return(0,c.A)(function*(){const ce=yield ft._fromIdTokenResponse(h,T,G),tt=Qi(T);return new oi({user:ce,providerId:tt,_tokenResponse:T,operationType:p})})()}static _forOperation(h,p,T){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const G=Qi(T);return new oi({user:h,providerId:G,_tokenResponse:T,operationType:p})})()}}function Qi(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function fs(){return(fs=(0,c.A)(function*(I){var h;if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const p=xn(I);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new oi({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield Ps(p,{returnSecureToken:!0}),G=yield oi._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(G.user),G})).apply(this,arguments)}class $s extends te.g{constructor(h,p,T,G){var ce;super(p.code,p.message),this.operationType=T,this.user=G,Object.setPrototypeOf(this,$s.prototype),this.customData={appName:h.name,tenantId:null!==(ce=h.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,G){return new $s(h,p,T,G)}}function js(I,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?$s._fromErrorAndOperation(I,ce,h,T):ce})}function Eo(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function Ko(){return Ko=(0,c.A)(function*(I,h){const p=(0,te.Ku)(I);yield ps(!0,p,h);const{providerUserInfo:T}=yield function vn(I,h){return hn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),G=Eo(T||[]);return p.providerData=p.providerData.filter(ce=>G.has(ce.providerId)),G.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Ko.apply(this,arguments)}function Qr(I,h){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.A)(function*(I,h,p=!1){const T=yield Vr(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return oi._forOperation(I,"link",T)})).apply(this,arguments)}function ps(I,h,p){return to.apply(this,arguments)}function to(){return(to=(0,c.A)(function*(I,h,p){yield fe(h);const G=!1===I?"provider-already-linked":"no-such-provider";De(Eo(h.providerData).has(p)===I,h.auth,G)})).apply(this,arguments)}function Vo(I,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.A)(function*(I,h,p=!1){const{auth:T}=I;if((0,ne._isFirebaseServerApp)(T.app))return Promise.reject(at(T));const G="reauthenticate";try{const ce=yield Vr(I,js(T,G,h,I),p);De(ce.idToken,T,"internal-error");const tt=Gr(ce.idToken);De(tt,T,"internal-error");const{sub:xt}=tt;return De(I.uid===xt,T,"user-mismatch"),oi._forOperation(I,G,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&_e(T,"user-mismatch"),ce}})).apply(this,arguments)}function Ys(I,h){return W.apply(this,arguments)}function W(){return(W=(0,c.A)(function*(I,h,p=!1){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T="signIn",G=yield js(I,T,h),ce=yield oi._fromIdTokenResponse(I,T,G);return p||(yield I._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function v(I,h){return C.apply(this,arguments)}function C(){return(C=(0,c.A)(function*(I,h){return Ys(xn(I),h)})).apply(this,arguments)}function w(I,h){return U.apply(this,arguments)}function U(){return(U=(0,c.A)(function*(I,h){const p=(0,te.Ku)(I);return yield ps(!1,p,h.providerId),Qr(p,h)})).apply(this,arguments)}function Ie(I,h){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.A)(function*(I,h){return Vo((0,te.Ku)(I),h)})).apply(this,arguments)}function yn(){return(yn=(0,c.A)(function*(I,h){return An(I,"POST","/v1/accounts:signInWithCustomToken",Ke(I,h))})).apply(this,arguments)}function Ln(){return Ln=(0,c.A)(function*(I,h){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const p=xn(I),T=yield function Qt(I,h){return yn.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),G=yield oi._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(G.user),G}),Ln.apply(this,arguments)}class hr{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?ni._fromServerResponse(h,p):"totpInfo"in p?yi._fromServerResponse(h,p):_e(h,"internal-error")}}class ni extends hr{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new ni(p)}}class yi extends hr{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new yi(p)}}function Kr(I,h,p){var T;De((null===(T=p.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),De(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(De(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(De(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Jn(I){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.A)(function*(I){const h=xn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function zi(){return(zi=(0,c.A)(function*(I,h,p){const T=xn(I),G={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Kr(T,G,p),yield ji(T,G,"getOobCode",O)})).apply(this,arguments)}function Yi(){return Yi=(0,c.A)(function*(I,h,p){yield hs((0,te.Ku)(I),{oobCode:h,newPassword:p}).catch(function(){var T=(0,c.A)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&Jn(I),G});return function(G){return T.apply(this,arguments)}}())}),Yi.apply(this,arguments)}function no(){return no=(0,c.A)(function*(I,h){yield function Li(I,h){return Vi.apply(this,arguments)}((0,te.Ku)(I),{oobCode:h})}),no.apply(this,arguments)}function rs(I,h){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.A)(function*(I,h){const p=(0,te.Ku)(I),T=yield hs(p,{oobCode:h}),G=T.requestType;switch(De(G,p,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(T.mfaInfo,p,"internal-error");default:De(T.email,p,"internal-error")}let ce=null;return T.mfaInfo&&(ce=hr._fromServerResponse(xn(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ce},operation:G}})).apply(this,arguments)}function Da(){return(Da=(0,c.A)(function*(I,h){const{data:p}=yield rs((0,te.Ku)(I),h);return p.email})).apply(this,arguments)}function pl(){return(pl=(0,c.A)(function*(I,h,p){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T=xn(I),tt=yield ji(T,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ps).catch(nn=>{throw"auth/password-does-not-meet-requirements"===nn.code&&Jn(I),nn}),xt=yield oi._fromIdTokenResponse(T,"signIn",tt);return yield T._updateCurrentUser(xt.user),xt})).apply(this,arguments)}function la(){return(la=(0,c.A)(function*(I,h,p){const T=xn(I),G={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ce(tt,xt){De(xt.handleCodeInApp,T,"argument-error"),xt&&Kr(T,tt,xt)})(G,p),yield ji(T,G,"getOobCode",N)})).apply(this,arguments)}function Hs(){return(Hs=(0,c.A)(function*(I,h,p){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T=(0,te.Ku)(I),G=Ss.credentialWithLink(h,p||Nt());return De(G._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),v(T,G)})).apply(this,arguments)}function zs(){return(zs=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:createAuthUri",Ke(I,h))})).apply(this,arguments)}function za(){return za=(0,c.A)(function*(I,h){const T={identifier:h,continueUri:Et()?Nt():"http://localhost"},{signinMethods:G}=yield function Hl(I,h){return zs.apply(this,arguments)}((0,te.Ku)(I),T);return G||[]}),za.apply(this,arguments)}function Si(){return Si=(0,c.A)(function*(I,h){const p=(0,te.Ku)(I),G={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Kr(p.auth,G,h);const{email:ce}=yield function No(I,h){return Oo.apply(this,arguments)}(p.auth,G);ce!==I.email&&(yield I.reload())}),Si.apply(this,arguments)}function Gs(){return Gs=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};p&&Kr(T.auth,ce,p);const{email:tt}=yield function j(I,h){return oe.apply(this,arguments)}(T.auth,ce);tt!==I.email&&(yield I.reload())}),Gs.apply(this,arguments)}function ss(){return(ss=(0,c.A)(function*(I,h){return Ve(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gl(){return gl=(0,c.A)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const T=(0,te.Ku)(I),ce={idToken:yield T.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},tt=yield Vr(T,function os(I,h){return ss.apply(this,arguments)}(T.auth,ce));T.displayName=tt.displayName||null,T.photoURL=tt.photoUrl||null;const xt=T.providerData.find(({providerId:nn})=>"password"===nn);xt&&(xt.displayName=T.displayName,xt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(tt)}),gl.apply(this,arguments)}function Uo(I,h,p){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,c.A)(function*(I,h,p){const{auth:T}=I,ce={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(ce.email=h),p&&(ce.password=p);const tt=yield Vr(I,function Ar(I,h){return vo.apply(this,arguments)}(T,ce));yield I._updateTokensIfNecessary(tt,!0)}),Ra.apply(this,arguments)}class Ns{constructor(h,p,T={}){this.isNewUser=h,this.providerId=p,this.profile=T}}class as extends Ns{constructor(h,p,T,G){super(h,p,T),this.username=G}}class Gl extends Ns{constructor(h,p){super(h,"facebook.com",p)}}class ml extends as{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class R extends Ns{constructor(h,p){super(h,"google.com",p)}}class z extends as{constructor(h,p,T){super(h,"twitter.com",p,T)}}function xe(I){const{user:h,_tokenResponse:p}=I;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Iu(I){var h,p;if(!I)return null;const{providerId:T}=I,G=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ce=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&null!=I&&I.idToken){const tt=null===(p=null===(h=Gr(I.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(tt)return new Ns(ce,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!T)return null;switch(T){case"facebook.com":return new Gl(ce,G);case"github.com":return new ml(ce,G);case"google.com":return new R(ce,G);case"twitter.com":return new z(ce,G,I.screenName||null);case"custom":case"anonymous":return new Ns(ce,null);default:return new Ns(ce,T,G)}}(p)}class Nr{constructor(h,p,T){this.type=h,this.credential=p,this.user=T}static _fromIdtoken(h,p){return new Nr("enroll",h,p)}static _fromMfaPendingCredential(h){return new Nr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,T;if(null!=h&&h.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Nr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(T=h.multiFactorSession)&&void 0!==T&&T.idToken)return Nr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class un{constructor(h,p,T){this.session=h,this.hints=p,this.signInResolver=T}static _fromError(h,p){const T=xn(h),G=p.customData._serverResponse,ce=(G.mfaInfo||[]).map(xt=>hr._fromServerResponse(T,xt));De(G.mfaPendingCredential,T,"internal-error");const tt=Nr._fromMfaPendingCredential(G.mfaPendingCredential);return new un(tt,ce,function(){var xt=(0,c.A)(function*(nn){const Rn=yield nn._process(T,tt);delete G.mfaInfo,delete G.mfaPendingCredential;const Zn=Object.assign(Object.assign({},G),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(p.operationType){case"signIn":const Xn=yield oi._fromIdTokenResponse(T,p.operationType,Zn);return yield T._updateCurrentUser(Xn.user),Xn;case"reauthenticate":return De(p.user,T,"internal-error"),oi._forOperation(p.user,p.operationType,Zn);default:_e(T,"internal-error")}});return function(nn){return xt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,c.A)(function*(){return p.signInResolver(h)})()}}class Ti{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>hr._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Ti(h)}getSession(){var h=this;return(0,c.A)(function*(){return Nr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var T=this;return(0,c.A)(function*(){const G=h,ce=yield T.getSession(),tt=yield Vr(T.user,G._process(T.user.auth,ce,p));return yield T.user._updateTokensIfNecessary(tt),T.user.reload()})()}unenroll(h){var p=this;return(0,c.A)(function*(){const T="string"==typeof h?h:h.uid,G=yield p.user.getIdToken();try{const ce=yield Vr(p.user,function Ws(I,h){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(I,h))}(p.user.auth,{idToken:G,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:tt})=>tt!==T),yield p.user._updateTokensIfNecessary(ce),yield p.user.reload()}catch(ce){throw ce}})()}}const Gi=new WeakMap,Cr="__sak";class da{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Cr,"1"),this.storage.removeItem(Cr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ei=(()=>{class I extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const G=this.storage.getItem(T),ce=this.localCache[T];G!==ce&&p(T,ce,G)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((xt,nn,Rn)=>{this.notifyListeners(xt,Rn)});const G=p.key;T?this.detachListener():this.stopPolling();const ce=()=>{const xt=this.storage.getItem(G);!T&&this.localCache[G]===xt||this.notifyListeners(G,xt)},tt=this.storage.getItem(G);!function K(){return(0,te.lT)()&&10===document.documentMode}()||tt===p.newValue||p.newValue===p.oldValue?ce():setTimeout(ce,10)}notifyListeners(p,T){this.localCache[p]=T;const G=this.listeners[p];if(G)for(const ce of Array.from(G))ce(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var G=()=>super._set,ce=this;return(0,c.A)(function*(){yield G().call(ce,p,T),ce.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,G=this;return(0,c.A)(function*(){const ce=yield T().call(G,p);return G.localCache[p]=JSON.stringify(ce),ce})()}_remove(p){var T=()=>super._remove,G=this;return(0,c.A)(function*(){yield T().call(G,p),delete G.localCache[p]})()}}return I.type="LOCAL",I})(),Co=(()=>{class I extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return I.type="SESSION",I})();let Pa=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(ce=>ce.isListeningto(p));if(T)return T;const G=new I(p);return this.receivers.push(G),G}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,c.A)(function*(){const G=p,{eventId:ce,eventType:tt,data:xt}=G.data,nn=T.handlersMap[tt];if(null==nn||!nn.size)return;G.ports[0].postMessage({status:"ack",eventId:ce,eventType:tt});const Rn=Array.from(nn).map(function(){var Xn=(0,c.A)(function*(fo){return fo(G.origin,xt)});return function(fo){return Xn.apply(this,arguments)}}()),Zn=yield function Ma(I){return Promise.all(I.map(function(){var h=(0,c.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(Rn);G.ports[0].postMessage({status:"done",eventId:ce,eventType:tt,response:Zn})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ho(I="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return I+p}class _l{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,T=50){var G=this;return(0,c.A)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let tt,xt;return new Promise((nn,Rn)=>{const Zn=ho("",20);ce.port1.start();const Xn=setTimeout(()=>{Rn(new Error("unsupported_event"))},T);xt={messageChannel:ce,onMessage(fo){const _a=fo;if(_a.data.eventId===Zn)switch(_a.data.status){case"ack":clearTimeout(Xn),tt=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),nn(_a.data.response);break;default:clearTimeout(Xn),clearTimeout(tt),Rn(new Error("invalid_response"))}}},G.handlers.add(xt),ce.port1.addEventListener("message",xt.onMessage),G.target.postMessage({eventType:h,eventId:Zn,data:p},[ce.port2])}).finally(()=>{xt&&G.removeMessageHandler(xt)})})()}}function fi(){return window}function yl(){return typeof fi().WorkerGlobalScope<"u"&&"function"==typeof fi().importScripts}function Os(){return(Os=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ni="firebaseLocalStorageDb",Zi="firebaseLocalStorage",wo="fbase_key";class ea{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function qs(I,h){return I.transaction([Zi],h?"readwrite":"readonly").objectStore(Zi)}function gs(){const I=indexedDB.open(Ni,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(Zi,{keyPath:wo})}catch(G){p(G)}}),I.addEventListener("success",(0,c.A)(function*(){const T=I.result;T.objectStoreNames.contains(Zi)?h(T):(T.close(),yield function ql(){const I=indexedDB.deleteDatabase(Ni);return new ea(I).toPromise()}(),h(yield gs()))}))})}function Wa(I,h,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.A)(function*(I,h,p){const T=qs(I,!0).put({[wo]:h,value:p});return new ea(T).toPromise()})).apply(this,arguments)}function Xl(){return(Xl=(0,c.A)(function*(I,h){const p=qs(I,!1).get(h),T=yield new ea(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ha(I,h){const p=qs(I,!0).delete(h);return new ea(p).toPromise()}const Yl=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.A)(function*(){return p.db||(p.db=yield gs()),p.db})()}_withRetries(p){var T=this;return(0,c.A)(function*(){let G=0;for(;;)try{const ce=yield T._openDb();return yield p(ce)}catch(ce){if(G++>3)throw ce;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.A)(function*(){return yl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.A)(function*(){p.receiver=Pa._getInstance(function Il(){return yl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,c.A)(function*(G,ce){return{keyProcessed:(yield p._poll()).includes(ce.key)}});return function(G,ce){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,c.A)(function*(G,ce){return["keyChanged"]});return function(G,ce){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.A)(function*(){var T,G;if(p.activeServiceWorker=yield function Wl(){return Os.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new _l(p.activeServiceWorker);const ce=yield p.sender._send("ping",{},800);ce&&null!==(T=ce[0])&&void 0!==T&&T.fulfilled&&null!==(G=ce[0])&&void 0!==G&&G.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,c.A)(function*(){if(T.sender&&T.activeServiceWorker&&function rc(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const p=yield gs();return yield Wa(p,Cr,"1"),yield ha(p,Cr),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,c.A)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var G=this;return(0,c.A)(function*(){return G._withPendingWrite((0,c.A)(function*(){return yield G._withRetries(ce=>Wa(ce,p,T)),G.localCache[p]=T,G.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,c.A)(function*(){const G=yield T._withRetries(ce=>function Wc(I,h){return Xl.apply(this,arguments)}(ce,p));return T.localCache[p]=G,G})()}_remove(p){var T=this;return(0,c.A)(function*(){return T._withPendingWrite((0,c.A)(function*(){return yield T._withRetries(G=>ha(G,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.A)(function*(){const T=yield p._withRetries(tt=>{const xt=qs(tt,!1).getAll();return new ea(xt).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const G=[],ce=new Set;if(0!==T.length)for(const{fbase_key:tt,value:xt}of T)ce.add(tt),JSON.stringify(p.localCache[tt])!==JSON.stringify(xt)&&(p.notifyListeners(tt,xt),G.push(tt));for(const tt of Object.keys(p.localCache))p.localCache[tt]&&!ce.has(tt)&&(p.notifyListeners(tt,null),G.push(tt));return G})()}notifyListeners(p,T){this.localCache[p]=T;const G=this.listeners[p];if(G)for(const ce of Array.from(G))ce(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),V=1e12;class de{constructor(h){this.auth=h,this.counter=V,this._widgets=new Map}render(h,p){const T=this.counter;return this._widgets.set(T,new me(h,this.auth.name,p||{})),this.counter++,T}reset(h){var p;const T=h||V;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(h){var p;return(null===(p=this._widgets.get(h||V))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,c.A)(function*(){var T;return null===(T=p._widgets.get(h||V))||void 0===T||T.execute(),""})()}}class me{constructor(h,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof h?document.getElementById(h):h;De(G,"argument-error",{appName:p}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dt(I){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tn=li("rcb"),Rt=new ee(3e4,6e4);class Sn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=fi().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return De(function Tr(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&_n(fi().grecaptcha)?Promise.resolve(fi().grecaptcha):new Promise((T,G)=>{const ce=fi().setTimeout(()=>{G(Me(h,"network-request-failed"))},Rt.get());fi()[tn]=()=>{fi().clearTimeout(ce),delete fi()[tn];const xt=fi().grecaptcha;if(!xt||!_n(xt))return void G(Me(h,"internal-error"));const nn=xt.render;xt.render=(Rn,Zn)=>{const Xn=nn(Rn,Zn);return this.counter++,Xn},this.hostLanguage=p,T(xt)},mr(`${function On(){return nr.recaptchaV2Script}()}?${(0,te.Am)({onload:tn,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ce),G(Me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=fi().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ui{load(h){return(0,c.A)(function*(){return new de(h)})()}clearedOneInstance(){}}const Or="recaptcha",io={theme:"light",type:"image"};class qo{constructor(h,p,T=Object.assign({},io)){this.parameters=T,this.type=Or,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(h),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof p?document.getElementById(p):p;De(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ui:new Sn,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const p=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(p)||new Promise(ce=>{const tt=xt=>{xt&&(h.tokenChangeListeners.delete(tt),ce(xt))};h.tokenChangeListeners.add(tt),h.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof h)h(p);else if("string"==typeof h){const T=fi()[h];"function"==typeof T&&T(p)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){De(Et()&&!yl(),h.auth,"internal-error"),yield function Mo(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Tt(I){return Pt.apply(this,arguments)}(h.auth);De(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ms{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Rr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function ks(){return(ks=(0,c.A)(function*(I,h,p){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T=xn(I),G=yield Au(T,h,(0,te.Ku)(p));return new ms(G,ce=>v(T,ce))})).apply(this,arguments)}function qa(){return(qa=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);yield ps(!1,T,"phone");const G=yield Au(T.auth,h,(0,te.Ku)(p));return new ms(G,ce=>w(T,ce))})).apply(this,arguments)}function El(){return(El=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);if((0,ne._isFirebaseServerApp)(T.auth.app))return Promise.reject(at(T.auth));const G=yield Au(T.auth,h,(0,te.Ku)(p));return new ms(G,ce=>Ie(T,ce))})).apply(this,arguments)}function Au(I,h,p){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,c.A)(function*(I,h,p){var T;const G=yield p.verify();try{let ce;if(De("string"==typeof G,I,"argument-error"),De(p.type===Or,I,"argument-error"),ce="string"==typeof h?{phoneNumber:h}:h,"session"in ce){const tt=ce.session;if("phoneNumber"in ce)return De("enroll"===tt.type,I,"internal-error"),(yield function xi(I,h){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",Ke(I,h))}(I,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{De("signin"===tt.type,I,"internal-error");const xt=(null===(T=ce.multiFactorHint)||void 0===T?void 0:T.uid)||ce.multiFactorUid;return De(xt,I,"missing-multi-factor-info"),(yield function Ka(I,h){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",Ke(I,h))}(I,{mfaPendingCredential:tt.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield function Ur(I,h){return sr.apply(this,arguments)}(I,{phoneNumber:ce.phoneNumber,recaptchaToken:G});return tt}}finally{p._reset()}}),Zl.apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(I,h){const p=(0,te.Ku)(I);if((0,ne._isFirebaseServerApp)(p.auth.app))return Promise.reject(at(p.auth));yield Qr(p,h)})).apply(this,arguments)}let Jl=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=xn(p)}verifyPhoneNumber(p,T){return Au(this.auth,p,(0,te.Ku)(T))}static credential(p,T){return Rr._fromVerification(p,T)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:G}=p;return T&&G?Rr._fromTokenResponse(T,G):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Zr(I,h){return h?cn(h):(De(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Cu extends lo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return gn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return gn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return gn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function sc(I){return Ys(I.auth,new Cu(I),I.bypassAuthState)}function Xo(I){const{auth:h,user:p}=I;return De(p,h,"internal-error"),Vo(p,new Cu(I),I.bypassAuthState)}function Yd(I){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.A)(function*(I){const{auth:h,user:p}=I;return De(p,h,"internal-error"),Qr(p,new Cu(I),I.bypassAuthState)})).apply(this,arguments)}class xa{constructor(h,p,T,G,ce=!1){this.auth=h,this.resolver=T,this.user=G,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,c.A)(function*(T,G){h.pendingPromise={resolve:T,reject:G};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ce){h.reject(ce)}});return function(T,G){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,c.A)(function*(){const{urlResponse:T,sessionId:G,postBody:ce,tenantId:tt,error:xt,type:nn}=h;if(xt)return void p.reject(xt);const Rn={auth:p.auth,requestUri:T,sessionId:G,tenantId:tt||void 0,postBody:ce||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(nn)(Rn))}catch(Zn){p.reject(Zn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return sc;case"linkViaPopup":case"linkViaRedirect":return Yd;case"reauthViaPopup":case"reauthViaRedirect":return Xo;default:_e(this.auth,"internal-error")}}resolve(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _s=new ee(2e3,1e4);function Cl(){return(Cl=(0,c.A)(function*(I,h,p){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(Me(I,"operation-not-supported-in-this-environment"));const T=xn(I);Mt(I,h,Ho);const G=Zr(T,p);return new lc(T,"signInViaPopup",h,G).executeNotNull()})).apply(this,arguments)}function us(){return(us=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);if((0,ne._isFirebaseServerApp)(T.auth.app))return Promise.reject(Me(T.auth,"operation-not-supported-in-this-environment"));Mt(T.auth,h,Ho);const G=Zr(T.auth,p);return new lc(T.auth,"reauthViaPopup",h,G,T).executeNotNull()})).apply(this,arguments)}function qc(){return(qc=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);Mt(T.auth,h,Ho);const G=Zr(T.auth,p);return new lc(T.auth,"linkViaPopup",h,G,T).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class I extends xa{constructor(p,T,G,ce,tt){super(p,T,ce,tt),this.provider=G,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.A)(function*(){const T=yield p.execute();return De(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,c.A)(function*(){zt(1===p.filter.length,"Popup operations only handle one event");const T=ho();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(G=>{p.reject(G)}),p.resolver._isIframeWebStorageSupported(p.auth,G=>{G||p.reject(Me(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,G;this.pollId=null!==(G=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,_s.get())};p()}}return I.currentPopupAction=null,I})();const Xa="pendingRedirect",pa=new Map;class Qa extends xa{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,c.A)(function*(){let T=pa.get(p.auth._key());if(!T){try{const ce=(yield function uc(I,h){return Tu.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(ce)}catch(G){T=()=>Promise.reject(G)}pa.set(p.auth._key(),T)}return p.bypassAuthState||pa.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const G=yield T.auth._redirectUserForId(h.eventId);if(G)return T.user=G,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,c.A)(function*(I,h){const p=Dl(h),T=Xc(I);if(!(yield T._isAvailable()))return!1;const G="true"===(yield T._get(p));return yield T._remove(p),G})).apply(this,arguments)}function Wi(I,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.A)(function*(I,h){return Xc(I)._set(Dl(h),"true")})).apply(this,arguments)}function Tl(I,h){pa.set(I._key(),h)}function Xc(I){return cn(I._redirectPersistence)}function Dl(I){return Hn(Xa,I.config.apiKey,I.name)}function Du(I,h,p){return function Cf(I,h,p){return Ya.apply(this,arguments)}(I,h,p)}function Ya(){return(Ya=(0,c.A)(function*(I,h,p){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T=xn(I);Mt(I,h,Ho),yield T._initializationPromise;const G=Zr(T,p);return yield Wi(G,T),G._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function Tf(I,h,p){return function ta(I,h,p){return Qc.apply(this,arguments)}(I,h,p)}function Qc(){return(Qc=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);if(Mt(T.auth,h,Ho),(0,ne._isFirebaseServerApp)(T.auth.app))return Promise.reject(at(T.auth));yield T.auth._initializationPromise;const G=Zr(T.auth,p);yield Wi(G,T.auth);const ce=yield bu(T);return G._openRedirect(T.auth,h,"reauthViaRedirect",ce)})).apply(this,arguments)}function bl(I,h,p){return function Df(I,h,p){return Zd.apply(this,arguments)}(I,h,p)}function Zd(){return(Zd=(0,c.A)(function*(I,h,p){const T=(0,te.Ku)(I);Mt(T.auth,h,Ho),yield T.auth._initializationPromise;const G=Zr(T.auth,p);yield ps(!1,T,h.providerId),yield Wi(G,T.auth);const ce=yield bu(T);return G._openRedirect(T.auth,h,"linkViaRedirect",ce)})).apply(this,arguments)}function en(){return(en=(0,c.A)(function*(I,h){return yield xn(I)._initializationPromise,zr(I,h,!1)})).apply(this,arguments)}function zr(I,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.A)(function*(I,h,p=!1){if((0,ne._isFirebaseServerApp)(I.app))return Promise.reject(at(I));const T=xn(I),G=Zr(T,h),tt=yield new Qa(T,G,p).execute();return tt&&!p&&(delete tt.user._redirectEventId,yield T._persistUserIfCurrent(tt.user),yield T._setRedirectUser(null,h)),tt})).apply(this,arguments)}function bu(I){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.A)(function*(I){const h=ho(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class tu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Za(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cc(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!cc(h)){const G=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Me(this.auth,G))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(na(h))}saveEventToCache(h){this.cachedEventUids.add(na(h)),this.lastProcessedEventTime=Date.now()}}function na(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function cc({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===(null==h?void 0:h.code)}function nu(I){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,c.A)(function*(I,h={}){return Ve(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Sg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sf=/^https?/;function Zc(){return(Zc=(0,c.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield nu(I);for(const p of h)try{if(ys(p))return}catch{}_e(I,"unauthorized-domain")})).apply(this,arguments)}function ys(I){const h=Nt(),{protocol:p,hostname:T}=new URL(h);if(I.startsWith("chrome-extension://")){const tt=new URL(I);return""===tt.hostname&&""===T?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&tt.hostname===T}if(!Sf.test(p))return!1;if(Sg.test(I))return T===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(T)}const Ja=new ee(3e4,6e4);function dc(){const I=fi().___jsl;if(null!=I&&I.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let ra=null;const Rf=new ee(5e3,15e3),Mg="__/auth/iframe",th="emulator/auth/iframe",nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Su(I){const h=I.config;De(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?ye(h,th):`https://${I.config.authDomain}/${Mg}`,T={apiKey:h.apiKey,appName:I.name,v:ne.SDK_VERSION},G=wu.get(I.config.apiHost);G&&(T.eid=G);const ce=I._getFrameworks();return ce.length&&(T.fw=ce.join(",")),`${p}?${(0,te.Am)(T).slice(1)}`}function ed(){return ed=(0,c.A)(function*(I){const h=yield function Rg(I){return ra=ra||function Oi(I){return new Promise((h,p)=>{var T,G,ce;function tt(){dc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{dc(),p(Me(I,"network-request-failed"))},timeout:Ja.get()})}if(null!==(G=null===(T=fi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==G&&G.Iframe)h(gapi.iframes.getContext());else{if(null===(ce=fi().gapi)||void 0===ce||!ce.load){const xt=li("iframefcb");return fi()[xt]=()=>{gapi.load?tt():p(Me(I,"network-request-failed"))},mr(`${function or(){return nr.gapiScript}()}?onload=${xt}`).catch(nn=>p(nn))}tt()}}).catch(h=>{throw ra=null,h})}(I),ra}(I),p=fi().gapi;return De(p,I,"internal-error"),h.open({where:document.body,url:Su(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nh,dontclear:!0},T=>new Promise(function(){var G=(0,c.A)(function*(ce,tt){yield T.restyle({setHideOnLeave:!1});const xt=Me(I,"network-request-failed"),nn=fi().setTimeout(()=>{tt(xt)},Rf.get());function Rn(){fi().clearTimeout(nn),ce(T)}T.ping(Rn).then(Rn,()=>{tt(xt)})});return function(ce,tt){return G.apply(this,arguments)}}()))}),ed.apply(this,arguments)}const td={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qo="__/auth/handler",wl="emulator/auth/handler",$i=encodeURIComponent("fac");function gc(I,h,p,T,G,ce){return ih.apply(this,arguments)}function ih(){return(ih=(0,c.A)(function*(I,h,p,T,G,ce){De(I.config.authDomain,I,"auth-domain-config-required"),De(I.config.apiKey,I,"invalid-api-key");const tt={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:T,v:ne.SDK_VERSION,eventId:G};if(h instanceof Ho){h.setDefaultLanguage(I.languageCode),tt.providerId=h.providerId||"",(0,te.Im)(h.getCustomParameters())||(tt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Zn,Xn]of Object.entries(ce||{}))tt[Zn]=Xn}if(h instanceof wi){const Zn=h.getScopes().filter(Xn=>""!==Xn);Zn.length>0&&(tt.scopes=Zn.join(","))}I.tenantId&&(tt.tid=I.tenantId);const xt=tt;for(const Zn of Object.keys(xt))void 0===xt[Zn]&&delete xt[Zn];const nn=yield I._getAppCheckToken(),Rn=nn?`#${$i}=${encodeURIComponent(nn)}`:"";return`${function Pf({config:I}){return I.emulator?ye(I,wl):`https://${I.authDomain}/${Qo}`}(I)}?${(0,te.Am)(xt).slice(1)}${Rn}`})).apply(this,arguments)}const oh="webStorageSupport",ah=class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Co,this._completeRedirectFn=zr,this._overrideRedirectResult=Tl}_openPopup(h,p,T,G){var ce=this;return(0,c.A)(function*(){var tt;zt(null===(tt=ce.eventManagers[h._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const xt=yield gc(h,p,T,Nt(),G);return function rh(I,h,p,T=500,G=600){const ce=Math.max((window.screen.availHeight-G)/2,0).toString(),tt=Math.max((window.screen.availWidth-T)/2,0).toString();let xt="";const nn=Object.assign(Object.assign({},td),{width:T.toString(),height:G.toString(),top:ce,left:tt}),Rn=(0,te.ZQ)().toLowerCase();p&&(xt=Fn(Rn)?"_blank":p),Lr(Rn)&&(h=h||"http://localhost",nn.scrollbars="yes");const Zn=Object.entries(nn).reduce((fo,[_a,Rc])=>`${fo}${_a}=${Rc},`,"");if(function se(I=(0,te.ZQ)()){var h;return Fi(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Rn)&&"_self"!==xt)return function Mf(I,h){const p=document.createElement("a");p.href=I,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",xt),new pc(null);const Xn=window.open(h||"",xt,Zn);De(Xn,I,"popup-blocked");try{Xn.focus()}catch{}return new pc(Xn)}(h,xt,ho())})()}_openRedirect(h,p,T,G){var ce=this;return(0,c.A)(function*(){return yield ce._originValidation(h),function rr(I){fi().location.href=I}(yield gc(h,p,T,Nt(),G)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:G,promise:ce}=this.eventManagers[p];return G?Promise.resolve(G):(zt(ce,"If manager is not set, promise should be"),ce)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,c.A)(function*(){const T=yield function Jc(I){return ed.apply(this,arguments)}(h),G=new tu(h);return T.register("authEvent",ce=>(De(null==ce?void 0:ce.authEvent,h,"invalid-auth-event"),{status:G.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:G},p.iframes[h._key()]=T,G})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(oh,{type:oh},G=>{var ce;const tt=null===(ce=null==G?void 0:G[0])||void 0===ce?void 0:ce[oh];void 0!==tt&&p(!!tt),_e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function eh(I){return Zc.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ve()||Sr()||Fi()}};class ga{constructor(h){this.factorId=h}_process(h,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,T);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ot("unexpected MultiFactorSessionType")}}}class Yo extends ga{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Yo(h)}_finalizeEnroll(h,p,T){return function co(I,h){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(I,h))}(h,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function D(I,h){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",Ke(I,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lh=(()=>{class I{constructor(){}static assertion(p){return Yo._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var uh="@firebase/auth";class Pg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,c.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h((null==T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rl(){return window}(0,te.XA)("authIdTokenMaxAge"),function Pn(I){nr=I}({loadJS:I=>new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=h,T.onerror=G=>{const ce=Me("internal-error");ce.customData=G,p(ce)},T.type="text/javascript",T.charset="UTF-8",function dh(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xu(I){(0,ne._registerComponent)(new be.uA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),G=h.getProvider("heartbeat"),ce=h.getProvider("app-check-internal"),{apiKey:tt,authDomain:xt}=T.options;De(tt&&!tt.includes(":"),"invalid-api-key",{appName:T.name});const nn={apiKey:tt,authDomain:xt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z(I)},Rn=new Bn(T,G,ce,nn);return function ri(I,h){const p=(null==h?void 0:h.persistence)||[],T=(Array.isArray(p)?p:[p]).map(cn);null!=h&&h.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(Rn,p),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new be.uA("auth-internal",h=>{const p=xn(h.getProvider("auth").getImmediate());return new Pg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(uh,"1.7.9",function Sl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ne.registerVersion)(uh,"1.7.9","esm2017")}("Browser");function el(){return el=(0,c.A)(function*(I,h,p){var T;const{BuildInfo:G}=Rl();zt(h.sessionId,"AuthEvent did not contain a session ID");const ce=yield function od(I){return ph.apply(this,arguments)}(h.sessionId),tt={};return Fi()?tt.ibi=G.packageName:_i()?tt.apn=G.packageName:_e(I,"operation-not-supported-in-this-environment"),G.displayName&&(tt.appDisplayName=G.displayName),tt.sessionId=ce,gc(I,p,h.type,void 0,null!==(T=h.eventId)&&void 0!==T?T:void 0,tt)}),el.apply(this,arguments)}function Na(){return(Na=(0,c.A)(function*(I){const{BuildInfo:h}=Rl(),p={};Fi()?p.iosBundleId=h.packageName:_i()?p.androidPackageName=h.packageName:_e(I,"operation-not-supported-in-this-environment"),yield nu(I,p)})).apply(this,arguments)}function fh(){return(fh=(0,c.A)(function*(I,h,p){const{cordova:T}=Rl();let G=()=>{};try{yield new Promise((ce,tt)=>{let xt=null;function nn(){var Xn;ce();const fo=null===(Xn=T.plugins.browsertab)||void 0===Xn?void 0:Xn.close;"function"==typeof fo&&fo(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Rn(){xt||(xt=window.setTimeout(()=>{tt(Me(I,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}h.addPassiveListener(nn),document.addEventListener("resume",Rn,!1),_i()&&document.addEventListener("visibilitychange",Zn,!1),G=()=>{h.removePassiveListener(nn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",Zn,!1),xt&&window.clearTimeout(xt)}})}finally{G()}})).apply(this,arguments)}function ph(){return(ph=(0,c.A)(function*(I){const h=function Ic(I){if(zt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const h=new ArrayBuffer(I.length),p=new Uint8Array(h);for(let T=0;T<I.length;T++)p[T]=I.charCodeAt(T);return p}(I),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class gh extends tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.A)(function*(){yield h.initPromise})()}}function Ec(I){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.A)(function*(I){const h=yield tl()._get(Cc(I));return h&&(yield tl()._remove(Cc(I))),h})).apply(this,arguments)}function sd(){const I=[];for(let p=0;p<20;p++){const T=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return I.join("")}function tl(){return cn(Ei)}function Cc(I){return Hn("authEvent",I.config.apiKey,I.name)}function Ml(I){if(null==I||!I.includes("?"))return{};const[h,...p]=I.split("?");return(0,te.I9)(p.join("?"))}const Tc=class mh{constructor(){this._redirectPersistence=Co,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zr,this._overrideRedirectResult=Tl}_initialize(h){var p=this;return(0,c.A)(function*(){const T=h._key();let G=p.eventManagers.get(T);return G||(G=new gh(h),p.eventManagers.set(T,G),p.attachCallbackListeners(h,G)),G})()}_openPopup(h){_e(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,T,G){var ce=this;return(0,c.A)(function*(){!function $o(I){var h,p,T,G,ce,tt,xt,nn,Rn,Zn;const Xn=Rl();De("function"==typeof(null===(h=null==Xn?void 0:Xn.universalLinks)||void 0===h?void 0:h.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(typeof(null===(p=null==Xn?void 0:Xn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(ce=null===(G=null===(T=null==Xn?void 0:Xn.cordova)||void 0===T?void 0:T.plugins)||void 0===G?void 0:G.browsertab)||void 0===ce?void 0:ce.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(nn=null===(xt=null===(tt=null==Xn?void 0:Xn.cordova)||void 0===tt?void 0:tt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===nn?void 0:nn.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Zn=null===(Rn=null==Xn?void 0:Xn.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===Zn?void 0:Zn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const tt=yield ce._initialize(h);yield tt.initialized(),tt.resetRedirect(),function eu(){pa.clear()}(),yield ce._originValidation(h);const xt=function ma(I,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:sd(),postBody:null,tenantId:I.tenantId,error:Me(I,"no-auth-event")}}(h,T,G);yield function xg(I,h){return tl()._set(Cc(I),h)}(h,xt);const nn=yield function rd(I,h,p){return el.apply(this,arguments)}(h,xt,p),Rn=yield function hh(I){const{cordova:h}=Rl();return new Promise(p=>{h.plugins.browsertab.isAvailable(T=>{let G=null;T?h.plugins.browsertab.openUrl(I):G=h.InAppBrowser.open(I,function gr(I=(0,te.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),p(G)})})}(nn);return function yc(I,h,p){return fh.apply(this,arguments)}(h,tt,Rn)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function id(I){return Na.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:T,handleOpenURL:G,BuildInfo:ce}=Rl(),tt=setTimeout((0,c.A)(function*(){yield Ec(h),p.onEvent(Oa())}),500),xt=function(){var Zn=(0,c.A)(function*(Xn){clearTimeout(tt);const fo=yield Ec(h);let _a=null;fo&&null!=Xn&&Xn.url&&(_a=function Of(I,h){var p,T;const G=function ad(I){const h=Ml(I),p=h.link?decodeURIComponent(h.link):void 0,T=Ml(p).link,G=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ml(G).link||G||T||p||I}(h);if(G.includes("/__/auth/callback")){const ce=Ml(G),tt=ce.firebaseError?function ou(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(ce.firebaseError)):null,xt=null===(T=null===(p=null==tt?void 0:tt.code)||void 0===p?void 0:p.split("auth/"))||void 0===T?void 0:T[1],nn=xt?Me(xt):null;return nn?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(fo,Xn.url)),p.onEvent(_a||Oa())});return function(fo){return Zn.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,xt);const nn=G,Rn=`${ce.packageName.toLowerCase()}://`;Rl().handleOpenURL=function(){var Zn=(0,c.A)(function*(Xn){if(Xn.toLowerCase().startsWith(Rn)&&xt({url:Xn}),"function"==typeof nn)try{nn(Xn)}catch(fo){console.error(fo)}});return function(Xn){return Zn.apply(this,arguments)}}()}};function Oa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function ia(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function ld(I=(0,te.ZQ)()){return!("file:"!==ia()&&"ionic:"!==ia()&&"capacitor:"!==ia()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pl(){try{const I=self.localStorage,h=ho();if(I)return I.setItem(h,"1"),I.removeItem(h),!function ud(I=(0,te.ZQ)()){return function Dc(){return(0,te.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Ng(I=(0,te.ZQ)()){return/Edge\/\d+/.test(I)}(I)}()||(0,te.zW)()}catch{return bc()&&(0,te.zW)()}return!1}function bc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wc(){return(function Po(){return"http:"===ia()||"https:"===ia()}()||(0,te.sr)()||ld())&&!function kf(){return(0,te.lV)()||(0,te.Ll)()}()&&Pl()&&!bc()}function rl(){return ld()&&typeof document<"u"}function cd(){return(cd=(0,c.A)(function*(){return!!rl()&&new Promise(I=>{const h=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),I(!0)})})})).apply(this,arguments)}const Fs={LOCAL:"local",NONE:"none",SESSION:"session"},Lu=De,yh="persistence";function dd(I){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,c.A)(function*(I){yield I._initializationPromise;const h=Eh(),p=Hn(yh,I.config.apiKey,I.name);h&&h.setItem(p,I._getPersistence())})).apply(this,arguments)}function Eh(){var I;try{return(null===(I=function Og(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Ff=De;class va{constructor(){this.browserResolver=cn(ah),this.cordovaResolver=cn(Tc),this.underlyingResolver=null,this._redirectPersistence=Co,this._completeRedirectFn=zr,this._overrideRedirectResult=Tl}_initialize(h){var p=this;return(0,c.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,T,G){var ce=this;return(0,c.A)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(h,p,T,G)})()}_openRedirect(h,p,T,G){var ce=this;return(0,c.A)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(h,p,T,G)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return rl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ff(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.A)(function*(){if(h.underlyingResolver)return;const p=yield function Fu(){return cd.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Zo(I){return I.unwrap()}function Ah(I){return xl(I)}function xl(I){const{_tokenResponse:h}=I instanceof te.g?I.customData:I;if(!h)return null;if(!(I instanceof te.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Jl.credentialFromResult(I);const p=h.providerId;if(!p||p===je.PASSWORD)return null;let T;switch(p){case je.GOOGLE:T=fl;break;case je.FACEBOOK:T=Rs;break;case je.GITHUB:T=Ms;break;case je.TWITTER:T=Go;break;default:const{oauthIdToken:G,oauthAccessToken:ce,oauthTokenSecret:tt,pendingToken:xt,nonce:nn}=h;return ce||tt||G||xt?xt?p.startsWith("saml.")?xr._create(p,xt):Tn._fromParams({providerId:p,signInMethod:p,pendingToken:xt,idToken:G,accessToken:ce}):new zo(p).credential({idToken:G,accessToken:ce,rawNonce:nn}):null}return I instanceof te.g?T.credentialFromError(I):T.credentialFromResult(I)}function So(I,h){return h.catch(p=>{throw p instanceof te.g&&function Vf(I,h){var p;const T=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new ka(I,function Yn(I,h){var p;const T=(0,te.Ku)(I),G=h;return De(h.customData.operationType,T,"argument-error"),De(null===(p=G.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),un._fromError(T,G)}(I,h));else if(T){const G=xl(h),ce=h;G&&(ce.credential=G,ce.tenantId=T.tenantId||void 0,ce.email=T.email||void 0,ce.phoneNumber=T.phoneNumber||void 0)}}(I,p),p}).then(p=>{const G=p.user;return{operationType:p.operationType,credential:Ah(p),additionalUserInfo:xe(p),user:Fa.getOrCreate(G)}})}function au(I,h){return il.apply(this,arguments)}function il(){return(il=(0,c.A)(function*(I,h){const p=yield h;return{verificationId:p.verificationId,confirm:T=>So(I,p.confirm(T))}})).apply(this,arguments)}class ka{constructor(h,p){this.resolver=p,this.auth=function Lf(I){return I.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return So(Zo(this.auth),this.resolver.resolveSignIn(h))}}class Fa{constructor(h){this._delegate=h,this.multiFactor=function Ks(I){const h=(0,te.Ku)(I);return Gi.has(h)||Gi.set(h,Ti._fromUser(h)),Gi.get(h)}(h)}static getOrCreate(h){return Fa.USER_MAP.has(h)||Fa.USER_MAP.set(h,new Fa(h)),Fa.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,c.A)(function*(){return So(p.auth,w(p._delegate,h))})()}linkWithPhoneNumber(h,p){var T=this;return(0,c.A)(function*(){return au(T.auth,function oc(I,h,p){return qa.apply(this,arguments)}(T._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,c.A)(function*(){return So(p.auth,function ac(I,h,p){return qc.apply(this,arguments)}(p._delegate,h,va))})()}linkWithRedirect(h){var p=this;return(0,c.A)(function*(){return yield dd(xn(p.auth)),bl(p._delegate,h,va)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,c.A)(function*(){return So(p.auth,Ie(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return au(this.auth,function Kc(I,h,p){return El.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return So(this.auth,function wg(I,h,p){return us.apply(this,arguments)}(this._delegate,h,va))}reauthenticateWithRedirect(h){var p=this;return(0,c.A)(function*(){return yield dd(xn(p.auth)),Tf(p._delegate,h,va)})()}sendEmailVerification(h){return function zl(I,h){return Si.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,c.A)(function*(){return yield function xs(I,h){return Ko.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Sa(I,h){const p=(0,te.Ku)(I);return(0,ne._isFirebaseServerApp)(p.auth.app)?Promise.reject(at(p.auth)):Uo(p,h,null)}(this._delegate,h)}updatePassword(h){return function Js(I,h){return Uo((0,te.Ku)(I),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ls(I,h){return fa.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ca(I,h){return gl.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function ua(I,h,p){return Gs.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fa.USER_MAP=new WeakMap;const La=De;let Nl=(()=>{class I{constructor(p,T){if(this.app=p,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=p.options;La(G,"invalid-api-key",{appName:p.name}),La(G,"invalid-api-key",{appName:p.name});const ce=typeof window<"u"?va:void 0;this._delegate=T.initialize({options:{persistence:Uf(G,p.name),popupRedirectResolver:ce}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,T){!function Gn(I,h,p){const T=xn(I);De(T._canInitEmulator,T,"emulator-config-failed"),De(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const G=!(null==p||!p.disableWarnings),ce=dr(h),{host:tt,port:xt}=function di(I){const h=dr(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(T);if(G){const ce=G[1];return{host:ce,port:bi(T.substr(ce.length+1))}}{const[ce,tt]=T.split(":");return{host:ce,port:bi(tt)}}}(h);T.config.emulator={url:`${ce}//${tt}${null===xt?"":`:${xt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:tt,port:xt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Do(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,p,T)}applyActionCode(p){return function Ui(I,h){return no.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return rs(this._delegate,p)}confirmPasswordReset(p,T){return function qn(I,h,p){return Yi.apply(this,arguments)}(this._delegate,p,T)}createUserWithEmailAndPassword(p,T){var G=this;return(0,c.A)(function*(){return So(G._delegate,function yu(I,h,p){return pl.apply(this,arguments)}(G._delegate,p,T))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function wa(I,h){return za.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function ba(I,h){const p=Ro.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,c.A)(function*(){La(wc(),p._delegate,"operation-not-supported-in-this-environment");const T=yield function bf(I,h){return en.apply(this,arguments)}(p._delegate,va);return T?So(p._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function vh(I,h){xn(I)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,T,G){const{next:ce,error:tt,complete:xt}=Fg(p,T,G);return this._delegate.onAuthStateChanged(ce,tt,xt)}onIdTokenChanged(p,T,G){const{next:ce,error:tt,complete:xt}=Fg(p,T,G);return this._delegate.onIdTokenChanged(ce,tt,xt)}sendSignInLinkToEmail(p,T){return function ja(I,h,p){return la.apply(this,arguments)}(this._delegate,p,T)}sendPasswordResetEmail(p,T){return function jr(I,h,p){return zi.apply(this,arguments)}(this._delegate,p,T||void 0)}setPersistence(p){var T=this;return(0,c.A)(function*(){let G;switch(function Ih(I,h){Lu(Object.values(Fs).includes(h),I,"invalid-persistence-type"),(0,te.lV)()?Lu(h!==Fs.SESSION,I,"unsupported-persistence-type"):(0,te.Ll)()?Lu(h===Fs.NONE,I,"unsupported-persistence-type"):bc()?Lu(h===Fs.NONE||h===Fs.LOCAL&&(0,te.zW)(),I,"unsupported-persistence-type"):Lu(h===Fs.NONE||Pl(),I,"unsupported-persistence-type")}(T._delegate,p),p){case Fs.SESSION:G=Co;break;case Fs.LOCAL:G=(yield cn(Yl)._isAvailable())?Yl:Ei;break;case Fs.NONE:G=$r;break;default:return _e("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return So(this._delegate,function Ta(I){return fs.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return So(this._delegate,v(this._delegate,p))}signInWithCustomToken(p){return So(this._delegate,function wn(I,h){return Ln.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,T){return So(this._delegate,function Zs(I,h,p){return(0,ne._isFirebaseServerApp)(I.app)?Promise.reject(at(I)):v((0,te.Ku)(I),Ss.credential(h,p)).catch(function(){var T=(0,c.A)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&Jn(I),G});return function(G){return T.apply(this,arguments)}}())}(this._delegate,p,T))}signInWithEmailLink(p,T){return So(this._delegate,function Ha(I,h,p){return Hs.apply(this,arguments)}(this._delegate,p,T))}signInWithPhoneNumber(p,T){return au(this._delegate,function vs(I,h,p){return ks.apply(this,arguments)}(this._delegate,p,T))}signInWithPopup(p){var T=this;return(0,c.A)(function*(){return La(wc(),T._delegate,"operation-not-supported-in-this-environment"),So(T._delegate,function Af(I,h,p){return Cl.apply(this,arguments)}(T._delegate,p,va))})()}signInWithRedirect(p){var T=this;return(0,c.A)(function*(){return La(wc(),T._delegate,"operation-not-supported-in-this-environment"),yield dd(T._delegate),Du(T._delegate,p,va)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function is(I,h){return Da.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Fs,I})();function Fg(I,h,p){let T=I;"function"!=typeof I&&({next:T,error:h,complete:p}=I);const G=T;return{next:tt=>G(tt&&Fa.getOrCreate(tt)),error:h,complete:p}}function Uf(I,h){const p=function kg(I,h){const p=Eh();if(!p)return[];const T=Hn(yh,I,h);switch(p.getItem(T)){case Fs.NONE:return[$r];case Fs.LOCAL:return[Yl,Co];case Fs.SESSION:return[Co];default:return[]}}(I,h);if(typeof self<"u"&&!p.includes(Yl)&&p.push(Yl),typeof window<"u")for(const T of[Ei,Co])p.includes(T)||p.push(T);return p.includes($r)||p.push($r),p}class Ls{constructor(){this.providerId="phone",this._delegate=new Jl(Zo(f.A.auth()))}static credential(h,p){return Jl.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Ls.PHONE_SIGN_IN_METHOD=Jl.PHONE_SIGN_IN_METHOD,Ls.PROVIDER_ID=Jl.PROVIDER_ID;const Vu=De;class hd{constructor(h,p,T=f.A.app()){var G;Vu(null===(G=T.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new qo(T.auth(),h,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fv(I){I.INTERNAL.registerComponent(new be.uA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),T=h.getProvider("auth");return new Nl(p,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ss,FacebookAuthProvider:Rs,GithubAuthProvider:Ms,GoogleAuthProvider:fl,OAuthProvider:zo,SAMLAuthProvider:Xi,PhoneAuthProvider:Ls,PhoneMultiFactorGenerator:lh,RecaptchaVerifier:hd,TwitterAuthProvider:Go,Auth:Nl,AuthCredential:lo,Error:te.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},4341:(mn,_t,k)=>{"use strict";k.d(_t,{MJ:()=>dr,JD:()=>Tn,gE:()=>Pr,j4:()=>$t,YN:()=>sa,zX:()=>Ho,VZ:()=>zo,cz:()=>at,kq:()=>ct,vO:()=>bt,BC:()=>vn,cb:()=>hn,cV:()=>pi,vS:()=>Vi,X1:()=>Ys,YS:()=>Ms,k0:()=>De,qT:()=>_o});var c=k(4438),f=k(177),ne=k(8455),te=k(1985),ie=k(3073),ae=k(8750),be=k(3794),Be=k(4360),je=k(6450),Ee=k(8496),$e=k(1413),qe=k(6354);let He=(()=>{var W;class v{constructor(w,U){this._renderer=w,this._elementRef=U,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(w,U){this._renderer.setProperty(this._elementRef.nativeElement,w,U)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(c.sFG),c.rXU(c.aKT))},W.\u0275dir=c.FsC({type:W}),v})(),Ze=(()=>{var W;class v extends He{}return(W=v).\u0275fac=(()=>{let C;return function(U){return(C||(C=c.xGo(W)))(U||W)}})(),W.\u0275dir=c.FsC({type:W,features:[c.Vt3]}),v})();const ct=new c.nKC(""),It={provide:ct,useExisting:(0,c.Rfq)(()=>_e),multi:!0},Se=new c.nKC("");let _e=(()=>{var W;class v extends He{constructor(w,U,Ie){super(w,U),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mt(){const W=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(w){this.setProperty("value",null==w?"":w)}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Se,8))},W.\u0275dir=c.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,U){1&w&&c.bIt("input",function(pt){return U._handleInput(pt.target.value)})("blur",function(){return U.onTouched()})("compositionstart",function(){return U._compositionStart()})("compositionend",function(pt){return U._compositionEnd(pt.target.value)})},features:[c.Jv_([It]),c.Vt3]}),v})();function Me(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function dt(W){return null!=W&&"number"==typeof W.length}const at=new c.nKC(""),Mt=new c.nKC(""),pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class De{static min(v){return Ot(v)}static max(v){return zt(v)}static required(v){return Nt(v)}static requiredTrue(v){return function Et(W){return!0===W.value?null:{required:!0}}(v)}static email(v){return function Dn(W){return Me(W.value)||pe.test(W.value)?null:{email:!0}}(v)}static minLength(v){return function Fe(W){return v=>Me(v.value)||!dt(v.value)?null:v.value.length<W?{minlength:{requiredLength:W,actualLength:v.value.length}}:null}(v)}static maxLength(v){return function Y(W){return v=>dt(v.value)&&v.value.length>W?{maxlength:{requiredLength:W,actualLength:v.value.length}}:null}(v)}static pattern(v){return function ee(W){if(!W)return ye;let v,C;return"string"==typeof W?(C="","^"!==W.charAt(0)&&(C+="^"),C+=W,"$"!==W.charAt(W.length-1)&&(C+="$"),v=new RegExp(C)):(C=W.toString(),v=W),w=>{if(Me(w.value))return null;const U=w.value;return v.test(U)?null:{pattern:{requiredPattern:C,actualValue:U}}}}(v)}static nullValidator(v){return null}static compose(v){return lt(v)}static composeAsync(v){return An(v)}}function Ot(W){return v=>{if(Me(v.value)||Me(W))return null;const C=parseFloat(v.value);return!isNaN(C)&&C<W?{min:{min:W,actual:v.value}}:null}}function zt(W){return v=>{if(Me(v.value)||Me(W))return null;const C=parseFloat(v.value);return!isNaN(C)&&C>W?{max:{max:W,actual:v.value}}:null}}function Nt(W){return Me(W.value)?{required:!0}:null}function ye(W){return null}function re(W){return null!=W}function Ae(W){return(0,c.jNT)(W)?(0,ne.H)(W):W}function Qe(W){let v={};return W.forEach(C=>{v=null!=C?{...v,...C}:v}),0===Object.keys(v).length?null:v}function Ke(W,v){return v.map(C=>C(W))}function rt(W){return W.map(v=>function Ve(W){return!W.validate}(v)?v:C=>v.validate(C))}function lt(W){if(!W)return null;const v=W.filter(re);return 0==v.length?null:function(C){return Qe(Ke(C,v))}}function St(W){return null!=W?lt(rt(W)):null}function An(W){if(!W)return null;const v=W.filter(re);return 0==v.length?null:function(C){return function ge(...W){const v=(0,be.ms)(W),{args:C,keys:w}=(0,ie.D)(W),U=new te.c(Ie=>{const{length:pt}=C;if(!pt)return void Ie.complete();const Qt=new Array(pt);let yn=pt,wn=pt;for(let Ln=0;Ln<pt;Ln++){let hr=!1;(0,ae.Tg)(C[Ln]).subscribe((0,Be._)(Ie,ni=>{hr||(hr=!0,wn--),Qt[Ln]=ni},()=>yn--,void 0,()=>{(!yn||!hr)&&(wn||Ie.next(w?(0,Ee.e)(w,Qt):Qt),Ie.complete())}))}});return v?U.pipe((0,je.I)(v)):U}(Ke(C,v).map(Ae)).pipe((0,qe.T)(Qe))}}function sn(W){return null!=W?An(rt(W)):null}function dn(W,v){return null===W?[v]:Array.isArray(W)?[...W,v]:[W,v]}function Zt(W){return W._rawValidators}function Mn(W){return W._rawAsyncValidators}function En(W){return W?Array.isArray(W)?W:[W]:[]}function _n(W,v){return Array.isArray(W)?W.includes(v):W===v}function Kt(W,v){const C=En(v);return En(W).forEach(U=>{_n(C,U)||C.push(U)}),C}function ir(W,v){return En(v).filter(C=>!_n(W,C))}class Tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(v){this._rawValidators=v||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(v){this._rawAsyncValidators=v||[],this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(v){this._onDestroyCallbacks.push(v)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(v=>v()),this._onDestroyCallbacks=[]}reset(v=void 0){this.control&&this.control.reset(v)}hasError(v,C){return!!this.control&&this.control.hasError(v,C)}getError(v,C){return this.control?this.control.getError(v,C):null}}class Pt extends Tt{get formDirective(){return null}get path(){return null}}class bt extends Tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Le{constructor(v){this._cd=v}get isTouched(){var v,C,w;return null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||null===(C=v._touched)||void 0===C||C.call(v),!(null===(w=this._cd)||void 0===w||null===(w=w.control)||void 0===w||!w.touched)}get isUntouched(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.untouched)}get isPristine(){var v,C,w;return null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||null===(C=v._pristine)||void 0===C||C.call(v),!(null===(w=this._cd)||void 0===w||null===(w=w.control)||void 0===w||!w.pristine)}get isDirty(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.dirty)}get isValid(){var v,C,w;return null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||null===(C=v._status)||void 0===C||C.call(v),!(null===(w=this._cd)||void 0===w||null===(w=w.control)||void 0===w||!w.valid)}get isInvalid(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.invalid)}get isPending(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.pending)}get isSubmitted(){var v,C,w;return null===(v=this._cd)||void 0===v||null===(C=v._submitted)||void 0===C||C.call(v),!(null===(w=this._cd)||void 0===w||!w.submitted)}}let vn=(()=>{var W;class v extends Le{constructor(w){super(w)}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(bt,2))},W.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,U){2&w&&c.AVh("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)},features:[c.Vt3]}),v})(),hn=(()=>{var W;class v extends Le{constructor(w){super(w)}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(Pt,10))},W.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,U){2&w&&c.AVh("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)("ng-submitted",U.isSubmitted)},features:[c.Vt3]}),v})();const At="VALID",Je="INVALID",it="PENDING",Ht="DISABLED";class Te{}class Re extends Te{constructor(v,C){super(),this.value=v,this.source=C}}class We extends Te{constructor(v,C){super(),this.pristine=v,this.source=C}}class Lt extends Te{constructor(v,C){super(),this.touched=v,this.source=C}}class ft extends Te{constructor(v,C){super(),this.status=v,this.source=C}}class pn extends Te{constructor(v){super(),this.source=v}}class cn extends Te{constructor(v){super(),this.source=v}}function Mr(W){return(Un(W)?W.validators:W)||null}function Hn(W,v){return(Un(v)?v.asyncValidators:W)||null}function Un(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Fn{constructor(v,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new $e.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(v),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(v){this._rawValidators=this._composedValidatorFn=v}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(v){this._rawAsyncValidators=this._composedAsyncValidatorFn=v}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(v){(0,c.O8t)(()=>this.statusReactive.set(v))}get valid(){return this.status===At}get invalid(){return this.status===Je}get pending(){return this.status==it}get disabled(){return this.status===Ht}get enabled(){return this.status!==Ht}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(v){(0,c.O8t)(()=>this.pristineReactive.set(v))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(v){(0,c.O8t)(()=>this.touchedReactive.set(v))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(v){this._assignValidators(v)}setAsyncValidators(v){this._assignAsyncValidators(v)}addValidators(v){this.setValidators(Kt(v,this._rawValidators))}addAsyncValidators(v){this.setAsyncValidators(Kt(v,this._rawAsyncValidators))}removeValidators(v){this.setValidators(ir(v,this._rawValidators))}removeAsyncValidators(v){this.setAsyncValidators(ir(v,this._rawAsyncValidators))}hasValidator(v){return _n(this._rawValidators,v)}hasAsyncValidator(v){return _n(this._rawAsyncValidators,v)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(v={}){var C;const w=!1===this.touched;this.touched=!0;const U=null!==(C=v.sourceControl)&&void 0!==C?C:this;this._parent&&!v.onlySelf&&this._parent.markAsTouched({...v,sourceControl:U}),w&&!1!==v.emitEvent&&this._events.next(new Lt(!0,U))}markAllAsTouched(v={}){this.markAsTouched({onlySelf:!0,emitEvent:v.emitEvent,sourceControl:this}),this._forEachChild(C=>C.markAllAsTouched(v))}markAsUntouched(v={}){var C;const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const U=null!==(C=v.sourceControl)&&void 0!==C?C:this;this._forEachChild(Ie=>{Ie.markAsUntouched({onlySelf:!0,emitEvent:v.emitEvent,sourceControl:U})}),this._parent&&!v.onlySelf&&this._parent._updateTouched(v,U),w&&!1!==v.emitEvent&&this._events.next(new Lt(!1,U))}markAsDirty(v={}){var C;const w=!0===this.pristine;this.pristine=!1;const U=null!==(C=v.sourceControl)&&void 0!==C?C:this;this._parent&&!v.onlySelf&&this._parent.markAsDirty({...v,sourceControl:U}),w&&!1!==v.emitEvent&&this._events.next(new We(!1,U))}markAsPristine(v={}){var C;const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const U=null!==(C=v.sourceControl)&&void 0!==C?C:this;this._forEachChild(Ie=>{Ie.markAsPristine({onlySelf:!0,emitEvent:v.emitEvent})}),this._parent&&!v.onlySelf&&this._parent._updatePristine(v,U),w&&!1!==v.emitEvent&&this._events.next(new We(!0,U))}markAsPending(v={}){var C;this.status=it;const w=null!==(C=v.sourceControl)&&void 0!==C?C:this;!1!==v.emitEvent&&(this._events.next(new ft(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!v.onlySelf&&this._parent.markAsPending({...v,sourceControl:w})}disable(v={}){var C;const w=this._parentMarkedDirty(v.onlySelf);this.status=Ht,this.errors=null,this._forEachChild(Ie=>{Ie.disable({...v,onlySelf:!0})}),this._updateValue();const U=null!==(C=v.sourceControl)&&void 0!==C?C:this;!1!==v.emitEvent&&(this._events.next(new Re(this.value,U)),this._events.next(new ft(this.status,U)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...v,skipPristineCheck:w},this),this._onDisabledChange.forEach(Ie=>Ie(!0))}enable(v={}){const C=this._parentMarkedDirty(v.onlySelf);this.status=At,this._forEachChild(w=>{w.enable({...v,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent}),this._updateAncestors({...v,skipPristineCheck:C},this),this._onDisabledChange.forEach(w=>w(!1))}_updateAncestors(v,C){this._parent&&!v.onlySelf&&(this._parent.updateValueAndValidity(v),v.skipPristineCheck||this._parent._updatePristine({},C),this._parent._updateTouched({},C))}setParent(v){this._parent=v}getRawValue(){return this.value}updateValueAndValidity(v={}){var C;if(this._setInitialStatus(),this._updateValue(),this.enabled){const U=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===At||this.status===it)&&this._runAsyncValidator(U,v.emitEvent)}const w=null!==(C=v.sourceControl)&&void 0!==C?C:this;!1!==v.emitEvent&&(this._events.next(new Re(this.value,w)),this._events.next(new ft(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!v.onlySelf&&this._parent.updateValueAndValidity({...v,sourceControl:w})}_updateTreeValidity(v={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(v)),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ht:At}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(v,C){if(this.asyncValidator){this.status=it,this._hasOwnPendingAsyncValidator={emitEvent:!1!==C};const w=Ae(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(U=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(U,{emitEvent:C,shouldHaveEmitted:v})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var v,C;this._asyncValidationSubscription.unsubscribe();const w=null!==(v=null===(C=this._hasOwnPendingAsyncValidator)||void 0===C?void 0:C.emitEvent)&&void 0!==v&&v;return this._hasOwnPendingAsyncValidator=null,w}return!1}setErrors(v,C={}){this.errors=v,this._updateControlsErrors(!1!==C.emitEvent,this,C.shouldHaveEmitted)}get(v){let C=v;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((w,U)=>w&&w._find(U),this)}getError(v,C){const w=C?this.get(C):this;return w&&w.errors?w.errors[v]:null}hasError(v,C){return!!this.getError(v,C)}get root(){let v=this;for(;v._parent;)v=v._parent;return v}_updateControlsErrors(v,C,w){this.status=this._calculateStatus(),v&&this.statusChanges.emit(this.status),(v||w)&&this._events.next(new ft(this.status,C)),this._parent&&this._parent._updateControlsErrors(v,C,w)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Ht:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(it)?it:this._anyControlsHaveStatus(Je)?Je:At}_anyControlsHaveStatus(v){return this._anyControls(C=>C.status===v)}_anyControlsDirty(){return this._anyControls(v=>v.dirty)}_anyControlsTouched(){return this._anyControls(v=>v.touched)}_updatePristine(v,C){const w=!this._anyControlsDirty(),U=this.pristine!==w;this.pristine=w,this._parent&&!v.onlySelf&&this._parent._updatePristine(v,C),U&&this._events.next(new We(this.pristine,C))}_updateTouched(v={},C){this.touched=this._anyControlsTouched(),this._events.next(new Lt(this.touched,C)),this._parent&&!v.onlySelf&&this._parent._updateTouched(v,C)}_registerOnCollectionChange(v){this._onCollectionChange=v}_setUpdateStrategy(v){Un(v)&&null!=v.updateOn&&(this._updateOn=v.updateOn)}_parentMarkedDirty(v){return!v&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(v){return null}_assignValidators(v){this._rawValidators=Array.isArray(v)?v.slice():v,this._composedValidatorFn=function $r(W){return Array.isArray(W)?St(W):W||null}(this._rawValidators)}_assignAsyncValidators(v){this._rawAsyncValidators=Array.isArray(v)?v.slice():v,this._composedAsyncValidatorFn=function Er(W){return Array.isArray(W)?sn(W):W||null}(this._rawAsyncValidators)}}class Pr extends Fn{constructor(v,C,w){super(Mr(C),Hn(w,C)),this.controls=v,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(v,C){return this.controls[v]?this.controls[v]:(this.controls[v]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(v,C,w={}){this.registerControl(v,C),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}removeControl(v,C={}){this.controls[v]&&this.controls[v]._registerOnCollectionChange(()=>{}),delete this.controls[v],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(v,C,w={}){this.controls[v]&&this.controls[v]._registerOnCollectionChange(()=>{}),delete this.controls[v],C&&this.registerControl(v,C),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}contains(v){return this.controls.hasOwnProperty(v)&&this.controls[v].enabled}setValue(v,C={}){(function Sr(W,v,C){W._forEachChild((w,U)=>{if(void 0===C[U])throw new c.wOt(1002,"")})})(this,0,v),Object.keys(v).forEach(w=>{(function Lr(W,v,C){const w=W.controls;if(!(v?Object.keys(w):w).length)throw new c.wOt(1e3,"");if(!w[C])throw new c.wOt(1001,"")})(this,!0,w),this.controls[w].setValue(v[w],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(v,C={}){null!=v&&(Object.keys(v).forEach(w=>{const U=this.controls[w];U&&U.patchValue(v[w],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(v={},C={}){this._forEachChild((w,U)=>{w.reset(v?v[U]:null,{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C,this),this._updateTouched(C,this),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(v,C,w)=>(v[w]=C.getRawValue(),v))}_syncPendingControls(){let v=this._reduceChildren(!1,(C,w)=>!!w._syncPendingControls()||C);return v&&this.updateValueAndValidity({onlySelf:!0}),v}_forEachChild(v){Object.keys(this.controls).forEach(C=>{const w=this.controls[C];w&&v(w,C)})}_setUpControls(){this._forEachChild(v=>{v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(v){for(const[C,w]of Object.entries(this.controls))if(this.contains(C)&&v(w))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,w,U)=>((w.enabled||this.disabled)&&(C[U]=w.value),C))}_reduceChildren(v,C){let w=v;return this._forEachChild((U,Ie)=>{w=C(w,U,Ie)}),w}_allControlsDisabled(){for(const v of Object.keys(this.controls))if(this.controls[v].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(v){return this.controls.hasOwnProperty(v)?this.controls[v]:null}}const se=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>K}),K="always";function ve(W,v){return[...v.path,W]}function Z(W,v,C=K){var w,U;Bt(W,v),v.valueAccessor.writeValue(W.value),(W.disabled||"always"===C)&&(null===(w=(U=v.valueAccessor).setDisabledState)||void 0===w||w.call(U,W.disabled)),function Bn(W,v){v.valueAccessor.registerOnChange(C=>{W._pendingValue=C,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&$n(W,v)})}(W,v),function nr(W,v){const C=(w,U)=>{v.valueAccessor.writeValue(w),U&&v.viewToModelUpdate(w)};W.registerOnChange(C),v._registerOnDestroy(()=>{W._unregisterOnChange(C)})}(W,v),function xn(W,v){v.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&$n(W,v),"submit"!==W.updateOn&&W.markAsTouched()})}(W,v),function vt(W,v){if(v.valueAccessor.setDisabledState){const C=w=>{v.valueAccessor.setDisabledState(w)};W.registerOnDisabledChange(C),v._registerOnDestroy(()=>{W._unregisterOnDisabledChange(C)})}}(W,v)}function J(W,v,C=!0){const w=()=>{};v.valueAccessor&&(v.valueAccessor.registerOnChange(w),v.valueAccessor.registerOnTouched(w)),rn(W,v),W&&(v._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function we(W,v){W.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(v)})}function Bt(W,v){const C=Zt(W);null!==v.validator?W.setValidators(dn(C,v.validator)):"function"==typeof C&&W.setValidators([C]);const w=Mn(W);null!==v.asyncValidator?W.setAsyncValidators(dn(w,v.asyncValidator)):"function"==typeof w&&W.setAsyncValidators([w]);const U=()=>W.updateValueAndValidity();we(v._rawValidators,U),we(v._rawAsyncValidators,U)}function rn(W,v){let C=!1;if(null!==W){if(null!==v.validator){const U=Zt(W);if(Array.isArray(U)&&U.length>0){const Ie=U.filter(pt=>pt!==v.validator);Ie.length!==U.length&&(C=!0,W.setValidators(Ie))}}if(null!==v.asyncValidator){const U=Mn(W);if(Array.isArray(U)&&U.length>0){const Ie=U.filter(pt=>pt!==v.asyncValidator);Ie.length!==U.length&&(C=!0,W.setAsyncValidators(Ie))}}}const w=()=>{};return we(v._rawValidators,w),we(v._rawAsyncValidators,w),C}function $n(W,v){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),v.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Pn(W,v){Bt(W,v)}function lr(W,v){if(!W.hasOwnProperty("model"))return!1;const C=W.model;return!!C.isFirstChange()||!Object.is(v,C.currentValue)}function ci(W,v){W._syncPendingControls(),v.forEach(C=>{const w=C.control;"submit"===w.updateOn&&w._pendingChange&&(C.viewToModelUpdate(w._pendingValue),w._pendingChange=!1)})}function vr(W,v){if(!v)return null;let C,w,U;return Array.isArray(v),v.forEach(Ie=>{Ie.constructor===_e?C=Ie:function xo(W){return Object.getPrototypeOf(W.constructor)===Ze}(Ie)?w=Ie:U=Ie}),U||w||C||null}const Di={provide:Pt,useExisting:(0,c.Rfq)(()=>pi)},Pi=Promise.resolve();let pi=(()=>{var W;class v extends Pt{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(w,U,Ie){super(),this.callSetDisabledState=Ie,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Pr({},St(w),sn(U))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(w){Pi.then(()=>{const U=this._findContainer(w.path);w.control=U.registerControl(w.name,w.control),Z(w.control,w,this.callSetDisabledState),w.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(w)})}getControl(w){return this.form.get(w.path)}removeControl(w){Pi.then(()=>{const U=this._findContainer(w.path);U&&U.removeControl(w.name),this._directives.delete(w)})}addFormGroup(w){Pi.then(()=>{const U=this._findContainer(w.path),Ie=new Pr({});Pn(Ie,w),U.registerControl(w.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(w){Pi.then(()=>{const U=this._findContainer(w.path);U&&U.removeControl(w.name)})}getFormGroup(w){return this.form.get(w.path)}updateModel(w,U){Pi.then(()=>{this.form.get(w.path).setValue(U)})}setValue(w){this.control.setValue(w)}onSubmit(w){var U;return this.submittedReactive.set(!0),ci(this.form,this._directives),this.ngSubmit.emit(w),"dialog"===(null==w||null===(U=w.target)||void 0===U?void 0:U.method)}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(w){return w.pop(),w.length?this.form.get(w):this.form}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(at,10),c.rXU(Mt,10),c.rXU(se,8))},W.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(w,U){1&w&&c.bIt("submit",function(pt){return U.onSubmit(pt)})("reset",function(){return U.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Di]),c.Vt3]}),v})();function ri(W,v){const C=W.indexOf(v);C>-1&&W.splice(C,1)}function Gn(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const dr=class extends Fn{constructor(v=null,C,w){super(Mr(C),Hn(w,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(v),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Un(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Gn(v)?v.value:v)}setValue(v,C={}){this.value=this._pendingValue=v,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(w=>w(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(v,C={}){this.setValue(v,C)}reset(v=this.defaultValue,C={}){this._applyFormState(v),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(v){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(v){this._onChange.push(v)}_unregisterOnChange(v){ri(this._onChange,v)}registerOnDisabledChange(v){this._onDisabledChange.push(v)}_unregisterOnDisabledChange(v){ri(this._onDisabledChange,v)}_forEachChild(v){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(v){Gn(v)?(this.value=this._pendingValue=v.value,v.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=v}},ii={provide:bt,useExisting:(0,c.Rfq)(()=>Vi)},Li=Promise.resolve();let Vi=(()=>{var W;class v extends bt{constructor(w,U,Ie,pt,Qt,yn){super(),this._changeDetectorRef=Qt,this.callSetDisabledState=yn,this.control=new dr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=w,this._setValidators(U),this._setAsyncValidators(Ie),this.valueAccessor=vr(0,pt)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const U=w.name.previousValue;this.formDirective.removeControl({name:U,path:this._getPath(U)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),lr(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Li.then(()=>{var U;this.control.setValue(w,{emitViewToModelChange:!1}),null===(U=this._changeDetectorRef)||void 0===U||U.markForCheck()})}_updateDisabled(w){const U=w.isDisabled.currentValue,Ie=0!==U&&(0,c.L39)(U);Li.then(()=>{var pt;Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),null===(pt=this._changeDetectorRef)||void 0===pt||pt.markForCheck()})}_getPath(w){return this._parent?ve(w,this._parent):[w]}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(Pt,9),c.rXU(at,10),c.rXU(Mt,10),c.rXU(ct,10),c.rXU(c.gRc,8),c.rXU(se,8))},W.\u0275dir=c.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([ii]),c.Vt3,c.OA$]}),v})(),_o=(()=>{var W;class v{}return(W=v).\u0275fac=function(w){return new(w||W)},W.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),v})();const b=new c.nKC(""),Xe={provide:Pt,useExisting:(0,c.Rfq)(()=>$t)};let $t=(()=>{var W;class v extends Pt{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(w){this._submittedReactive.set(w)}constructor(w,U,Ie){super(),this.callSetDisabledState=Ie,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(w),this._setAsyncValidators(U)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const U=this.form.get(w.path);return Z(U,w,this.callSetDisabledState),U.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),U}getControl(w){return this.form.get(w.path)}removeControl(w){J(w.control||null,w,!1),function ji(W,v){const C=W.indexOf(v);C>-1&&W.splice(C,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,U){this.form.get(w.path).setValue(U)}onSubmit(w){var U;return this._submittedReactive.set(!0),ci(this.form,this.directives),this.ngSubmit.emit(w),this.form._events.next(new pn(this.control)),"dialog"===(null==w||null===(U=w.target)||void 0===U?void 0:U.method)}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this._submittedReactive.set(!1),this.form._events.next(new cn(this.form))}_updateDomValue(){this.directives.forEach(w=>{const U=w.control,Ie=this.form.get(w.path);U!==Ie&&(J(U||null,w),(W=>W instanceof dr)(Ie)&&(Z(Ie,w,this.callSetDisabledState),w.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const U=this.form.get(w.path);Pn(U,w),U.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const U=this.form.get(w.path);U&&function mr(W,v){return rn(W,v)}(U,w)&&U.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bt(this.form,this),this._oldForm&&rn(this._oldForm,this)}_checkFormPresent(){}}return(W=v).\u0275fac=function(w){return new(w||W)(c.rXU(at,10),c.rXU(Mt,10),c.rXU(se,8))},W.\u0275dir=c.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(w,U){1&w&&c.bIt("submit",function(pt){return U.onSubmit(pt)})("reset",function(){return U.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Xe]),c.Vt3,c.OA$]}),v})();const Kn={provide:bt,useExisting:(0,c.Rfq)(()=>Tn)};let Tn=(()=>{var W;class v extends bt{set isDisabled(w){}constructor(w,U,Ie,pt,Qt){super(),this._ngModelWarningConfig=Qt,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(U),this._setAsyncValidators(Ie),this.valueAccessor=vr(0,pt)}ngOnChanges(w){this._added||this._setUpControl(),lr(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(W=v)._ngModelWarningSentOnce=!1,W.\u0275fac=function(w){return new(w||W)(c.rXU(Pt,13),c.rXU(at,10),c.rXU(Mt,10),c.rXU(ct,10),c.rXU(b,8))},W.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([Kn]),c.Vt3,c.OA$]}),v})();function Ro(W){return"number"==typeof W?W:parseFloat(W)}let Fo=(()=>{var W;class v{constructor(){this._validator=ye}ngOnChanges(w){if(this.inputName in w){const U=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(U),this._validator=this._enabled?this.createValidator(U):ye,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}}return(W=v).\u0275fac=function(w){return new(w||W)},W.\u0275dir=c.FsC({type:W,features:[c.OA$]}),v})();const Ss={provide:at,useExisting:(0,c.Rfq)(()=>Ho),multi:!0};let Ho=(()=>{var W;class v extends Fo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=w=>Ro(w),this.createValidator=w=>zt(w)}}return(W=v).\u0275fac=(()=>{let C;return function(U){return(C||(C=c.xGo(W)))(U||W)}})(),W.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(w,U){2&w&&c.BMQ("max",U._enabled?U.max:null)},inputs:{max:"max"},features:[c.Jv_([Ss]),c.Vt3]}),v})();const wi={provide:at,useExisting:(0,c.Rfq)(()=>zo),multi:!0};let zo=(()=>{var W;class v extends Fo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=w=>Ro(w),this.createValidator=w=>Ot(w)}}return(W=v).\u0275fac=(()=>{let C;return function(U){return(C||(C=c.xGo(W)))(U||W)}})(),W.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(w,U){2&w&&c.BMQ("min",U._enabled?U.min:null)},inputs:{min:"min"},features:[c.Jv_([wi]),c.Vt3]}),v})();const Rs={provide:at,useExisting:(0,c.Rfq)(()=>Ms),multi:!0};let Ms=(()=>{var W;class v extends Fo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=w=>Nt}enabled(w){return w}}return(W=v).\u0275fac=(()=>{let C;return function(U){return(C||(C=c.xGo(W)))(U||W)}})(),W.\u0275dir=c.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(w,U){2&w&&c.BMQ("required",U._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Rs]),c.Vt3]}),v})(),js=(()=>{var W;class v{}return(W=v).\u0275fac=function(w){return new(w||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({}),v})(),sa=(()=>{var W;class v{static withConfig(w){var U;return{ngModule:v,providers:[{provide:se,useValue:null!==(U=w.callSetDisabledState)&&void 0!==U?U:K}]}}}return(W=v).\u0275fac=function(w){return new(w||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({imports:[js]}),v})(),Ys=(()=>{var W;class v{static withConfig(w){var U,Ie;return{ngModule:v,providers:[{provide:b,useValue:null!==(U=w.warnOnNgModelWithFormControl)&&void 0!==U?U:"always"},{provide:se,useValue:null!==(Ie=w.callSetDisabledState)&&void 0!==Ie?Ie:K}]}}}return(W=v).\u0275fac=function(w){return new(w||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({imports:[js]}),v})()},345:(mn,_t,k)=>{"use strict";k.d(_t,{Bb:()=>Mn,hE:()=>Kt,sG:()=>An});var c=k(177),f=k(4438);class ne extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends ne{static makeCurrent(){(0,c.ZD)(new te)}onAndCancel(Oe,At,Je){return Oe.addEventListener(At,Je),()=>{Oe.removeEventListener(At,Je)}}dispatchEvent(Oe,At){Oe.dispatchEvent(At)}remove(Oe){Oe.remove()}createElement(Oe,At){return(At=At||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,At){return"window"===At?window:"document"===At?Oe:"body"===At?Oe.body:null}getBaseHref(Oe){const At=function ae(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==At?null:function be(Pe){return new URL(Pe,document.baseURI).pathname}(At)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,c._b)(document.cookie,Oe)}}let ie=null,je=(()=>{var Pe;class Oe{build(){return new XMLHttpRequest}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();const Ee=new f.nKC("");let ge=(()=>{var Pe;class Oe{constructor(Je,it){this._zone=it,this._eventNameToPlugin=new Map,Je.forEach(Ht=>{Ht.manager=this}),this._plugins=Je.slice().reverse()}addEventListener(Je,it,Ht){return this._findPluginFor(it).addEventListener(Je,it,Ht)}getZone(){return this._zone}_findPluginFor(Je){let it=this._eventNameToPlugin.get(Je);if(it)return it;if(it=this._plugins.find(Te=>Te.supports(Je)),!it)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(Je,it),it}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(Ee),f.KVO(f.SKi))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();class $e{constructor(Oe){this._doc=Oe}}const qe="ng-app-id";let He=(()=>{var Pe;class Oe{constructor(Je,it,Ht,Te={}){this.doc=Je,this.appId=it,this.nonce=Ht,this.platformId=Te,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(Te),this.resetHostNodes()}addStyles(Je){for(const it of Je)1===this.changeUsageCount(it,1)&&this.onStyleAdded(it)}removeStyles(Je){for(const it of Je)this.changeUsageCount(it,-1)<=0&&this.onStyleRemoved(it)}ngOnDestroy(){const Je=this.styleNodesInDOM;Je&&(Je.forEach(it=>it.remove()),Je.clear());for(const it of this.getAllStyles())this.onStyleRemoved(it);this.resetHostNodes()}addHost(Je){this.hostNodes.add(Je);for(const it of this.getAllStyles())this.addStyleToHost(Je,it)}removeHost(Je){this.hostNodes.delete(Je)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Je){for(const it of this.hostNodes)this.addStyleToHost(it,Je)}onStyleRemoved(Je){var it;const Ht=this.styleRef;null===(it=Ht.get(Je))||void 0===it||null===(it=it.elements)||void 0===it||it.forEach(Te=>Te.remove()),Ht.delete(Je)}collectServerRenderedStyles(){var Je;const it=null===(Je=this.doc.head)||void 0===Je?void 0:Je.querySelectorAll(`style[${qe}="${this.appId}"]`);if(null!=it&&it.length){const Ht=new Map;return it.forEach(Te=>{null!=Te.textContent&&Ht.set(Te.textContent,Te)}),Ht}return null}changeUsageCount(Je,it){const Ht=this.styleRef;if(Ht.has(Je)){const Te=Ht.get(Je);return Te.usage+=it,Te.usage}return Ht.set(Je,{usage:it,elements:[]}),it}getStyleElement(Je,it){const Ht=this.styleNodesInDOM,Te=null==Ht?void 0:Ht.get(it);if((null==Te?void 0:Te.parentNode)===Je)return Ht.delete(it),Te.removeAttribute(qe),Te;{const Re=this.doc.createElement("style");return this.nonce&&Re.setAttribute("nonce",this.nonce),Re.textContent=it,this.platformIsServer&&Re.setAttribute(qe,this.appId),Je.appendChild(Re),Re}}addStyleToHost(Je,it){var Ht;const Te=this.getStyleElement(Je,it),Re=this.styleRef,We=null===(Ht=Re.get(it))||void 0===Ht?void 0:Ht.elements;We?We.push(Te):Re.set(it,{elements:[Te],usage:1})}resetHostNodes(){const Je=this.hostNodes;Je.clear(),Je.add(this.doc.head)}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(c.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ct=/%COMP%/g,Se=new f.nKC("",{providedIn:"root",factory:()=>!0});function dt(Pe,Oe){return Oe.map(At=>At.replace(ct,Pe))}let at=(()=>{var Pe;class Oe{constructor(Je,it,Ht,Te,Re,We,Lt,ft=null){this.eventManager=Je,this.sharedStylesHost=it,this.appId=Ht,this.removeStylesOnCompDestroy=Te,this.doc=Re,this.platformId=We,this.ngZone=Lt,this.nonce=ft,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(We),this.defaultRenderer=new Mt(Je,Re,Lt,this.platformIsServer)}createRenderer(Je,it){if(!Je||!it)return this.defaultRenderer;this.platformIsServer&&it.encapsulation===f.gXe.ShadowDom&&(it={...it,encapsulation:f.gXe.Emulated});const Ht=this.getOrCreateRenderer(Je,it);return Ht instanceof Et?Ht.applyToHost(Je):Ht instanceof Nt&&Ht.applyStyles(),Ht}getOrCreateRenderer(Je,it){const Ht=this.rendererByCompId;let Te=Ht.get(it.id);if(!Te){const Re=this.doc,We=this.ngZone,Lt=this.eventManager,ft=this.sharedStylesHost,pn=this.removeStylesOnCompDestroy,cn=this.platformIsServer;switch(it.encapsulation){case f.gXe.Emulated:Te=new Et(Lt,ft,it,this.appId,pn,Re,We,cn);break;case f.gXe.ShadowDom:return new zt(Lt,ft,Je,it,Re,We,this.nonce,cn);default:Te=new Nt(Lt,ft,it,pn,Re,We,cn)}Ht.set(it.id,Te)}return Te}ngOnDestroy(){this.rendererByCompId.clear()}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(ge),f.KVO(He),f.KVO(f.sZ2),f.KVO(Se),f.KVO(c.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();class Mt{constructor(Oe,At,Je,it){this.eventManager=Oe,this.doc=At,this.ngZone=Je,this.platformIsServer=it,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Oe,At){return At?this.doc.createElementNS(Ze[At]||At,Oe):this.doc.createElement(Oe)}createComment(Oe){return this.doc.createComment(Oe)}createText(Oe){return this.doc.createTextNode(Oe)}appendChild(Oe,At){(Ot(Oe)?Oe.content:Oe).appendChild(At)}insertBefore(Oe,At,Je){Oe&&(Ot(Oe)?Oe.content:Oe).insertBefore(At,Je)}removeChild(Oe,At){At.remove()}selectRootElement(Oe,At){let Je="string"==typeof Oe?this.doc.querySelector(Oe):Oe;if(!Je)throw new f.wOt(-5104,!1);return At||(Je.textContent=""),Je}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,At,Je,it){if(it){At=it+":"+At;const Ht=Ze[it];Ht?Oe.setAttributeNS(Ht,At,Je):Oe.setAttribute(At,Je)}else Oe.setAttribute(At,Je)}removeAttribute(Oe,At,Je){if(Je){const it=Ze[Je];it?Oe.removeAttributeNS(it,At):Oe.removeAttribute(`${Je}:${At}`)}else Oe.removeAttribute(At)}addClass(Oe,At){Oe.classList.add(At)}removeClass(Oe,At){Oe.classList.remove(At)}setStyle(Oe,At,Je,it){it&(f.czy.DashCase|f.czy.Important)?Oe.style.setProperty(At,Je,it&f.czy.Important?"important":""):Oe.style[At]=Je}removeStyle(Oe,At,Je){Je&f.czy.DashCase?Oe.style.removeProperty(At):Oe.style[At]=""}setProperty(Oe,At,Je){null!=Oe&&(Oe[At]=Je)}setValue(Oe,At){Oe.nodeValue=At}listen(Oe,At,Je){if("string"==typeof Oe&&!(Oe=(0,c.QT)().getGlobalEventTarget(this.doc,Oe)))throw new Error(`Unsupported event target ${Oe} for event ${At}`);return this.eventManager.addEventListener(Oe,At,this.decoratePreventDefault(Je))}decoratePreventDefault(Oe){return At=>{if("__ngUnwrap__"===At)return Oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Oe(At)):Oe(At))&&At.preventDefault()}}}function Ot(Pe){return"TEMPLATE"===Pe.tagName&&void 0!==Pe.content}class zt extends Mt{constructor(Oe,At,Je,it,Ht,Te,Re,We){super(Oe,Ht,Te,We),this.sharedStylesHost=At,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=dt(it.id,it.styles);for(const ft of Lt){const pn=document.createElement("style");Re&&pn.setAttribute("nonce",Re),pn.textContent=ft,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,At){return super.appendChild(this.nodeOrShadowRoot(Oe),At)}insertBefore(Oe,At,Je){return super.insertBefore(this.nodeOrShadowRoot(Oe),At,Je)}removeChild(Oe,At){return super.removeChild(null,At)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends Mt{constructor(Oe,At,Je,it,Ht,Te,Re,We){super(Oe,Ht,Te,Re),this.sharedStylesHost=At,this.removeStylesOnCompDestroy=it,this.styles=We?dt(We,Je.styles):Je.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Et extends Nt{constructor(Oe,At,Je,it,Ht,Te,Re,We){const Lt=it+"-"+Je.id;super(Oe,At,Je,Ht,Te,Re,We,Lt),this.contentAttr=function _e(Pe){return"_ngcontent-%COMP%".replace(ct,Pe)}(Lt),this.hostAttr=function Me(Pe){return"_nghost-%COMP%".replace(ct,Pe)}(Lt)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,At){const Je=super.createElement(Oe,At);return super.setAttribute(Je,this.contentAttr,""),Je}}let Dn=(()=>{var Pe;class Oe extends $e{constructor(Je){super(Je)}supports(Je){return!0}addEventListener(Je,it,Ht){return Je.addEventListener(it,Ht,!1),()=>this.removeEventListener(Je,it,Ht)}removeEventListener(Je,it,Ht){return Je.removeEventListener(it,Ht)}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(c.qQ))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();const Fe=["alt","control","meta","shift"],Y={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ee={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let ye=(()=>{var Pe;class Oe extends $e{constructor(Je){super(Je)}supports(Je){return null!=Oe.parseEventName(Je)}addEventListener(Je,it,Ht){const Te=Oe.parseEventName(it),Re=Oe.eventCallback(Te.fullKey,Ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(Je,Te.domEventName,Re))}static parseEventName(Je){const it=Je.toLowerCase().split("."),Ht=it.shift();if(0===it.length||"keydown"!==Ht&&"keyup"!==Ht)return null;const Te=Oe._normalizeKey(it.pop());let Re="",We=it.indexOf("code");if(We>-1&&(it.splice(We,1),Re="code."),Fe.forEach(ft=>{const pn=it.indexOf(ft);pn>-1&&(it.splice(pn,1),Re+=ft+".")}),Re+=Te,0!=it.length||0===Te.length)return null;const Lt={};return Lt.domEventName=Ht,Lt.fullKey=Re,Lt}static matchEventFullKeyCode(Je,it){let Ht=Y[Je.key]||Je.key,Te="";return it.indexOf("code.")>-1&&(Ht=Je.code,Te="code."),!(null==Ht||!Ht)&&(Ht=Ht.toLowerCase()," "===Ht?Ht="space":"."===Ht&&(Ht="dot"),Fe.forEach(Re=>{Re!==Ht&&(0,ee[Re])(Je)&&(Te+=Re+".")}),Te+=Ht,Te===it)}static eventCallback(Je,it,Ht){return Te=>{Oe.matchEventFullKeyCode(Te,Je)&&Ht.runGuarded(()=>it(Te))}}static _normalizeKey(Je){return"esc"===Je?"escape":Je}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(c.qQ))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac}),Oe})();const An=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:c.AJ},{provide:f.PLl,useValue:function Ve(){te.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function lt(){return(0,f.TL$)(document),document},deps:[]}]),sn=new f.nKC(""),dn=[{provide:f.e01,useClass:class Be{addToWindow(Oe){f.JZv.getAngularTestability=(Je,it=!0)=>{const Ht=Oe.findTestabilityInTree(Je,it);if(null==Ht)throw new f.wOt(5103,!1);return Ht},f.JZv.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>Oe.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(Je=>{const it=f.JZv.getAllAngularTestabilities();let Ht=it.length;const Te=function(){Ht--,0==Ht&&Je()};it.forEach(Re=>{Re.whenStable(Te)})})}findTestabilityInTree(Oe,At,Je){if(null==At)return null;const it=Oe.getTestability(At);return null!=it?it:Je?(0,c.QT)().isShadowRoot(At)?this.findTestabilityInTree(Oe,At.host,!0):this.findTestabilityInTree(Oe,At.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Zt=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function rt(){return new f.zcH},deps:[]},{provide:Ee,useClass:Dn,multi:!0,deps:[c.qQ,f.SKi,f.Agw]},{provide:Ee,useClass:ye,multi:!0,deps:[c.qQ]},at,He,ge,{provide:f._9s,useExisting:at},{provide:c.N0,useClass:je,deps:[]},[]];let Mn=(()=>{var Pe;class Oe{constructor(Je){}static withServerTransition(Je){return{ngModule:Oe,providers:[{provide:f.sZ2,useValue:Je.appId}]}}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(sn,12))},Pe.\u0275mod=f.$C({type:Pe}),Pe.\u0275inj=f.G2t({providers:[...Zt,...dn],imports:[c.MD,f.Hbi]}),Oe})(),Kt=(()=>{var Pe;class Oe{constructor(Je){this._doc=Je}getTitle(){return this._doc.title}setTitle(Je){this._doc.title=Je||""}}return(Pe=Oe).\u0275fac=function(Je){return new(Je||Pe)(f.KVO(c.qQ))},Pe.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Oe})()},4964:(mn,_t,k)=>{"use strict";k.d(_t,{nX:()=>qt,Zp:()=>O,Z:()=>On,Xk:()=>St,Kp:()=>Ao,b:()=>Ne,Ix:()=>Ii,Wk:()=>Yn,iI:()=>ea,Sd:()=>jn});var c=k(4438),f=k(1985),ne=k(8071),ie=k(8455),ae=k(7673),be=k(4412),Be=k(4572),je=k(9350),Ee=k(8793),ge=k(8750);function $e(D){return new f.c(P=>{(0,ge.Tg)(D()).subscribe(P)})}var qe=k(1203);function He(D,P){const F=(0,ne.T)(D)?D:()=>D,M=V=>V.error(F());return new f.c(P?V=>P.schedule(M,0,V):M)}var Ze=k(983),ct=k(8359),nt=k(9974),st=k(4360);function It(){return(0,nt.N)((D,P)=>{let F=null;D._refCount++;const M=(0,st._)(P,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(F=null);const V=D._connection,de=F;F=null,V&&(!de||V===de)&&V.unsubscribe(),P.unsubscribe()});D.subscribe(M),M.closed||(F=D.connect())})}class mt extends f.c{constructor(P,F){super(),this.source=P,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,nt.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ct.yU;const F=this.getSubject();P.add(this.source.subscribe((0,st._)(F,void 0,()=>{this._teardown(),F.complete()},M=>{this._teardown(),F.error(M)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ct.yU.EMPTY)}return P}refCount(){return It()(this)}}var Se=k(1413),_e=k(177),Me=k(6354),dt=k(5558),at=k(6697),Mt=k(9172),pe=k(5964),De=k(1397),Ot=k(1594);function zt(D,P){return(0,ne.T)(P)?(0,De.Z)(D,P,1):(0,De.Z)(D,1)}var Nt=k(8141);function Et(D){return(0,nt.N)((P,F)=>{let de,M=null,V=!1;M=P.subscribe((0,st._)(F,void 0,void 0,me=>{de=(0,ge.Tg)(D(me,Et(D)(P))),M?(M.unsubscribe(),M=null,de.subscribe(F)):V=!0})),V&&(M.unsubscribe(),M=null,de.subscribe(F))})}var Dn=k(2816),Fe=k(9901);function Y(D){return D<=0?()=>Ze.w:(0,nt.N)((P,F)=>{let M=[];P.subscribe((0,st._)(F,V=>{M.push(V),D<M.length&&M.shift()},()=>{for(const V of M)F.next(V);F.complete()},void 0,()=>{M=null}))})}var ee=k(3774),ye=k(3669);function Qe(D){return(0,nt.N)((P,F)=>{try{P.subscribe(F)}finally{F.add(D)}})}var Ke=k(5343),rt=k(6365),lt=k(345);const St="primary",An=Symbol("RouteTitle");class sn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F[0]:F}return null}getAll(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F:[F]}return[]}get keys(){return Object.keys(this.params)}}function dn(D){return new sn(D)}function Zt(D,P,F){const M=F.path.split("/");if(M.length>D.length||"full"===F.pathMatch&&(P.hasChildren()||M.length<D.length))return null;const V={};for(let de=0;de<M.length;de++){const me=M[de],Dt=D[de];if(":"===me[0])V[me.substring(1)]=Dt;else if(me!==Dt.path)return null}return{consumed:D.slice(0,M.length),posParams:V}}function En(D,P){const F=D?_n(D):void 0,M=P?_n(P):void 0;if(!F||!M||F.length!=M.length)return!1;let V;for(let de=0;de<F.length;de++)if(V=F[de],!Kt(D[V],P[V]))return!1;return!0}function _n(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Kt(D,P){if(Array.isArray(D)&&Array.isArray(P)){if(D.length!==P.length)return!1;const F=[...D].sort(),M=[...P].sort();return F.every((V,de)=>M[de]===V)}return D===P}function ir(D){return D.length>0?D[D.length-1]:null}function Tt(D){return function te(D){return!!D&&(D instanceof f.c||(0,ne.T)(D.lift)&&(0,ne.T)(D.subscribe))}(D)?D:(0,c.jNT)(D)?(0,ie.H)(Promise.resolve(D)):(0,ae.of)(D)}const Pt={exact:function zn(D,P,F){if(!tr(D.segments,P.segments)||!Qn(D.segments,P.segments,F)||D.numberOfChildren!==P.numberOfChildren)return!1;for(const M in P.children)if(!D.children[M]||!zn(D.children[M],P.children[M],F))return!1;return!0},subset:hn},bt={exact:function Nn(D,P){return En(D,P)},subset:function vn(D,P){return Object.keys(P).length<=Object.keys(D).length&&Object.keys(P).every(F=>Kt(D[F],P[F]))},ignored:()=>!0};function Le(D,P,F){return Pt[F.paths](D.root,P.root,F.matrixParams)&&bt[F.queryParams](D.queryParams,P.queryParams)&&!("exact"===F.fragment&&D.fragment!==P.fragment)}function hn(D,P,F){return Wn(D,P,P.segments,F)}function Wn(D,P,F,M){if(D.segments.length>F.length){const V=D.segments.slice(0,F.length);return!(!tr(V,F)||P.hasChildren()||!Qn(V,F,M))}if(D.segments.length===F.length){if(!tr(D.segments,F)||!Qn(D.segments,F,M))return!1;for(const V in P.children)if(!D.children[V]||!hn(D.children[V],P.children[V],M))return!1;return!0}{const V=F.slice(0,D.segments.length),de=F.slice(D.segments.length);return!!(tr(D.segments,V)&&Qn(D.segments,V,M)&&D.children[St])&&Wn(D.children[St],P,de,M)}}function Qn(D,P,F){return P.every((M,V)=>bt[F](D[V].parameters,M.parameters))}class kn{constructor(P=new er([],{}),F={},M=null){this.root=P,this.queryParams=F,this.fragment=M}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return Ir.serialize(this)}}class er{constructor(P,F){this.segments=P,this.children=F,this.parent=null,Object.values(F).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yt(this)}}class fr{constructor(P,F){this.path=P,this.parameters=F}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=dn(this.parameters)),this._parameterMap}toString(){return Je(this)}}function tr(D,P){return D.length===P.length&&D.every((F,M)=>F.path===P[M].path)}let jn=(()=>{var D;class P{}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:()=>new Vr,providedIn:"root"}),P})();class Vr{parse(P){const F=new $r(P);return new kn(F.parseRootSegment(),F.parseQueryParams(),F.parseFragment())}serialize(P){const F=`/${Fr(P.root,!0)}`,M=function Ht(D){const P=Object.entries(D).map(([F,M])=>Array.isArray(M)?M.map(V=>`${fe(F)}=${fe(V)}`).join("&"):`${fe(F)}=${fe(M)}`).filter(F=>F);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${F}${M}${"string"==typeof P.fragment?`#${function ze(D){return encodeURI(D)}(P.fragment)}`:""}`}}const Ir=new Vr;function yt(D){return D.segments.map(P=>Je(P)).join("/")}function Fr(D,P){if(!D.hasChildren())return yt(D);if(P){const F=D.children[St]?Fr(D.children[St],!1):"",M=[];return Object.entries(D.children).forEach(([V,de])=>{V!==St&&M.push(`${V}:${Fr(de,!1)}`)}),M.length>0?`${F}(${M.join("//")})`:F}{const F=function Gr(D,P){let F=[];return Object.entries(D.children).forEach(([M,V])=>{M===St&&(F=F.concat(P(V,M)))}),Object.entries(D.children).forEach(([M,V])=>{M!==St&&(F=F.concat(P(V,M)))}),F}(D,(M,V)=>V===St?[Fr(D.children[St],!1)]:[`${V}:${Fr(M,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[St]?`${yt(D)}/${F[0]}`:`${yt(D)}/(${F.join("//")})`}}function Vt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fe(D){return Vt(D).replace(/%3B/gi,";")}function Pe(D){return Vt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oe(D){return decodeURIComponent(D)}function At(D){return Oe(D.replace(/\+/g,"%20"))}function Je(D){return`${Pe(D.path)}${function it(D){return Object.entries(D).map(([P,F])=>`;${Pe(P)}=${Pe(F)}`).join("")}(D.parameters)}`}const Te=/^[^\/()?;#]+/;function Re(D){const P=D.match(Te);return P?P[0]:""}const We=/^[^\/()?;=#]+/,ft=/^[^=?&#]+/,cn=/^[^&#]+/;class $r{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new er([],{}):new er([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let F={};this.peekStartsWith("/(")&&(this.capture("/"),F=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(P.length>0||Object.keys(F).length>0)&&(M[St]=new er(P,F)),M}parseSegment(){const P=Re(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(P),new fr(Oe(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const F=function Lt(D){const P=D.match(We);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let M="";if(this.consumeOptional("=")){const V=Re(this.remaining);V&&(M=V,this.capture(M))}P[Oe(F)]=Oe(M)}parseQueryParam(P){const F=function pn(D){const P=D.match(ft);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let M="";if(this.consumeOptional("=")){const me=function Mr(D){const P=D.match(cn);return P?P[0]:""}(this.remaining);me&&(M=me,this.capture(M))}const V=At(F),de=At(M);if(P.hasOwnProperty(V)){let me=P[V];Array.isArray(me)||(me=[me],P[V]=me),me.push(de)}else P[V]=de}parseParens(P){const F={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Re(this.remaining),V=this.remaining[M.length];if("/"!==V&&")"!==V&&";"!==V)throw new c.wOt(4010,!1);let de;M.indexOf(":")>-1?(de=M.slice(0,M.indexOf(":")),this.capture(de),this.capture(":")):P&&(de=St);const me=this.parseChildren();F[de]=1===Object.keys(me).length?me[St]:new er([],me),this.consumeOptional("//")}return F}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new c.wOt(4011,!1)}}function Hn(D){return D.segments.length>0?new er([],{[St]:D}):D}function Er(D){const P={};for(const[M,V]of Object.entries(D.children)){const de=Er(V);if(M===St&&0===de.segments.length&&de.hasChildren())for(const[me,Dt]of Object.entries(de.children))P[me]=Dt;else(de.segments.length>0||de.hasChildren())&&(P[M]=de)}return function Un(D){if(1===D.numberOfChildren&&D.children[St]){const P=D.children[St];return new er(D.segments.concat(P.segments),P.children)}return D}(new er(D.segments,P))}function Lr(D){return D instanceof kn}function Fn(D){var P;let F;const de=Hn(function M(me){const Dt={};for(const Rt of me.children){const Sn=M(Rt);Dt[Rt.outlet]=Sn}const tn=new er(me.url,Dt);return me===D&&(F=tn),tn}(D.root));return null!==(P=F)&&void 0!==P?P:de}function Pr(D,P,F,M){let V=D;for(;V.parent;)V=V.parent;if(0===P.length)return ki(V,V,V,F,M);const de=function se(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new gr(!0,0,D);let P=0,F=!1;const M=D.reduce((V,de,me)=>{if("object"==typeof de&&null!=de){if(de.outlets){const Dt={};return Object.entries(de.outlets).forEach(([tn,Rt])=>{Dt[tn]="string"==typeof Rt?Rt.split("/"):Rt}),[...V,{outlets:Dt}]}if(de.segmentPath)return[...V,de.segmentPath]}return"string"!=typeof de?[...V,de]:0===me?(de.split("/").forEach((Dt,tn)=>{0==tn&&"."===Dt||(0==tn&&""===Dt?F=!0:".."===Dt?P++:""!=Dt&&V.push(Dt))}),V):[...V,de]},[]);return new gr(F,P,M)}(P);if(de.toRoot())return ki(V,V,new er([],{}),F,M);const me=function ve(D,P,F){if(D.isAbsolute)return new K(P,!0,0);if(!F)return new K(P,!1,NaN);if(null===F.parent)return new K(F,!0,0);const M=_i(D.commands[0])?0:1;return function Z(D,P,F){let M=D,V=P,de=F;for(;de>V;){if(de-=V,M=M.parent,!M)throw new c.wOt(4005,!1);V=M.segments.length}return new K(M,!1,V-de)}(F,F.segments.length-1+M,D.numberOfDoubleDots)}(de,V,D),Dt=me.processChildren?vt(me.segmentGroup,me.index,de.commands):we(me.segmentGroup,me.index,de.commands);return ki(V,me.segmentGroup,Dt,F,M)}function _i(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Mi(D){return"object"==typeof D&&null!=D&&D.outlets}function ki(D,P,F,M,V){let me,de={};M&&Object.entries(M).forEach(([tn,Rt])=>{de[tn]=Array.isArray(Rt)?Rt.map(Sn=>`${Sn}`):`${Rt}`}),me=D===P?F:Fi(D,P,F);const Dt=Hn(Er(me));return new kn(Dt,de,V)}function Fi(D,P,F){const M={};return Object.entries(D.children).forEach(([V,de])=>{M[V]=de===P?F:Fi(de,P,F)}),new er(D.segments,M)}class gr{constructor(P,F,M){if(this.isAbsolute=P,this.numberOfDoubleDots=F,this.commands=M,P&&M.length>0&&_i(M[0]))throw new c.wOt(4003,!1);const V=M.find(Mi);if(V&&V!==ir(M))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(P,F,M){this.segmentGroup=P,this.processChildren=F,this.index=M}}function we(D,P,F){var M;if(null!==(M=D)&&void 0!==M||(D=new er([],{})),0===D.segments.length&&D.hasChildren())return vt(D,P,F);const V=function Bt(D,P,F){let M=0,V=P;const de={match:!1,pathIndex:0,commandIndex:0};for(;V<D.segments.length;){if(M>=F.length)return de;const me=D.segments[V],Dt=F[M];if(Mi(Dt))break;const tn=`${Dt}`,Rt=M<F.length-1?F[M+1]:null;if(V>0&&void 0===tn)break;if(tn&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!$n(tn,Rt,me))return de;M+=2}else{if(!$n(tn,{},me))return de;M++}V++}return{match:!0,pathIndex:V,commandIndex:M}}(D,P,F),de=F.slice(V.commandIndex);if(V.match&&V.pathIndex<D.segments.length){const me=new er(D.segments.slice(0,V.pathIndex),{});return me.children[St]=new er(D.segments.slice(V.pathIndex),D.children),vt(me,0,de)}return V.match&&0===de.length?new er(D.segments,{}):V.match&&!D.hasChildren()?rn(D,P,F):V.match?vt(D,0,de):rn(D,P,F)}function vt(D,P,F){if(0===F.length)return new er(D.segments,{});{const M=function J(D){return Mi(D[0])?D[0].outlets:{[St]:D}}(F),V={};if(Object.keys(M).some(de=>de!==St)&&D.children[St]&&1===D.numberOfChildren&&0===D.children[St].segments.length){const de=vt(D.children[St],P,F);return new er(D.segments,de.children)}return Object.entries(M).forEach(([de,me])=>{"string"==typeof me&&(me=[me]),null!==me&&(V[de]=we(D.children[de],P,me))}),Object.entries(D.children).forEach(([de,me])=>{void 0===M[de]&&(V[de]=me)}),new er(D.segments,V)}}function rn(D,P,F){const M=D.segments.slice(0,P);let V=0;for(;V<F.length;){const de=F[V];if(Mi(de)){const tn=Bn(de.outlets);return new er(M,tn)}if(0===V&&_i(F[0])){M.push(new fr(D.segments[P].path,xn(F[0]))),V++;continue}const me=Mi(de)?de.outlets[St]:`${de}`,Dt=V<F.length-1?F[V+1]:null;me&&Dt&&_i(Dt)?(M.push(new fr(me,xn(Dt))),V+=2):(M.push(new fr(me,{})),V++)}return new er(M,{})}function Bn(D){const P={};return Object.entries(D).forEach(([F,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(P[F]=rn(new er([],{}),0,M))}),P}function xn(D){const P={};return Object.entries(D).forEach(([F,M])=>P[F]=`${M}`),P}function $n(D,P,F){return D==F.path&&En(P,F.parameters)}const nr="imperative";var Pn=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}(Pn||{});class mr{constructor(P,F){this.id=P,this.url=F}}class On extends mr{constructor(P,F,M="imperative",V=null){super(P,F),this.type=Pn.NavigationStart,this.navigationTrigger=M,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends mr{constructor(P,F,M){super(P,F),this.urlAfterRedirects=M,this.type=Pn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var or=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D}(or||{}),li=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(li||{});class ti extends mr{constructor(P,F,M,V){super(P,F),this.reason=M,this.code=V,this.type=Pn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lr extends mr{constructor(P,F,M,V){super(P,F),this.reason=M,this.code=V,this.type=Pn.NavigationSkipped}}class xo extends mr{constructor(P,F,M,V){super(P,F),this.error=M,this.target=V,this.type=Pn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ci extends mr{constructor(P,F,M,V){super(P,F),this.urlAfterRedirects=M,this.state=V,this.type=Pn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends mr{constructor(P,F,M,V){super(P,F),this.urlAfterRedirects=M,this.state=V,this.type=Pn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends mr{constructor(P,F,M,V,de){super(P,F),this.urlAfterRedirects=M,this.state=V,this.shouldActivate=de,this.type=Pn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ao extends mr{constructor(P,F,M,V){super(P,F),this.urlAfterRedirects=M,this.state=V,this.type=Pn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends mr{constructor(P,F,M,V){super(P,F),this.urlAfterRedirects=M,this.state=V,this.type=Pn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi{constructor(P){this.route=P,this.type=Pn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pi{constructor(P){this.route=P,this.type=Pn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(P){this.snapshot=P,this.type=Pn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(P){this.snapshot=P,this.type=Pn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(P){this.snapshot=P,this.type=Pn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(P){this.snapshot=P,this.type=Pn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(P,F,M){this.routerEvent=P,this.position=F,this.anchor=M,this.type=Pn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Do{}class lo{constructor(P,F){this.url=P,this.navigationBehaviorOptions=F}}function gi(D){return D.outlet||St}function No(D){var P;if(!D)return null;if(null!==(P=D.routeConfig)&&void 0!==P&&P._injector)return D.routeConfig._injector;for(let F=D.parent;F;F=F.parent){const M=F.routeConfig;if(null!=M&&M._loadedInjector)return M._loadedInjector;if(null!=M&&M._injector)return M._injector}return null}class Oo{get injector(){var P,F;return null!==(P=No(null===(F=this.route)||void 0===F?void 0:F.snapshot))&&void 0!==P?P:this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new O(this.rootInjector),this.attachRef=null}}let O=(()=>{var D;class P{constructor(M){this.rootInjector=M,this.contexts=new Map}onChildOutletCreated(M,V){const de=this.getOrCreateContext(M);de.outlet=V,this.contexts.set(M,de)}onChildOutletDestroyed(M){const V=this.getContext(M);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let V=this.getContext(M);return V||(V=new Oo(this.rootInjector),this.contexts.set(M,V)),V}getContext(M){return this.contexts.get(M)||null}}return(D=P).\u0275fac=function(M){return new(M||D)(c.KVO(c.uvJ))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();class A{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const F=this.pathFromRoot(P);return F.length>1?F[F.length-2]:null}children(P){const F=N(P,this._root);return F?F.children.map(M=>M.value):[]}firstChild(P){const F=N(P,this._root);return F&&F.children.length>0?F.children[0].value:null}siblings(P){const F=b(P,this._root);return F.length<2?[]:F[F.length-2].children.map(V=>V.value).filter(V=>V!==P)}pathFromRoot(P){return b(P,this._root).map(F=>F.value)}}function N(D,P){if(D===P.value)return P;for(const F of P.children){const M=N(D,F);if(M)return M}return null}function b(D,P){if(D===P.value)return[P];for(const F of P.children){const M=b(D,F);if(M.length)return M.unshift(P),M}return[]}class j{constructor(P,F){this.value=P,this.children=F}toString(){return`TreeNode(${this.value})`}}function oe(D){const P={};return D&&D.children.forEach(F=>P[F.value.outlet]=F),P}class Xe extends A{constructor(P,F){super(P),this.snapshot=F,Kn(this,P)}toString(){return this.snapshot.toString()}}function $t(D){const P=function Ct(D){const de=new gn([],{},{},"",{},St,D,null,{});return new bn("",new j(de,[]))}(D),F=new be.t([new fr("",{})]),M=new be.t({}),V=new be.t({}),de=new be.t({}),me=new be.t(""),Dt=new qt(F,M,de,me,V,St,D,P.root);return Dt.snapshot=P.root,new Xe(new j(Dt,[]),P)}class qt{constructor(P,F,M,V,de,me,Dt,tn){var Rt,Sn;this.urlSubject=P,this.paramsSubject=F,this.queryParamsSubject=M,this.fragmentSubject=V,this.dataSubject=de,this.outlet=me,this.component=Dt,this._futureSnapshot=tn,this.title=null!==(Rt=null===(Sn=this.dataSubject)||void 0===Sn?void 0:Sn.pipe((0,Me.T)(Tr=>Tr[An])))&&void 0!==Rt?Rt:(0,ae.of)(void 0),this.url=P,this.params=F,this.queryParams=M,this.fragment=V,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,Me.T)(F=>dn(F)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,Me.T)(F=>dn(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jt(D,P,F="emptyOnly"){var M;let V;const{routeConfig:de}=D;var me;return V=null===P||"always"!==F&&""!==(null==de?void 0:de.path)&&(P.component||null!==(M=P.routeConfig)&&void 0!==M&&M.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...null!==(me=D._resolvedData)&&void 0!==me?me:{}}}:{params:{...P.params,...D.params},data:{...P.data,...D.data},resolve:{...D.data,...P.data,...null==de?void 0:de.data,...D._resolvedData}},de&&qr(de)&&(V.resolve[An]=de.title),V}class gn{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[An]}constructor(P,F,M,V,de,me,Dt,tn,Rt){this.url=P,this.params=F,this.queryParams=M,this.fragment=V,this.data=de,this.outlet=me,this.component=Dt,this.routeConfig=tn,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=dn(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bn extends A{constructor(P,F){super(F),this.url=P,Kn(this,F)}toString(){return Tn(this._root)}}function Kn(D,P){P.value._routerState=D,P.children.forEach(F=>Kn(D,F))}function Tn(D){const P=D.children.length>0?` { ${D.children.map(Tn).join(", ")} } `:"";return`${D.value}${P}`}function Ur(D){if(D.snapshot){const P=D.snapshot,F=D._futureSnapshot;D.snapshot=F,En(P.queryParams,F.queryParams)||D.queryParamsSubject.next(F.queryParams),P.fragment!==F.fragment&&D.fragmentSubject.next(F.fragment),En(P.params,F.params)||D.paramsSubject.next(F.params),function Mn(D,P){if(D.length!==P.length)return!1;for(let F=0;F<D.length;++F)if(!En(D[F],P[F]))return!1;return!0}(P.url,F.url)||D.urlSubject.next(F.url),En(P.data,F.data)||D.dataSubject.next(F.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function sr(D,P){const F=En(D.params,P.params)&&function pr(D,P){return tr(D,P)&&D.every((F,M)=>En(F.parameters,P[M].parameters))}(D.url,P.url);return F&&!(!D.parent!=!P.parent)&&(!D.parent||sr(D.parent,P.parent))}function qr(D){return"string"==typeof D.title||null===D.title}let Xr=(()=>{var D;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(O),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:V,previousValue:de}=M.name;if(V)return;this.isTrackedInParentContexts(de)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(de)),this.initializeOutletWithName()}}ngOnDestroy(){var M;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(M=this.inputBinder)||void 0===M||M.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){var V;return(null===(V=this.parentContexts.getContext(M))||void 0===V?void 0:V.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);null!=M&&M.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,V){var de;this.activated=M,this._activatedRoute=V,this.location.insert(M.hostView),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,V){var de;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=M;const me=this.location,tn=M.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,Sn=new hi(M,Rt,me.injector);this.activated=me.createComponent(tn,{index:me.length,injector:Sn,environmentInjector:V}),this.changeDetector.markForCheck(),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275dir=c.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),P})();class hi{__ngOutletInjector(P){return new hi(this.route,this.childContexts,P)}constructor(P,F,M){this.route=P,this.childContexts=F,this.parent=M}get(P,F){return P===qt?this.route:P===O?this.childContexts:this.parent.get(P,F)}}const qi=new c.nKC("");let Io=(()=>{var D;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){var V;null===(V=this.outletDataSubscriptions.get(M))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:V}=M,de=(0,Be.z)([V.queryParams,V.params,V.data]).pipe((0,dt.n)(([me,Dt,tn],Rt)=>(tn={...me,...Dt,...tn},0===Rt?(0,ae.of)(tn):Promise.resolve(tn)))).subscribe(me=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(M);const Dt=(0,c.HJs)(V.component);if(Dt)for(const{templateName:tn}of Dt.inputs)M.activatedComponentRef.setInput(tn,me[tn]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,de)}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac}),P})();function _r(D,P,F){if(F&&D.shouldReuseRoute(P.value,F.value.snapshot)){const M=F.value;M._futureSnapshot=P.value;const V=function Rr(D,P,F){return P.children.map(M=>{for(const V of F.children)if(D.shouldReuseRoute(M.value,V.value.snapshot))return _r(D,M,V);return _r(D,M)})}(D,P,F);return new j(M,V)}{if(D.shouldAttach(P.value)){const de=D.retrieve(P.value);if(null!==de){const me=de.route;return me.value._futureSnapshot=P.value,me.children=P.children.map(Dt=>_r(D,Dt)),me}}const M=function ko(D){return new qt(new be.t(D.url),new be.t(D.params),new be.t(D.queryParams),new be.t(D.fragment),new be.t(D.data),D.outlet,D.component,D)}(P.value),V=P.children.map(de=>_r(D,de));return new j(M,V)}}class ns{constructor(P,F){this.redirectTo=P,this.navigationBehaviorOptions=F}}const Ro="ngNavigationCancelingError";function Fo(D,P){const{redirectTo:F,navigationBehaviorOptions:M}=Lr(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,V=Ss(!1,or.Redirect);return V.url=F,V.navigationBehaviorOptions=M,V}function Ss(D,P){const F=new Error(`NavigationCancelingError: ${D||""}`);return F[Ro]=!0,F.cancellationCode=P,F}function wi(D){return!!D&&D[Ro]}class fl{constructor(P,F,M,V,de){this.routeReuseStrategy=P,this.futureState=F,this.currState=M,this.forwardEvent=V,this.inputBindingEnabled=de}activate(P){const F=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(F,M,P),Ur(this.futureState.root),this.activateChildRoutes(F,M,P)}deactivateChildRoutes(P,F,M){const V=oe(F);P.children.forEach(de=>{const me=de.value.outlet;this.deactivateRoutes(de,V[me],M),delete V[me]}),Object.values(V).forEach(de=>{this.deactivateRouteAndItsChildren(de,M)})}deactivateRoutes(P,F,M){const V=P.value,de=F?F.value:null;if(V===de)if(V.component){const me=M.getContext(V.outlet);me&&this.deactivateChildRoutes(P,F,me.children)}else this.deactivateChildRoutes(P,F,M);else de&&this.deactivateRouteAndItsChildren(F,M)}deactivateRouteAndItsChildren(P,F){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,F):this.deactivateRouteAndOutlet(P,F)}detachAndStoreRouteSubtree(P,F){const M=F.getContext(P.value.outlet),V=M&&P.value.component?M.children:F,de=oe(P);for(const me of Object.values(de))this.deactivateRouteAndItsChildren(me,V);if(M&&M.outlet){const me=M.outlet.detach(),Dt=M.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:me,route:P,contexts:Dt})}}deactivateRouteAndOutlet(P,F){const M=F.getContext(P.value.outlet),V=M&&P.value.component?M.children:F,de=oe(P);for(const me of Object.values(de))this.deactivateRouteAndItsChildren(me,V);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(P,F,M){const V=oe(F);P.children.forEach(de=>{this.activateRoutes(de,V[de.value.outlet],M),this.forwardEvent(new di(de.value.snapshot))}),P.children.length&&this.forwardEvent(new Gn(P.value.snapshot))}activateRoutes(P,F,M){const V=P.value,de=F?F.value:null;if(Ur(V),V===de)if(V.component){const me=M.getOrCreateContext(V.outlet);this.activateChildRoutes(P,F,me.children)}else this.activateChildRoutes(P,F,M);else if(V.component){const me=M.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Dt=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),me.children.onOutletReAttached(Dt.contexts),me.attachRef=Dt.componentRef,me.route=Dt.route.value,me.outlet&&me.outlet.attach(Dt.componentRef,Dt.route.value),Ur(Dt.route.value),this.activateChildRoutes(P,null,me.children)}else me.attachRef=null,me.route=V,me.outlet&&me.outlet.activateWith(V,me.injector),this.activateChildRoutes(P,null,me.children)}else this.activateChildRoutes(P,null,M)}}class Ms{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Hi{constructor(P,F){this.component=P,this.route=F}}function xr(D,P,F){const M=D._root;return Go(M,P?P._root:null,F,[M.value])}function Xi(D,P){const F=Symbol(),M=P.get(D,F);return M===F?"function"!=typeof D||(0,c.LfX)(D)?P.get(D):D:M}function Go(D,P,F,M,V={canDeactivateChecks:[],canActivateChecks:[]}){const de=oe(P);return D.children.forEach(me=>{(function Ps(D,P,F,M,V={canDeactivateChecks:[],canActivateChecks:[]}){const de=D.value,me=P?P.value:null,Dt=F?F.getContext(D.value.outlet):null;if(me&&de.routeConfig===me.routeConfig){const tn=function Wo(D,P,F){if("function"==typeof F)return F(D,P);switch(F){case"pathParamsChange":return!tr(D.url,P.url);case"pathParamsOrQueryParamsChange":return!tr(D.url,P.url)||!En(D.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sr(D,P)||!En(D.queryParams,P.queryParams);default:return!sr(D,P)}}(me,de,de.routeConfig.runGuardsAndResolvers);tn?V.canActivateChecks.push(new Ms(M)):(de.data=me.data,de._resolvedData=me._resolvedData),Go(D,P,de.component?Dt?Dt.children:null:F,M,V),tn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&V.canDeactivateChecks.push(new Hi(Dt.outlet.component,me))}else me&&oi(P,Dt,V),V.canActivateChecks.push(new Ms(M)),Go(D,null,de.component?Dt?Dt.children:null:F,M,V)})(me,de[me.value.outlet],F,M.concat([me.value]),V),delete de[me.value.outlet]}),Object.entries(de).forEach(([me,Dt])=>oi(Dt,F.getContext(me),V)),V}function oi(D,P,F){const M=oe(D),V=D.value;Object.entries(M).forEach(([de,me])=>{oi(me,V.component?P?P.children.getContext(de):null:P,F)}),F.canDeactivateChecks.push(new Hi(V.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,V))}function Qi(D){return"function"==typeof D}function Ko(D){return D instanceof je.G||"EmptyError"===(null==D?void 0:D.name)}const Qr=Symbol("INITIAL_VALUE");function Lo(){return(0,dt.n)(D=>(0,Be.z)(D.map(P=>P.pipe((0,at.s)(1),(0,Mt.Z)(Qr)))).pipe((0,Me.T)(P=>{for(const F of P)if(!0!==F){if(F===Qr)return Qr;if(!1===F||ps(F))return F}return!0}),(0,pe.p)(P=>P!==Qr),(0,at.s)(1)))}function ps(D){return Lr(D)||D instanceof ns}function Ie(D){return(0,qe.F)((0,Nt.M)(P=>{if("boolean"!=typeof P)throw Fo(0,P)}),(0,Me.T)(P=>!0===P))}class Qt{constructor(P){this.segmentGroup=P||null}}class yn extends Error{constructor(P){super(),this.urlTree=P}}function wn(D){return He(new Qt(D))}class yi{constructor(P,F){this.urlSerializer=P,this.urlTree=F}lineralizeSegments(P,F){let M=[],V=F.root;for(;;){if(M=M.concat(V.segments),0===V.numberOfChildren)return(0,ae.of)(M);if(V.numberOfChildren>1||!V.children[St])return He(new c.wOt(4e3,!1));V=V.children[St]}}applyRedirectCommands(P,F,M,V,de){if("string"!=typeof F){const Dt=F,{queryParams:tn,fragment:Rt,routeConfig:Sn,url:Tr,outlet:ui,params:Or,data:io,title:qo}=V,Mo=(0,c.N4e)(de,()=>Dt({params:Or,data:io,queryParams:tn,fragment:Rt,routeConfig:Sn,url:Tr,outlet:ui,title:qo}));if(Mo instanceof kn)throw new yn(Mo);F=Mo}const me=this.applyRedirectCreateUrlTree(F,this.urlSerializer.parse(F),P,M);if("/"===F[0])throw new yn(me);return me}applyRedirectCreateUrlTree(P,F,M,V){const de=this.createSegmentGroup(P,F.root,M,V);return new kn(de,this.createQueryParams(F.queryParams,this.urlTree.queryParams),F.fragment)}createQueryParams(P,F){const M={};return Object.entries(P).forEach(([V,de])=>{if("string"==typeof de&&":"===de[0]){const Dt=de.substring(1);M[V]=F[Dt]}else M[V]=de}),M}createSegmentGroup(P,F,M,V){const de=this.createSegments(P,F.segments,M,V);let me={};return Object.entries(F.children).forEach(([Dt,tn])=>{me[Dt]=this.createSegmentGroup(P,tn,M,V)}),new er(de,me)}createSegments(P,F,M,V){return F.map(de=>":"===de.path[0]?this.findPosParam(P,de,V):this.findOrReturn(de,M))}findPosParam(P,F,M){const V=M[F.path.substring(1)];if(!V)throw new c.wOt(4001,!1);return V}findOrReturn(P,F){let M=0;for(const V of F){if(V.path===P.path)return F.splice(M),V;M++}return P}}const Kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jn(D,P,F,M,V){const de=Br(D,P,F);return de.matched?(M=function Ki(D,P){var F;return D.providers&&!D._injector&&(D._injector=(0,c.Ol2)(D.providers,P,`Route: ${D.path}`)),null!==(F=D._injector)&&void 0!==F?F:P}(P,M),function pt(D,P,F,M){const V=P.canMatch;if(!V||0===V.length)return(0,ae.of)(!0);const de=V.map(me=>{const Dt=Xi(me,D);return Tt(function xs(D){return D&&Qi(D.canMatch)}(Dt)?Dt.canMatch(P,F):(0,c.N4e)(D,()=>Dt(P,F)))});return(0,ae.of)(de).pipe(Lo(),Ie())}(M,P,F).pipe((0,Me.T)(me=>!0===me?de:{...Kr}))):(0,ae.of)(de)}function Br(D,P,F){var M,V;if("**"===P.path)return function jr(D){return{matched:!0,parameters:D.length>0?ir(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(F);if(""===P.path)return"full"===P.pathMatch&&(D.hasChildren()||F.length>0)?{...Kr}:{matched:!0,consumedSegments:[],remainingSegments:F,parameters:{},positionalParamSegments:{}};const me=(P.matcher||Zt)(F,D,P);if(!me)return{...Kr};const Dt={};Object.entries(null!==(M=me.posParams)&&void 0!==M?M:{}).forEach(([Rt,Sn])=>{Dt[Rt]=Sn.path});const tn=me.consumed.length>0?{...Dt,...me.consumed[me.consumed.length-1].parameters}:Dt;return{matched:!0,consumedSegments:me.consumed,remainingSegments:F.slice(me.consumed.length),parameters:tn,positionalParamSegments:null!==(V=me.posParams)&&void 0!==V?V:{}}}function zi(D,P,F,M){return F.length>0&&function Ui(D,P,F){return F.some(M=>rs(D,P,M)&&gi(M)!==St)}(D,F,M)?{segmentGroup:new er(P,Yi(M,new er(F,D.children))),slicedSegments:[]}:0===F.length&&function no(D,P,F){return F.some(M=>rs(D,P,M))}(D,F,M)?{segmentGroup:new er(D.segments,qn(D,F,M,D.children)),slicedSegments:F}:{segmentGroup:new er(D.segments,D.children),slicedSegments:F}}function qn(D,P,F,M){const V={};for(const de of F)if(rs(D,P,de)&&!M[gi(de)]){const me=new er([],{});V[gi(de)]=me}return{...M,...V}}function Yi(D,P){const F={};F[St]=P;for(const M of D)if(""===M.path&&gi(M)!==St){const V=new er([],{});F[gi(M)]=V}return F}function rs(D,P,F){return(!(D.hasChildren()||P.length>0)||"full"!==F.pathMatch)&&""===F.path}class is{}class pl{constructor(P,F,M,V,de,me,Dt){this.injector=P,this.configLoader=F,this.rootComponentType=M,this.config=V,this.urlTree=de,this.paramsInheritanceStrategy=me,this.urlSerializer=Dt,this.applyRedirects=new yi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new c.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=zi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,Me.T)(({children:F,rootSnapshot:M})=>{const V=new j(M,F),de=new bn("",V),me=function Sr(D,P,F=null,M=null){return Pr(Fn(D),P,F,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return me.queryParams=this.urlTree.queryParams,de.url=this.urlSerializer.serialize(me),{state:de,tree:me}}))}match(P){const F=new gn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,St,F).pipe((0,Me.T)(M=>({children:M,rootSnapshot:F})),Et(M=>{if(M instanceof yn)return this.urlTree=M.urlTree,this.match(M.urlTree.root);throw M instanceof Qt?this.noMatchError(M):M}))}processSegmentGroup(P,F,M,V,de){return 0===M.segments.length&&M.hasChildren()?this.processChildren(P,F,M,de):this.processSegment(P,F,M,M.segments,V,!0,de).pipe((0,Me.T)(me=>me instanceof j?[me]:[]))}processChildren(P,F,M,V){const de=[];for(const me of Object.keys(M.children))"primary"===me?de.unshift(me):de.push(me);return(0,ie.H)(de).pipe(zt(me=>{const Dt=M.children[me],tn=function yo(D,P){const F=D.filter(M=>gi(M)===P);return F.push(...D.filter(M=>gi(M)!==P)),F}(F,me);return this.processSegmentGroup(P,tn,Dt,me,V)}),(0,Dn.S)((me,Dt)=>(me.push(...Dt),me)),(0,Fe.U)(null),function re(D,P){const F=arguments.length>=2;return M=>M.pipe(D?(0,pe.p)((V,de)=>D(V,de,M)):ye.D,Y(1),F?(0,Fe.U)(P):(0,ee.v)(()=>new je.G))}(),(0,De.Z)(me=>{if(null===me)return wn(M);const Dt=la(me);return function Zs(D){D.sort((P,F)=>P.value.outlet===St?-1:F.value.outlet===St?1:P.value.outlet.localeCompare(F.value.outlet))}(Dt),(0,ae.of)(Dt)}))}processSegment(P,F,M,V,de,me,Dt){return(0,ie.H)(F).pipe(zt(tn=>{var Rt;return this.processSegmentAgainstRoute(null!==(Rt=tn._injector)&&void 0!==Rt?Rt:P,F,tn,M,V,de,me,Dt).pipe(Et(Sn=>{if(Sn instanceof Qt)return(0,ae.of)(null);throw Sn}))}),(0,Ot.$)(tn=>!!tn),Et(tn=>{if(Ko(tn))return function aa(D,P,F){return 0===P.length&&!D.children[F]}(M,V,de)?(0,ae.of)(new is):wn(M);throw tn}))}processSegmentAgainstRoute(P,F,M,V,de,me,Dt,tn){return gi(M)===me||me!==St&&rs(V,de,M)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(P,V,M,de,me,tn):this.allowRedirects&&Dt?this.expandSegmentAgainstRouteUsingRedirect(P,V,F,M,de,me,tn):wn(V):wn(V)}expandSegmentAgainstRouteUsingRedirect(P,F,M,V,de,me,Dt){var tn,Rt;const{matched:Sn,parameters:Tr,consumedSegments:ui,positionalParamSegments:Or,remainingSegments:io}=Br(F,V,de);if(!Sn)return wn(F);"string"==typeof V.redirectTo&&"/"===V.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qo=new gn(de,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ha(V),gi(V),null!==(tn=null!==(Rt=V.component)&&void 0!==Rt?Rt:V._loadedComponent)&&void 0!==tn?tn:null,V,Hs(V)),Mo=Jt(qo,Dt,this.paramsInheritanceStrategy);qo.params=Object.freeze(Mo.params),qo.data=Object.freeze(Mo.data);const ms=this.applyRedirects.applyRedirectCommands(ui,V.redirectTo,Or,qo,P);return this.applyRedirects.lineralizeSegments(V,ms).pipe((0,De.Z)(vs=>this.processSegment(P,M,F,vs.concat(io),me,!1,Dt)))}matchSegmentAgainstRoute(P,F,M,V,de,me){const Dt=Jn(F,M,V,P);return"**"===M.path&&(F.children={}),Dt.pipe((0,dt.n)(tn=>{var Rt;return tn.matched?(P=null!==(Rt=M._injector)&&void 0!==Rt?Rt:P,this.getChildConfig(P,M,V).pipe((0,dt.n)(({routes:Sn})=>{var Tr,ui,Or;const io=null!==(Tr=M._loadedInjector)&&void 0!==Tr?Tr:P,{parameters:qo,consumedSegments:Mo,remainingSegments:ms}=tn,vs=new gn(Mo,qo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ha(M),gi(M),null!==(ui=null!==(Or=M.component)&&void 0!==Or?Or:M._loadedComponent)&&void 0!==ui?ui:null,M,Hs(M)),ks=Jt(vs,me,this.paramsInheritanceStrategy);vs.params=Object.freeze(ks.params),vs.data=Object.freeze(ks.data);const{segmentGroup:oc,slicedSegments:qa}=zi(F,Mo,ms,Sn);if(0===qa.length&&oc.hasChildren())return this.processChildren(io,Sn,oc,vs).pipe((0,Me.T)(El=>new j(vs,El)));if(0===Sn.length&&0===qa.length)return(0,ae.of)(new j(vs,[]));const Kc=gi(M)===de;return this.processSegment(io,Sn,oc,qa,Kc?St:de,!0,vs).pipe((0,Me.T)(El=>new j(vs,El instanceof j?[El]:[])))}))):wn(F)}))}getChildConfig(P,F,M){return F.children?(0,ae.of)({routes:F.children,injector:P}):F.loadChildren?void 0!==F._loadedRoutes?(0,ae.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):function U(D,P,F,M){const V=P.canLoad;if(void 0===V||0===V.length)return(0,ae.of)(!0);const de=V.map(me=>{const Dt=Xi(me,D);return Tt(function fs(D){return D&&Qi(D.canLoad)}(Dt)?Dt.canLoad(P,F):(0,c.N4e)(D,()=>Dt(P,F)))});return(0,ae.of)(de).pipe(Lo(),Ie())}(P,F,M).pipe((0,De.Z)(V=>V?this.configLoader.loadChildren(P,F).pipe((0,Nt.M)(de=>{F._loadedRoutes=de.routes,F._loadedInjector=de.injector})):function ni(){return He(Ss(!1,or.GuardRejected))}())):(0,ae.of)({routes:[],injector:P})}}function ja(D){const P=D.value.routeConfig;return P&&""===P.path}function la(D){const P=[],F=new Set;for(const M of D){if(!ja(M)){P.push(M);continue}const V=P.find(de=>M.value.routeConfig===de.value.routeConfig);void 0!==V?(V.children.push(...M.children),F.add(V)):P.push(M)}for(const M of F){const V=la(M.children);P.push(new j(M.value,V))}return P.filter(M=>!F.has(M))}function Ha(D){return D.data||{}}function Hs(D){return D.resolve||{}}function wa(D){const P=D.children.map(F=>wa(F)).flat();return[D,...P]}function ua(D){return(0,dt.n)(P=>{const F=D(P);return F?(0,ie.H)(F).pipe((0,Me.T)(()=>P)):(0,ae.of)(P)})}let Gs=(()=>{var D;class P{buildTitle(M){let V,de=M.root;for(;void 0!==de;){var me;V=null!==(me=this.getResolvedTitleForRoute(de))&&void 0!==me?me:V,de=de.children.find(Dt=>Dt.outlet===St)}return V}getResolvedTitleForRoute(M){return M.data[An]}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(os),providedIn:"root"}),P})(),os=(()=>{var D;class P extends Gs{constructor(M){super(),this.title=M}updateTitle(M){const V=this.buildTitle(M);void 0!==V&&this.title.setTitle(V)}}return(D=P).\u0275fac=function(M){return new(M||D)(c.KVO(lt.hE))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const ss=new c.nKC("",{providedIn:"root",factory:()=>({})});let ca=(()=>{var D;class P{}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275cmp=c.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(M,V){1&M&&c.nrm(0,"router-outlet")},dependencies:[Xr],encapsulation:2}),P})();function gl(D){const P=D.children&&D.children.map(gl),F=P?{...D,children:P}:{...D};return!F.component&&!F.loadComponent&&(P||F.loadChildren)&&F.outlet&&F.outlet!==St&&(F.component=ca),F}const Sa=new c.nKC("");let Js=(()=>{var D;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,ae.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const V=Tt(M.loadComponent()).pipe((0,Me.T)(Iu),(0,Nt.M)(me=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=me}),Qe(()=>{this.componentLoaders.delete(M)})),de=new mt(V,()=>new Se.B).pipe(It());return this.componentLoaders.set(M,de),de}loadChildren(M,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,ae.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const me=function Uo(D,P,F,M){return Tt(D.loadChildren()).pipe((0,Me.T)(Iu),(0,De.Z)(V=>V instanceof c.Co$||Array.isArray(V)?(0,ae.of)(V):(0,ie.H)(P.compileModuleAsync(V))),(0,Me.T)(V=>{M&&M(D);let de,me,Dt=!1;return Array.isArray(V)?(me=V,!0):(de=V.create(F).injector,me=de.get(Sa,[],{optional:!0,self:!0}).flat()),{routes:me.map(gl),injector:de}}))}(V,this.compiler,M,this.onLoadEndListener).pipe(Qe(()=>{this.childrenLoaders.delete(V)})),Dt=new mt(me,()=>new Se.B).pipe(It());return this.childrenLoaders.set(V,Dt),Dt}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function Iu(D){return function Ra(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ns=(()=>{var D;class P{}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(as),providedIn:"root"}),P})(),as=(()=>{var D;class P{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,V){return M}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const Gl=new c.nKC(""),ml=new c.nKC("");function R(D,P,F){const M=D.get(ml),V=D.get(_e.qQ);return D.get(c.SKi).runOutsideAngular(()=>{if(!V.startViewTransition||M.skipNextTransition)return M.skipNextTransition=!1,new Promise(Rt=>setTimeout(Rt));let de;const me=new Promise(Rt=>{de=Rt}),Dt=V.startViewTransition(()=>(de(),function z(D){return new Promise(P=>{(0,c.mal)({read:()=>setTimeout(P)},{injector:D})})}(D))),{onViewTransitionCreated:tn}=M;return tn&&(0,c.N4e)(D,()=>tn({transition:Dt,from:P,to:F})),me})}const xe=new c.nKC("");let H=(()=>{var D;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se.B,this.transitionAbortSubject=new Se.B,this.configLoader=(0,c.WQX)(Js),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(jn),this.rootContexts=(0,c.WQX)(O),this.location=(0,c.WQX)(_e.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(qi,{optional:!0}),this.titleStrategy=(0,c.WQX)(Gs),this.options=(0,c.WQX)(ss,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Ns),this.createViewTransition=(0,c.WQX)(Gl,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(xe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=de=>this.events.next(new pi(de)),this.configLoader.onLoadStartListener=de=>this.events.next(new Pi(de))}complete(){var M;null===(M=this.transitions)||void 0===M||M.complete()}handleNavigationRequest(M){var V;const de=++this.navigationId;null===(V=this.transitions)||void 0===V||V.next({...this.transitions.value,...M,id:de})}setupNavigations(M,V,de){return this.transitions=new be.t({id:0,currentUrlTree:V,currentRawUrl:V,extractedUrl:this.urlHandlingStrategy.extract(V),urlAfterRedirects:this.urlHandlingStrategy.extract(V),rawUrl:V,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:de.snapshot,targetSnapshot:null,currentRouterState:de,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pe.p)(me=>0!==me.id),(0,Me.T)(me=>({...me,extractedUrl:this.urlHandlingStrategy.extract(me.rawUrl)})),(0,dt.n)(me=>{let Dt=!1,tn=!1;return(0,ae.of)(me).pipe((0,dt.n)(Rt=>{var Sn;if(this.navigationId>me.id)return this.cancelNavigationTransition(me,"",or.SupersededByNewNavigation),Ze.w;this.currentTransition=me,this.currentNavigation={id:Rt.id,initialUrl:Rt.rawUrl,extractedUrl:Rt.extractedUrl,targetBrowserUrl:"string"==typeof Rt.extras.browserUrl?this.urlSerializer.parse(Rt.extras.browserUrl):Rt.extras.browserUrl,trigger:Rt.source,extras:Rt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Tr=!M.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ui=null!==(Sn=Rt.extras.onSameUrlNavigation)&&void 0!==Sn?Sn:M.onSameUrlNavigation;if(!Tr&&"reload"!==ui){const Or="";return this.events.next(new lr(Rt.id,this.urlSerializer.serialize(Rt.rawUrl),Or,li.IgnoredSameUrlNavigation)),Rt.resolve(!1),Ze.w}if(this.urlHandlingStrategy.shouldProcessUrl(Rt.rawUrl))return(0,ae.of)(Rt).pipe((0,dt.n)(Or=>{var io,qo;const Mo=null===(io=this.transitions)||void 0===io?void 0:io.getValue();return this.events.next(new On(Or.id,this.urlSerializer.serialize(Or.extractedUrl),Or.source,Or.restoredState)),Mo!==(null===(qo=this.transitions)||void 0===qo?void 0:qo.getValue())?Ze.w:Promise.resolve(Or)}),function Hl(D,P,F,M,V,de){return(0,De.Z)(me=>function Da(D,P,F,M,V,de,me="emptyOnly"){return new pl(D,P,F,M,V,me,de).recognize()}(D,P,F,M,me.extractedUrl,V,de).pipe((0,Me.T)(({state:Dt,tree:tn})=>({...me,targetSnapshot:Dt,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Nt.M)(Or=>{me.targetSnapshot=Or.targetSnapshot,me.urlAfterRedirects=Or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Or.urlAfterRedirects};const io=new ci(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(io)}));if(Tr&&this.urlHandlingStrategy.shouldProcessUrl(Rt.currentRawUrl)){const{id:Or,extractedUrl:io,source:qo,restoredState:Mo,extras:ms}=Rt,vs=new On(Or,this.urlSerializer.serialize(io),qo,Mo);this.events.next(vs);const ks=$t(this.rootComponentType).snapshot;return this.currentTransition=me={...Rt,targetSnapshot:ks,urlAfterRedirects:io,extras:{...ms,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=io,(0,ae.of)(me)}{const Or="";return this.events.next(new lr(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),Or,li.IgnoredByUrlHandlingStrategy)),Rt.resolve(!1),Ze.w}}),(0,Nt.M)(Rt=>{const Sn=new vr(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(Sn)}),(0,Me.T)(Rt=>(this.currentTransition=me={...Rt,guards:xr(Rt.targetSnapshot,Rt.currentSnapshot,this.rootContexts)},me)),function to(D,P){return(0,De.Z)(F=>{const{targetSnapshot:M,currentSnapshot:V,guards:{canActivateChecks:de,canDeactivateChecks:me}}=F;return 0===me.length&&0===de.length?(0,ae.of)({...F,guardsResult:!0}):function Vo(D,P,F,M){return(0,ie.H)(D).pipe((0,De.Z)(V=>function w(D,P,F,M,V){const de=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,ae.of)(!0);const me=de.map(Dt=>{var tn;const Rt=null!==(tn=No(P))&&void 0!==tn?tn:V,Sn=Xi(Dt,Rt);return Tt(function Eo(D){return D&&Qi(D.canDeactivate)}(Sn)?Sn.canDeactivate(D,P,F,M):(0,c.N4e)(Rt,()=>Sn(D,P,F,M))).pipe((0,Ot.$)())});return(0,ae.of)(me).pipe(Lo())}(V.component,V.route,F,P,M)),(0,Ot.$)(V=>!0!==V,!0))}(me,M,V,D).pipe((0,De.Z)(Dt=>Dt&&function Ta(D){return"boolean"==typeof D}(Dt)?function sa(D,P,F,M){return(0,ie.H)(P).pipe(zt(V=>(0,Ee.x)(function W(D,P){return null!==D&&P&&P(new ri(D)),(0,ae.of)(!0)}(V.route.parent,M),function Ys(D,P){return null!==D&&P&&P(new dr(D)),(0,ae.of)(!0)}(V.route,M),function C(D,P,F){const M=P[P.length-1],de=P.slice(0,P.length-1).reverse().map(me=>function To(D){const P=D.routeConfig?D.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:D,guards:P}:null}(me)).filter(me=>null!==me).map(me=>$e(()=>{const Dt=me.guards.map(tn=>{var Rt;const Sn=null!==(Rt=No(me.node))&&void 0!==Rt?Rt:F,Tr=Xi(tn,Sn);return Tt(function js(D){return D&&Qi(D.canActivateChild)}(Tr)?Tr.canActivateChild(M,D):(0,c.N4e)(Sn,()=>Tr(M,D))).pipe((0,Ot.$)())});return(0,ae.of)(Dt).pipe(Lo())}));return(0,ae.of)(de).pipe(Lo())}(D,V.path,F),function v(D,P,F){const M=P.routeConfig?P.routeConfig.canActivate:null;if(!M||0===M.length)return(0,ae.of)(!0);const V=M.map(de=>$e(()=>{var me;const Dt=null!==(me=No(P))&&void 0!==me?me:F,tn=Xi(de,Dt);return Tt(function $s(D){return D&&Qi(D.canActivate)}(tn)?tn.canActivate(P,D):(0,c.N4e)(Dt,()=>tn(P,D))).pipe((0,Ot.$)())}));return(0,ae.of)(V).pipe(Lo())}(D,V.route,F))),(0,Ot.$)(V=>!0!==V,!0))}(M,de,D,P):(0,ae.of)(Dt)),(0,Me.T)(Dt=>({...F,guardsResult:Dt})))})}(this.environmentInjector,Rt=>this.events.next(Rt)),(0,Nt.M)(Rt=>{if(me.guardsResult=Rt.guardsResult,Rt.guardsResult&&"boolean"!=typeof Rt.guardsResult)throw Fo(0,Rt.guardsResult);const Sn=new ji(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot,!!Rt.guardsResult);this.events.next(Sn)}),(0,pe.p)(Rt=>!!Rt.guardsResult||(this.cancelNavigationTransition(Rt,"",or.GuardRejected),!1)),ua(Rt=>{if(Rt.guards.canActivateChecks.length)return(0,ae.of)(Rt).pipe((0,Nt.M)(Sn=>{const Tr=new ao(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Tr)}),(0,dt.n)(Sn=>{let Tr=!1;return(0,ae.of)(Sn).pipe(function zs(D,P){return(0,De.Z)(F=>{const{targetSnapshot:M,guards:{canActivateChecks:V}}=F;if(!V.length)return(0,ae.of)(F);const de=new Set(V.map(tn=>tn.route)),me=new Set;for(const tn of de)if(!me.has(tn))for(const Rt of wa(tn))me.add(Rt);let Dt=0;return(0,ie.H)(me).pipe(zt(tn=>de.has(tn)?function za(D,P,F,M){const V=D.routeConfig,de=D._resolve;return void 0!==(null==V?void 0:V.title)&&!qr(V)&&(de[An]=V.title),function zl(D,P,F,M){const V=_n(D);if(0===V.length)return(0,ae.of)({});const de={};return(0,ie.H)(V).pipe((0,De.Z)(me=>function Si(D,P,F,M){var V;const de=null!==(V=No(P))&&void 0!==V?V:M,me=Xi(D,de);return Tt(me.resolve?me.resolve(P,F):(0,c.N4e)(de,()=>me(P,F)))}(D[me],P,F,M).pipe((0,Ot.$)(),(0,Nt.M)(Dt=>{if(Dt instanceof ns)throw Fo(new Vr,Dt);de[me]=Dt}))),Y(1),function Ae(D){return(0,Me.T)(()=>D)}(de),Et(me=>Ko(me)?Ze.w:He(me)))}(de,D,P,M).pipe((0,Me.T)(me=>(D._resolvedData=me,D.data=Jt(D,D.parent,F).resolve,null)))}(tn,M,D,P):(tn.data=Jt(tn,tn.parent,D).resolve,(0,ae.of)(void 0))),(0,Nt.M)(()=>Dt++),Y(1),(0,De.Z)(tn=>Dt===me.size?(0,ae.of)(F):Ze.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.M)({next:()=>Tr=!0,complete:()=>{Tr||this.cancelNavigationTransition(Sn,"",or.NoDataFromResolver)}}))}),(0,Nt.M)(Sn=>{const Tr=new Di(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Tr)}))}),ua(Rt=>{const Sn=Tr=>{var ui;const Or=[];null!==(ui=Tr.routeConfig)&&void 0!==ui&&ui.loadComponent&&!Tr.routeConfig._loadedComponent&&Or.push(this.configLoader.loadComponent(Tr.routeConfig).pipe((0,Nt.M)(io=>{Tr.component=io}),(0,Me.T)(()=>{})));for(const io of Tr.children)Or.push(...Sn(io));return Or};return(0,Be.z)(Sn(Rt.targetSnapshot.root)).pipe((0,Fe.U)(null),(0,at.s)(1))}),ua(()=>this.afterPreactivation()),(0,dt.n)(()=>{var Rt;const{currentSnapshot:Sn,targetSnapshot:Tr}=me,ui=null===(Rt=this.createViewTransition)||void 0===Rt?void 0:Rt.call(this,this.environmentInjector,Sn.root,Tr.root);return ui?(0,ie.H)(ui).pipe((0,Me.T)(()=>me)):(0,ae.of)(me)}),(0,Me.T)(Rt=>{const Sn=function uo(D,P,F){const M=_r(D,P._root,F?F._root:void 0);return new Xe(M,P)}(M.routeReuseStrategy,Rt.targetSnapshot,Rt.currentRouterState);return this.currentTransition=me={...Rt,targetRouterState:Sn},this.currentNavigation.targetRouterState=Sn,me}),(0,Nt.M)(()=>{this.events.next(new Do)}),((D,P,F,M)=>(0,Me.T)(V=>(new fl(P,V.targetRouterState,V.currentRouterState,F,M).activate(D),V)))(this.rootContexts,M.routeReuseStrategy,Rt=>this.events.next(Rt),this.inputBindingEnabled),(0,at.s)(1),(0,Nt.M)({next:Rt=>{var Sn;Dt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects))),null===(Sn=this.titleStrategy)||void 0===Sn||Sn.updateTitle(Rt.targetRouterState.snapshot),Rt.resolve(!0)},complete:()=>{Dt=!0}}),function Ve(D){return(0,nt.N)((P,F)=>{(0,ge.Tg)(D).subscribe((0,st._)(F,()=>F.complete(),Ke.l)),!F.closed&&P.subscribe(F)})}(this.transitionAbortSubject.pipe((0,Nt.M)(Rt=>{throw Rt}))),Qe(()=>{var Rt;!Dt&&!tn&&this.cancelNavigationTransition(me,"",or.SupersededByNewNavigation),(null===(Rt=this.currentTransition)||void 0===Rt?void 0:Rt.id)===me.id&&(this.currentNavigation=null,this.currentTransition=null)}),Et(Rt=>{if(tn=!0,wi(Rt))this.events.next(new ti(me.id,this.urlSerializer.serialize(me.extractedUrl),Rt.message,Rt.cancellationCode)),function Ho(D){return wi(D)&&Lr(D.url)}(Rt)?this.events.next(new lo(Rt.url,Rt.navigationBehaviorOptions)):me.resolve(!1);else{var Sn;const Tr=new xo(me.id,this.urlSerializer.serialize(me.extractedUrl),Rt,null!==(Sn=me.targetSnapshot)&&void 0!==Sn?Sn:void 0);try{const ui=(0,c.N4e)(this.environmentInjector,()=>{var Or;return null===(Or=this.navigationErrorHandler)||void 0===Or?void 0:Or.call(this,Tr)});if(ui instanceof ns){const{message:Or,cancellationCode:io}=Fo(0,ui);this.events.next(new ti(me.id,this.urlSerializer.serialize(me.extractedUrl),Or,io)),this.events.next(new lo(ui.redirectTo,ui.navigationBehaviorOptions))}else{this.events.next(Tr);const Or=M.errorHandler(Rt);me.resolve(!!Or)}}catch(ui){this.options.resolveNavigationPromiseOnError?me.resolve(!1):me.reject(ui)}}return Ze.w}))}))}cancelNavigationTransition(M,V,de){const me=new ti(M.id,this.urlSerializer.serialize(M.extractedUrl),V,de);this.events.next(me),M.resolve(!1)}isUpdatingInternalState(){var M,V;return(null===(M=this.currentTransition)||void 0===M?void 0:M.extractedUrl.toString())!==(null===(V=this.currentTransition)||void 0===V?void 0:V.currentUrlTree.toString())}isUpdatedBrowserUrl(){var M,V,de,me;const Dt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),tn=null!==(M=null===(V=this.currentNavigation)||void 0===V?void 0:V.targetBrowserUrl)&&void 0!==M?M:null===(de=this.currentNavigation)||void 0===de?void 0:de.extractedUrl;return Dt.toString()!==(null==tn?void 0:tn.toString())&&!(null!==(me=this.currentNavigation)&&void 0!==me&&me.extras.skipLocationChange)}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function ue(D){return D!==nr}let Ne=(()=>{var D;class P{}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(ln),providedIn:"root"}),P})();class Gt{shouldDetach(P){return!1}store(P,F){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,F){return P.routeConfig===F.routeConfig}}let ln=(()=>{var D;class P extends Gt{}return(D=P).\u0275fac=(()=>{let F;return function(V){return(F||(F=c.xGo(D)))(V||D)}})(),D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})(),ur=(()=>{var D;class P{}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(Yr),providedIn:"root"}),P})(),Yr=(()=>{var D;class P extends ur{constructor(){super(...arguments),this.location=(0,c.WQX)(_e.aZ),this.urlSerializer=(0,c.WQX)(jn),this.options=(0,c.WQX)(ss,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$t(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var M,V;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(M=null===(V=this.restoredState())||void 0===V?void 0:V.\u0275routerPageId)&&void 0!==M?M:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(M){return this.location.subscribe(V=>{"popstate"===V.type&&M(V.url,V.state)})}handleRouterEvent(M,V){if(M instanceof On)this.stateMemento=this.createStateMemento();else if(M instanceof lr)this.rawUrlTree=V.initialUrl;else if(M instanceof ci){if("eager"===this.urlUpdateStrategy&&!V.extras.skipLocationChange){var de;const Dt=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl);this.setBrowserUrl(null!==(de=V.targetBrowserUrl)&&void 0!==de?de:Dt,V)}}else if(M instanceof Do){var me;this.currentUrlTree=V.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl),this.routerState=V.targetRouterState,"deferred"!==this.urlUpdateStrategy||V.extras.skipLocationChange||this.setBrowserUrl(null!==(me=V.targetBrowserUrl)&&void 0!==me?me:this.rawUrlTree,V)}else M instanceof ti&&(M.code===or.GuardRejected||M.code===or.NoDataFromResolver)?this.restoreHistory(V):M instanceof xo?this.restoreHistory(V,!0):M instanceof br&&(this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId)}setBrowserUrl(M,V){const de=M instanceof kn?this.urlSerializer.serialize(M):M;if(this.location.isCurrentPathEqualTo(de)||V.extras.replaceUrl){const Dt={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId)};this.location.replaceState(de,"",Dt)}else{const me={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId+1)};this.location.go(de,"",me)}}restoreHistory(M,V=!1){if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-this.browserPageId;0!==me?this.location.historyGo(me):this.currentUrlTree===M.finalUrl&&0===me&&(this.resetState(M),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){var V;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(V=M.finalUrl)&&void 0!==V?V:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,V){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:V}:{navigationId:M}}}return(D=P).\u0275fac=(()=>{let F;return function(V){return(F||(F=c.xGo(D)))(V||D)}})(),D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();var Jr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Jr||{});function Hr(D,P){D.events.pipe((0,pe.p)(F=>F instanceof br||F instanceof ti||F instanceof xo||F instanceof lr),(0,Me.T)(F=>F instanceof br||F instanceof lr?Jr.COMPLETE:F instanceof ti&&(F.code===or.Redirect||F.code===or.SupersededByNewNavigation)?Jr.REDIRECTING:Jr.FAILED),(0,pe.p)(F=>F!==Jr.REDIRECTING),(0,at.s)(1)).subscribe(()=>{P()})}function mi(D){throw D}const si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{var D;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var M,V;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(ur),this.options=(0,c.WQX)(ss,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(H),this.urlSerializer=(0,c.WQX)(jn),this.location=(0,c.WQX)(_e.aZ),this.urlHandlingStrategy=(0,c.WQX)(Ns),this._events=new Se.B,this.errorHandler=this.options.errorHandler||mi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(Ne),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(M=null===(V=(0,c.WQX)(Sa,{optional:!0}))||void 0===V?void 0:V.flat())&&void 0!==M?M:[],this.componentInputBindingEnabled=!!(0,c.WQX)(qi,{optional:!0}),this.eventsSubscription=new ct.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(V=>{try{const de=this.navigationTransitions.currentTransition,me=this.navigationTransitions.currentNavigation;if(null!==de&&null!==me)if(this.stateManager.handleRouterEvent(V,me),V instanceof ti&&V.code!==or.Redirect&&V.code!==or.SupersededByNewNavigation)this.navigated=!0;else if(V instanceof br)this.navigated=!0;else if(V instanceof lo){const Dt=V.navigationBehaviorOptions,tn=this.urlHandlingStrategy.merge(V.url,de.currentRawUrl),Rt={browserUrl:de.extras.browserUrl,info:de.extras.info,skipLocationChange:de.extras.skipLocationChange,replaceUrl:de.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ue(de.source),...Dt};this.scheduleNavigation(tn,nr,null,Rt,{resolve:de.resolve,reject:de.reject,promise:de.promise})}(function un(D){return!(D instanceof Do||D instanceof lo)})(V)&&this._events.next(V)}catch(de){this.navigationTransitions.transitionAbortSubject.next(de)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nr,this.stateManager.restoredState())}setUpLocationChangeListener(){var M;null!==(M=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==M||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((V,de)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(V,"popstate",de)},0)}))}navigateToSyncWithBrowser(M,V,de){const me={replaceUrl:!0},Dt=null!=de&&de.navigationId?de:null;if(de){const Rt={...de};delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(me.state=Rt)}const tn=this.parseUrl(M);this.scheduleNavigation(tn,V,Dt,me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(gl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,V={}){const{relativeTo:de,queryParams:me,fragment:Dt,queryParamsHandling:tn,preserveFragment:Rt}=V,Sn=Rt?this.currentUrlTree.fragment:Dt;let ui,Tr=null;switch(null!=tn?tn:this.options.defaultQueryParamsHandling){case"merge":Tr={...this.currentUrlTree.queryParams,...me};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=me||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{ui=Fn(de?de.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||"/"!==M[0][0])&&(M=[]),ui=this.currentUrlTree.root}return Pr(ui,M,Tr,null!=Sn?Sn:null)}navigateByUrl(M,V={skipLocationChange:!1}){const de=Lr(M)?M:this.parseUrl(M),me=this.urlHandlingStrategy.merge(de,this.rawUrlTree);return this.scheduleNavigation(me,nr,null,V)}navigate(M,V={skipLocationChange:!1}){return function Nr(D){for(let P=0;P<D.length;P++)if(null==D[P])throw new c.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,V),V)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){try{return this.urlSerializer.parse(M)}catch{return this.urlSerializer.parse("/")}}isActive(M,V){let de;if(de=!0===V?{...si}:!1===V?{...Ri}:V,Lr(M))return Le(this.currentUrlTree,M,de);const me=this.parseUrl(M);return Le(this.currentUrlTree,me,de)}removeEmptyProps(M){return Object.entries(M).reduce((V,[de,me])=>(null!=me&&(V[de]=me),V),{})}scheduleNavigation(M,V,de,me,Dt){if(this.disposed)return Promise.resolve(!1);let tn,Rt,Sn;Dt?(tn=Dt.resolve,Rt=Dt.reject,Sn=Dt.promise):Sn=new Promise((ui,Or)=>{tn=ui,Rt=Or});const Tr=this.pendingTasks.add();return Hr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:V,restoredState:de,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:M,extras:me,resolve:tn,reject:Rt,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(ui=>Promise.reject(ui))}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})(),Yn=(()=>{var D;class P{constructor(M,V,de,me,Dt,tn){var Rt;this.router=M,this.route=V,this.tabIndexAttribute=de,this.renderer=me,this.el=Dt,this.locationStrategy=tn,this.href=null,this.onChanges=new Se.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Sn=null===(Rt=Dt.nativeElement.tagName)||void 0===Rt?void 0:Rt.toLowerCase();this.isAnchorElement="a"===Sn||"area"===Sn,this.isAnchorElement?this.subscription=M.events.subscribe(Tr=>{Tr instanceof br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null==M?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Lr(M)||Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0"))}onClick(M,V,de,me,Dt){const tn=this.urlTree;return!!(null===tn||this.isAnchorElement&&(0!==M||V||de||me||Dt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(tn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var M;null===(M=this.subscription)||void 0===M||M.unsubscribe()}updateHref(){var M;const V=this.urlTree;this.href=null!==V&&this.locationStrategy?null===(M=this.locationStrategy)||void 0===M?void 0:M.prepareExternalUrl(this.router.serializeUrl(V)):null;const de=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",de)}applyAttributeValue(M,V){const de=this.renderer,me=this.el.nativeElement;null!==V?de.setAttribute(me,M,V):de.removeAttribute(me,M)}get urlTree(){return null===this.routerLinkInput?null:Lr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(D=P).\u0275fac=function(M){return new(M||D)(c.rXU(Ii),c.rXU(qt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(_e.hb))},D.\u0275dir=c.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,V){1&M&&c.bIt("click",function(me){return V.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&M&&c.BMQ("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),P})();class Bi{}let Ao=(()=>{var D;class P{preload(M,V){return V().pipe(Et(()=>(0,ae.of)(null)))}}return(D=P).\u0275fac=function(M){return new(M||D)},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})(),Ti=(()=>{var D;class P{constructor(M,V,de,me,Dt){this.router=M,this.injector=de,this.preloadingStrategy=me,this.loader=Dt}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.p)(M=>M instanceof br),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,V){const de=[];for(const Rt of V){var me,Dt;Rt.providers&&!Rt._injector&&(Rt._injector=(0,c.Ol2)(Rt.providers,M,`Route: ${Rt.path}`));const Sn=null!==(me=Rt._injector)&&void 0!==me?me:M,Tr=null!==(Dt=Rt._loadedInjector)&&void 0!==Dt?Dt:Sn;var tn;(Rt.loadChildren&&!Rt._loadedRoutes&&void 0===Rt.canLoad||Rt.loadComponent&&!Rt._loadedComponent)&&de.push(this.preloadConfig(Sn,Rt)),(Rt.children||Rt._loadedRoutes)&&de.push(this.processRoutes(Tr,null!==(tn=Rt.children)&&void 0!==tn?tn:Rt._loadedRoutes))}return(0,ie.H)(de).pipe((0,rt.U)())}preloadConfig(M,V){return this.preloadingStrategy.preload(V,()=>{let de;de=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(M,V):(0,ae.of)(null);const me=de.pipe((0,De.Z)(Dt=>{var tn;return null===Dt?(0,ae.of)(void 0):(V._loadedRoutes=Dt.routes,V._loadedInjector=Dt.injector,this.processRoutes(null!==(tn=Dt.injector)&&void 0!==tn?tn:M,Dt.routes))}));if(V.loadComponent&&!V._loadedComponent){const Dt=this.loader.loadComponent(V);return(0,ie.H)([me,Dt]).pipe((0,rt.U)())}return me})}}return(D=P).\u0275fac=function(M){return new(M||D)(c.KVO(Ii),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Bi),c.KVO(Js))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const Gi=new c.nKC("");let Ks=(()=>{var D;class P{constructor(M,V,de,me,Dt={}){this.urlSerializer=M,this.transitions=V,this.viewportScroller=de,this.zone=me,this.options=Dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dt.scrollPositionRestoration||(Dt.scrollPositionRestoration="disabled"),Dt.anchorScrolling||(Dt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof On?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof br?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof lr&&M.code===li.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof bi&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bi(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){var M,V;null===(M=this.routerEventsSubscription)||void 0===M||M.unsubscribe(),null===(V=this.scrollEventsSubscription)||void 0===V||V.unsubscribe()}}return(D=P).\u0275fac=function(M){c.QTQ()},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac}),P})();function Bo(D,P){return{\u0275kind:D,\u0275providers:P}}function Co(){const D=(0,c.WQX)(c.zZn);return P=>{var F,M;const V=D.get(c.o8S);if(P!==V.components[0])return;const de=D.get(Ii),me=D.get(Ma);1===D.get(Pa)&&de.initialNavigation(),null===(F=D.get(rr,null,c.$GK.Optional))||void 0===F||F.setUpPreloading(),null===(M=D.get(Gi,null,c.$GK.Optional))||void 0===M||M.init(),de.resetRootComponentType(V.componentTypes[0]),me.closed||(me.next(),me.complete(),me.unsubscribe())}}const Ma=new c.nKC("",{factory:()=>new Se.B}),Pa=new c.nKC("",{providedIn:"root",factory:()=>1}),rr=new c.nKC("");function yl(D){return Bo(0,[{provide:rr,useExisting:Ti},{provide:Bi,useExisting:D}])}function Ni(D){return Bo(9,[{provide:Gl,useValue:R},{provide:ml,useValue:{skipNextTransition:!(null==D||!D.skipInitialTransition),...D}}])}const Zi=new c.nKC("ROUTER_FORROOT_GUARD"),wo=[_e.aZ,{provide:jn,useClass:Vr},Ii,O,{provide:qt,useFactory:function da(D){return D.routerState.root},deps:[Ii]},Js,[]];let ea=(()=>{var D;class P{constructor(M){}static forRoot(M,V){return{ngModule:P,providers:[wo,[],{provide:Sa,multi:!0,useValue:M},{provide:Zi,useFactory:Wa,deps:[[Ii,new c.Xx1,new c.kdw]]},{provide:ss,useValue:V||{}},null!=V&&V.useHash?{provide:_e.hb,useClass:_e.fw}:{provide:_e.hb,useClass:_e.Sm},{provide:Gi,useFactory:()=>{const D=(0,c.WQX)(_e.Xr),P=(0,c.WQX)(c.SKi),F=(0,c.WQX)(ss),M=(0,c.WQX)(H),V=(0,c.WQX)(jn);return F.scrollOffset&&D.setOffset(F.scrollOffset),new Ks(V,M,D,P,F)}},null!=V&&V.preloadingStrategy?yl(V.preloadingStrategy).\u0275providers:[],null!=V&&V.initialNavigation?Eu(V):[],null!=V&&V.bindToComponentInputs?Bo(8,[Io,{provide:qi,useExisting:Io}]).\u0275providers:[],null!=V&&V.enableViewTransitions?Ni().\u0275providers:[],[{provide:Wc,useFactory:Co},{provide:c.iLQ,multi:!0,useExisting:Wc}]]}}static forChild(M){return{ngModule:P,providers:[{provide:Sa,multi:!0,useValue:M}]}}}return(D=P).\u0275fac=function(M){return new(M||D)(c.KVO(Zi,8))},D.\u0275mod=c.$C({type:D}),D.\u0275inj=c.G2t({}),P})();function Wa(D){return"guarded"}function Eu(D){return["disabled"===D.initialNavigation?Bo(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const P=(0,c.WQX)(Ii);return()=>{P.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Bo(2,[{provide:Pa,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:P=>{const F=P.get(_e.hj,Promise.resolve());return()=>F.then(()=>new Promise(M=>{const V=P.get(Ii),de=P.get(Ma);Hr(V,()=>{M(!0)}),P.get(H).afterPreactivation=()=>(M(!0),de.closed?(0,ae.of)(void 0):de),V.initialNavigation()}))}}]).\u0275providers:[]]}const Wc=new c.nKC("")},2872:(mn,_t,k)=>{"use strict";k.d(_t,{Yq:()=>ir,TS:()=>Mn,sR:()=>En,el:()=>cn,Sb:()=>jn,QE:()=>Un,CF:()=>pr,Rg:()=>Ht,p4:()=>Lr,jM:()=>Fi,_t:()=>Qe,q9:()=>An,Kb:()=>gr,CE:()=>Mr,pF:()=>$r,fL:()=>Fn,YV:()=>Lt,er:()=>Sr,z3:()=>Pr});var c=k(467),f=k(9842),ne=k(4438),te=k(4964),ie=k(177),ae=k(5531),be=k(4442);var Ot=k(1413),zt=k(3726),Nt=k(4412),Et=k(4572),Dn=k(7673),Fe=k(1635),Y=k(5964),ee=k(5558),ye=k(3294),re=k(4341);const Ae=["tabsInner"];class Qe{constructor(K){(0,f.A)(this,"menuController",void 0),this.menuController=K}open(K){return this.menuController.open(K)}close(K){return this.menuController.close(K)}toggle(K){return this.menuController.toggle(K)}enable(K,ve){return this.menuController.enable(K,ve)}swipeGesture(K,ve){return this.menuController.swipeGesture(K,ve)}isOpen(K){return this.menuController.isOpen(K)}isEnabled(K){return this.menuController.isEnabled(K)}get(K){return this.menuController.get(K)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(K,ve){return this.menuController.registerAnimation(K,ve)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(K,ve){return this.menuController._createAnimation(K,ve)}_register(K){return this.menuController._register(K)}_unregister(K){return this.menuController._unregister(K)}_setOpen(K,ve,Z){return this.menuController._setOpen(K,ve,Z)}}let rt=(()=>{var se;class K{constructor(Z,J){(0,f.A)(this,"doc",void 0),(0,f.A)(this,"_readyPromise",void 0),(0,f.A)(this,"win",void 0),(0,f.A)(this,"backButton",new Ot.B),(0,f.A)(this,"keyboardDidShow",new Ot.B),(0,f.A)(this,"keyboardDidHide",new Ot.B),(0,f.A)(this,"pause",new Ot.B),(0,f.A)(this,"resume",new Ot.B),(0,f.A)(this,"resize",new Ot.B),this.doc=Z,J.run(()=>{var we;let vt;this.win=Z.defaultView,this.backButton.subscribeWithPriority=function(Bt,rn){return this.subscribe(Bn=>Bn.register(Bt,xn=>J.run(()=>rn(xn))))},St(this.pause,Z,"pause",J),St(this.resume,Z,"resume",J),St(this.backButton,Z,"ionBackButton",J),St(this.resize,this.win,"resize",J),St(this.keyboardDidShow,this.win,"ionKeyboardDidShow",J),St(this.keyboardDidHide,this.win,"ionKeyboardDidHide",J),this._readyPromise=new Promise(Bt=>{vt=Bt}),null!==(we=this.win)&&void 0!==we&&we.cordova?Z.addEventListener("deviceready",()=>{vt("cordova")},{once:!0}):vt("dom")})}is(Z){return(0,ae.a)(this.win,Z)}platforms(){return(0,ae.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Z){return lt(this.win.location.href,Z)}isLandscape(){return!this.isPortrait()}isPortrait(){var Z,J;return null===(Z=(J=this.win).matchMedia)||void 0===Z?void 0:Z.call(J,"(orientation: portrait)").matches}testUserAgent(Z){const J=this.win.navigator;return!!(null!=J&&J.userAgent&&J.userAgent.indexOf(Z)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.KVO(ie.qQ),ne.KVO(ne.SKi))}),(0,f.A)(K,"\u0275prov",ne.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})),K})();const lt=(se,K)=>{K=K.replace(/[[\]\\]/g,"\\$&");const Z=new RegExp("[\\?&]"+K+"=([^&#]*)").exec(se);return Z?decodeURIComponent(Z[1].replace(/\+/g," ")):null},St=(se,K,ve,Z)=>{K&&K.addEventListener(ve,J=>{Z.run(()=>{se.next(null!=J?J.detail:void 0)})})};let An=(()=>{var se;class K{constructor(Z,J,we,vt){(0,f.A)(this,"location",void 0),(0,f.A)(this,"serializer",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"topOutlet",void 0),(0,f.A)(this,"direction",dn),(0,f.A)(this,"animated",Zt),(0,f.A)(this,"animationBuilder",void 0),(0,f.A)(this,"guessDirection","forward"),(0,f.A)(this,"guessAnimation",void 0),(0,f.A)(this,"lastNavId",-1),this.location=J,this.serializer=we,this.router=vt,vt&&vt.events.subscribe(Bt=>{if(Bt instanceof te.Z){const rn=Bt.restoredState?Bt.restoredState.navigationId:Bt.id;this.guessDirection=this.guessAnimation=rn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Bt.id:rn}}),Z.backButton.subscribeWithPriority(0,Bt=>{this.pop(),Bt()})}navigateForward(Z,J={}){return this.setDirection("forward",J.animated,J.animationDirection,J.animation),this.navigate(Z,J)}navigateBack(Z,J={}){return this.setDirection("back",J.animated,J.animationDirection,J.animation),this.navigate(Z,J)}navigateRoot(Z,J={}){return this.setDirection("root",J.animated,J.animationDirection,J.animation),this.navigate(Z,J)}back(Z={animated:!0,animationDirection:"back"}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.location.back()}pop(){var Z=this;return(0,c.A)(function*(){let J=Z.topOutlet;for(;J;){if(yield J.pop())return!0;J=J.parentOutlet}return!1})()}setDirection(Z,J,we,vt){this.direction=Z,this.animated=sn(Z,J,we),this.animationBuilder=vt}setTopOutlet(Z){this.topOutlet=Z}consumeTransition(){let J,Z="root";const we=this.animationBuilder;return"auto"===this.direction?(Z=this.guessDirection,J=this.guessAnimation):(J=this.animated,Z=this.direction),this.direction=dn,this.animated=Zt,this.animationBuilder=void 0,{direction:Z,animation:J,animationBuilder:we}}navigate(Z,J){if(Array.isArray(Z))return this.router.navigate(Z,J);{const we=this.serializer.parse(Z.toString());return void 0!==J.queryParams&&(we.queryParams={...J.queryParams}),void 0!==J.fragment&&(we.fragment=J.fragment),this.router.navigateByUrl(we,J)}}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.KVO(rt),ne.KVO(ie.aZ),ne.KVO(te.Sd),ne.KVO(te.Ix,8))}),(0,f.A)(K,"\u0275prov",ne.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})),K})();const sn=(se,K,ve)=>{if(!1!==K){if(void 0!==ve)return ve;if("forward"===se||"back"===se)return se;if("root"===se&&!0===K)return"forward"}},dn="auto",Zt=void 0;let Mn=(()=>{var se;class K{get(Z,J){const we=_n();return we?we.get(Z,J):null}getBoolean(Z,J){const we=_n();return!!we&&we.getBoolean(Z,J)}getNumber(Z,J){const we=_n();return we?we.getNumber(Z,J):0}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)}),(0,f.A)(K,"\u0275prov",ne.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})),K})();const En=new ne.nKC("USERCONFIG"),_n=()=>{if(typeof window<"u"){const se=window.Ionic;if(null!=se&&se.config)return se.config}return null};class Kt{constructor(K={}){(0,f.A)(this,"data",void 0),this.data=K,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(K){return this.data[K]}}let ir=(()=>{var se;class K{constructor(){(0,f.A)(this,"zone",(0,ne.WQX)(ne.SKi)),(0,f.A)(this,"applicationRef",(0,ne.WQX)(ne.o8S)),(0,f.A)(this,"config",(0,ne.WQX)(En))}create(Z,J,we){var vt;return new Tt(Z,J,this.applicationRef,this.zone,we,null!==(vt=this.config.useSetInputAPI)&&void 0!==vt&&vt)}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)}),(0,f.A)(K,"\u0275prov",ne.jDH({token:se,factory:se.\u0275fac})),K})();class Tt{constructor(K,ve,Z,J,we,vt){(0,f.A)(this,"environmentInjector",void 0),(0,f.A)(this,"injector",void 0),(0,f.A)(this,"applicationRef",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"elementReferenceKey",void 0),(0,f.A)(this,"enableSignalsSupport",void 0),(0,f.A)(this,"elRefMap",new WeakMap),(0,f.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=K,this.injector=ve,this.applicationRef=Z,this.zone=J,this.elementReferenceKey=we,this.enableSignalsSupport=vt}attachViewToDom(K,ve,Z,J){return this.zone.run(()=>new Promise(we=>{const vt={...Z};void 0!==this.elementReferenceKey&&(vt[this.elementReferenceKey]=K),we(Pt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,K,ve,vt,J,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(K,ve){return this.zone.run(()=>new Promise(Z=>{const J=this.elRefMap.get(ve);if(J){J.destroy(),this.elRefMap.delete(ve);const we=this.elEventsMap.get(ve);we&&(we(),this.elEventsMap.delete(ve))}Z()}))}}const Pt=(se,K,ve,Z,J,we,vt,Bt,rn,Bn,xn,$n)=>{const nr=ne.zZn.create({providers:zn(rn),parent:ve}),Pn=(0,ne.a0P)(Bt,{environmentInjector:K,elementInjector:nr}),mr=Pn.instance,On=Pn.location.nativeElement;if(rn)if(xn&&void 0!==mr[xn]&&console.error(`[Ionic Error]: ${xn} is a reserved property when using ${vt.tagName.toLowerCase()}. Rename or remove the "${xn}" property from ${Bt.name}.`),!0===$n&&void 0!==Pn.setInput){const{modal:or,popover:li,...ti}=rn;for(const lr in ti)Pn.setInput(lr,ti[lr]);void 0!==or&&Object.assign(mr,{modal:or}),void 0!==li&&Object.assign(mr,{popover:li})}else Object.assign(mr,rn);if(Bn)for(const or of Bn)On.classList.add(or);const br=Le(se,mr,On);return vt.appendChild(On),Z.attachView(Pn.hostView),J.set(On,Pn),we.set(On,br),On},bt=[be.L,be.a,be.b,be.c,be.d],Le=(se,K,ve)=>se.run(()=>{const Z=bt.filter(J=>"function"==typeof K[J]).map(J=>{const we=vt=>K[J](vt.detail);return ve.addEventListener(J,we),()=>ve.removeEventListener(J,we)});return()=>Z.forEach(J=>J())}),Nn=new ne.nKC("NavParamsToken"),zn=se=>[{provide:Nn,useValue:se},{provide:Kt,useFactory:vn,deps:[Nn]}],vn=se=>new Kt(se),hn=(se,K)=>{const ve=se.prototype;K.forEach(Z=>{Object.defineProperty(ve,Z,{get(){return this.el[Z]},set(J){this.z.runOutsideAngular(()=>this.el[Z]=J)}})})},Wn=(se,K)=>{const ve=se.prototype;K.forEach(Z=>{ve[Z]=function(){const J=arguments;return this.z.runOutsideAngular(()=>this.el[Z].apply(this.el,J))}})},Qn=(se,K,ve)=>{ve.forEach(Z=>se[Z]=(0,zt.R)(K,Z))};function kn(se){return function(ve){const{defineCustomElementFn:Z,inputs:J,methods:we}=se;return void 0!==Z&&Z(),J&&hn(ve,J),we&&Wn(ve,we),ve}}const er=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],fr=["present","dismiss","onDidDismiss","onWillDismiss"];let pr=(()=>{var se;let K=((0,f.A)(se=class{constructor(Z,J,we){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=we,this.el=J.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Z.detectChanges()}),Qn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ne.gRc),ne.rXU(ne.aKT),ne.rXU(ne.SKi))}),(0,f.A)(se,"\u0275dir",ne.FsC({type:se,selectors:[["ion-popover"]],contentQueries:function(Z,J,we){if(1&Z&&ne.wni(we,ne.C4Q,5),2&Z){let vt;ne.mGM(vt=ne.lsd())&&(J.template=vt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),se);return K=(0,Fe.Cg)([kn({inputs:er,methods:fr})],K),K})();const tr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Gr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let jn=(()=>{var se;let K=((0,f.A)(se=class{constructor(Z,J,we){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=we,this.el=J.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Z.detectChanges()}),Qn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ne.gRc),ne.rXU(ne.aKT),ne.rXU(ne.SKi))}),(0,f.A)(se,"\u0275dir",ne.FsC({type:se,selectors:[["ion-modal"]],contentQueries:function(Z,J,we){if(1&Z&&ne.wni(we,ne.C4Q,5),2&Z){let vt;ne.mGM(vt=ne.lsd())&&(J.template=vt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),se);return K=(0,Fe.Cg)([kn({inputs:tr,methods:Gr})],K),K})();const Ir=(se,K)=>((se=se.filter(ve=>ve.stackId!==K.stackId)).push(K),se),Vt=(se,K)=>{const ve=se.createUrlTree(["."],{relativeTo:K});return se.serializeUrl(ve)},fe=(se,K)=>!K||se.stackId!==K.stackId,ze=(se,K)=>{if(!se)return;const ve=Pe(K);for(let Z=0;Z<ve.length;Z++){if(Z>=se.length)return ve[Z];if(ve[Z]!==se[Z])return}},Pe=se=>se.split("/").map(K=>K.trim()).filter(K=>""!==K),Oe=se=>{se&&(se.ref.destroy(),se.unlistenEvents())};class At{constructor(K,ve,Z,J,we,vt){(0,f.A)(this,"containerEl",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"location",void 0),(0,f.A)(this,"views",[]),(0,f.A)(this,"runningTask",void 0),(0,f.A)(this,"skipTransition",!1),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"activeView",void 0),(0,f.A)(this,"nextId",0),this.containerEl=ve,this.router=Z,this.navCtrl=J,this.zone=we,this.location=vt,this.tabsPrefix=void 0!==K?Pe(K):void 0}createView(K,ve){var Z;const J=Vt(this.router,ve),we=null==K||null===(Z=K.location)||void 0===Z?void 0:Z.nativeElement,vt=Le(this.zone,K.instance,we);return{id:this.nextId++,stackId:ze(this.tabsPrefix,J),unlistenEvents:vt,element:we,ref:K,url:J}}getExistingView(K){const ve=Vt(this.router,K),Z=this.views.find(J=>J.url===ve);return Z&&Z.ref.changeDetectorRef.reattach(),Z}setActive(K){var ve,Z;const J=this.navCtrl.consumeTransition();let{direction:we,animation:vt,animationBuilder:Bt}=J;const rn=this.activeView,Bn=fe(K,rn);Bn&&(we="back",vt=void 0);const xn=this.views.slice();let $n;const nr=this.router;nr.getCurrentNavigation?$n=nr.getCurrentNavigation():null!==(ve=nr.navigations)&&void 0!==ve&&ve.value&&($n=nr.navigations.value),null!==(Z=$n)&&void 0!==Z&&null!==(Z=Z.extras)&&void 0!==Z&&Z.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Pn=this.views.includes(K),mr=this.insertView(K,we);Pn||K.ref.changeDetectorRef.detectChanges();const On=K.animationBuilder;return void 0===Bt&&"back"===we&&!Bn&&void 0!==On&&(Bt=On),rn&&(rn.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(rn&&rn.ref.changeDetectorRef.detach(),K.ref.changeDetectorRef.reattach(),this.transition(K,rn,vt,this.canGoBack(1),!1,Bt).then(()=>Je(K,mr,xn,this.location,this.zone)).then(()=>({enteringView:K,direction:we,animation:vt,tabSwitch:Bn})))))}canGoBack(K,ve=this.getActiveStackId()){return this.getStack(ve).length>K}pop(K,ve=this.getActiveStackId()){return this.zone.run(()=>{const Z=this.getStack(ve);if(Z.length<=K)return Promise.resolve(!1);const J=Z[Z.length-K-1];let we=J.url;const vt=J.savedData;if(vt){var Bt;const Bn=vt.get("primary");null!=Bn&&null!==(Bt=Bn.route)&&void 0!==Bt&&null!==(Bt=Bt._routerState)&&void 0!==Bt&&Bt.snapshot.url&&(we=Bn.route._routerState.snapshot.url)}const{animationBuilder:rn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(we,{...J.savedExtras,animation:rn}).then(()=>!0)})}startBackTransition(){const K=this.activeView;if(K){const ve=this.getStack(K.stackId),Z=ve[ve.length-2],J=Z.animationBuilder;return this.wait(()=>this.transition(Z,K,"back",this.canGoBack(2),!0,J))}return Promise.resolve()}endBackTransition(K){K?(this.skipTransition=!0,this.pop(1)):this.activeView&&it(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(K){const ve=this.getStack(K);return ve.length>0?ve[ve.length-1]:void 0}getRootUrl(K){const ve=this.getStack(K);return ve.length>0?ve[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Oe),this.activeView=void 0,this.views=[]}getStack(K){return this.views.filter(ve=>ve.stackId===K)}insertView(K,ve){return this.activeView=K,this.views=((se,K,ve)=>"root"===ve?Ir(se,K):"forward"===ve?((se,K)=>(se.indexOf(K)>=0?se=se.filter(Z=>Z.stackId!==K.stackId||Z.id<=K.id):se.push(K),se))(se,K):((se,K)=>se.indexOf(K)>=0?se.filter(Z=>Z.stackId!==K.stackId||Z.id<=K.id):Ir(se,K))(se,K))(this.views,K,ve),this.views.slice()}transition(K,ve,Z,J,we,vt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ve===K)return Promise.resolve(!1);const Bt=K?K.element:void 0,rn=ve?ve.element:void 0,Bn=this.containerEl;return Bt&&Bt!==rn&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),Bn.commit)?Bn.commit(Bt,rn,{duration:void 0===Z?0:void 0,direction:Z,showGoBack:J,progressAnimation:we,animationBuilder:vt}):Promise.resolve(!1)}wait(K){var ve=this;return(0,c.A)(function*(){void 0!==ve.runningTask&&(yield ve.runningTask,ve.runningTask=void 0);const Z=ve.runningTask=K();return Z.finally(()=>ve.runningTask=void 0),Z})()}}const Je=(se,K,ve,Z,J)=>"function"==typeof requestAnimationFrame?new Promise(we=>{requestAnimationFrame(()=>{it(se,K,ve,Z,J),we()})}):Promise.resolve(),it=(se,K,ve,Z,J)=>{J.run(()=>ve.filter(we=>!K.includes(we)).forEach(Oe)),K.forEach(we=>{const Bt=Z.path().split("?")[0].split("#")[0];if(we!==se&&we.url!==Bt){const rn=we.element;rn.setAttribute("aria-hidden","true"),rn.classList.add("ion-page-hidden"),we.ref.changeDetectorRef.detach()}})};let Ht=(()=>{var se;class K{get activatedComponentRef(){return this.activated}set animation(Z){this.nativeEl.animation=Z}set animated(Z){this.nativeEl.animated=Z}set swipeGesture(Z){this._swipeGesture=Z,this.nativeEl.swipeHandler=Z?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:J=>this.stackCtrl.endBackTransition(J)}:void 0}constructor(Z,J,we,vt,Bt,rn,Bn,xn){(0,f.A)(this,"parentOutlet",void 0),(0,f.A)(this,"nativeEl",void 0),(0,f.A)(this,"activatedView",null),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"_swipeGesture",void 0),(0,f.A)(this,"stackCtrl",void 0),(0,f.A)(this,"proxyMap",new WeakMap),(0,f.A)(this,"currentActivatedRoute$",new Nt.t(null)),(0,f.A)(this,"activated",null),(0,f.A)(this,"_activatedRoute",null),(0,f.A)(this,"name",te.Xk),(0,f.A)(this,"stackWillChange",new ne.bkB),(0,f.A)(this,"stackDidChange",new ne.bkB),(0,f.A)(this,"activateEvents",new ne.bkB),(0,f.A)(this,"deactivateEvents",new ne.bkB),(0,f.A)(this,"parentContexts",(0,ne.WQX)(te.Zp)),(0,f.A)(this,"location",(0,ne.WQX)(ne.c1b)),(0,f.A)(this,"environmentInjector",(0,ne.WQX)(ne.uvJ)),(0,f.A)(this,"inputBinder",(0,ne.WQX)(Re,{optional:!0})),(0,f.A)(this,"supportsBindingToComponentInputs",!0),(0,f.A)(this,"config",(0,ne.WQX)(Mn)),(0,f.A)(this,"navCtrl",(0,ne.WQX)(An)),this.parentOutlet=xn,this.nativeEl=vt.nativeElement,this.name=Z||te.Xk,this.tabsPrefix="true"===J?Vt(Bt,Bn):void 0,this.stackCtrl=new At(this.tabsPrefix,this.nativeEl,Bt,this.navCtrl,rn,we),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Z;this.stackCtrl.destroy(),null===(Z=this.inputBinder)||void 0===Z||Z.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Z=this.getContext();null!=Z&&Z.route&&this.activateWith(Z.route,Z.injector)}new Promise(Z=>((se,K)=>{se.componentOnReady?se.componentOnReady().then(ve=>K(ve)):(se=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(se):"function"==typeof requestAnimationFrame?requestAnimationFrame(se):setTimeout(se)})(()=>K(se))})(this.nativeEl,Z)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Z,J){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const J=this.getContext();this.activatedView.savedData=new Map(J.children.contexts);const we=this.activatedView.savedData.get("primary");if(we&&J.route&&(we.route={...J.route}),this.activatedView.savedExtras={},J.route){const vt=J.route.snapshot;this.activatedView.savedExtras.queryParams=vt.queryParams,this.activatedView.savedExtras.fragment=vt.fragment}}const Z=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Z)}}activateWith(Z,J){var we;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Z;let vt,Bt=this.stackCtrl.getExistingView(Z);if(Bt){vt=this.activated=Bt.ref;const xn=Bt.savedData;xn&&(this.getContext().children.contexts=xn),this.updateActivatedRouteProxy(vt.instance,Z)}else{var rn;const xn=Z._futureSnapshot,$n=this.parentContexts.getOrCreateContext(this.name).children,nr=new Nt.t(null),Pn=this.createActivatedRouteProxy(nr,Z),mr=new Te(Pn,$n,this.location.injector),On=null!==(rn=xn.routeConfig.component)&&void 0!==rn?rn:xn.component;vt=this.activated=this.outletContent.createComponent(On,{index:this.outletContent.length,injector:mr,environmentInjector:null!=J?J:this.environmentInjector}),nr.next(vt.instance),Bt=this.stackCtrl.createView(this.activated,Z),this.proxyMap.set(vt.instance,Pn),this.currentActivatedRoute$.next({component:vt.instance,activatedRoute:Z})}null===(we=this.inputBinder)||void 0===we||we.bindActivatedRouteToOutletComponent(this),this.activatedView=Bt,this.navCtrl.setTopOutlet(this);const Bn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Bt,tabSwitch:fe(Bt,Bn)}),this.stackCtrl.setActive(Bt).then(xn=>{this.activateEvents.emit(vt.instance),this.stackDidChange.emit(xn)})}canGoBack(Z=1,J){return this.stackCtrl.canGoBack(Z,J)}pop(Z=1,J){return this.stackCtrl.pop(Z,J)}getLastUrl(Z){const J=this.stackCtrl.getLastUrl(Z);return J?J.url:void 0}getLastRouteView(Z){return this.stackCtrl.getLastUrl(Z)}getRootView(Z){return this.stackCtrl.getRootUrl(Z)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Z,J){const we=new te.nX;return we._futureSnapshot=J._futureSnapshot,we._routerState=J._routerState,we.snapshot=J.snapshot,we.outlet=J.outlet,we.component=J.component,we._paramMap=this.proxyObservable(Z,"paramMap"),we._queryParamMap=this.proxyObservable(Z,"queryParamMap"),we.url=this.proxyObservable(Z,"url"),we.params=this.proxyObservable(Z,"params"),we.queryParams=this.proxyObservable(Z,"queryParams"),we.fragment=this.proxyObservable(Z,"fragment"),we.data=this.proxyObservable(Z,"data"),we}proxyObservable(Z,J){return Z.pipe((0,Y.p)(we=>!!we),(0,ee.n)(we=>this.currentActivatedRoute$.pipe((0,Y.p)(vt=>null!==vt&&vt.component===we),(0,ee.n)(vt=>vt&&vt.activatedRoute[J]),(0,ye.F)())))}updateActivatedRouteProxy(Z,J){const we=this.proxyMap.get(Z);if(!we)throw new Error("Could not find activated route proxy for view");we._futureSnapshot=J._futureSnapshot,we._routerState=J._routerState,we.snapshot=J.snapshot,we.outlet=J.outlet,we.component=J.component,this.currentActivatedRoute$.next({component:Z,activatedRoute:J})}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.kS0("name"),ne.kS0("tabs"),ne.rXU(ie.aZ),ne.rXU(ne.aKT),ne.rXU(te.Ix),ne.rXU(ne.SKi),ne.rXU(te.nX),ne.rXU(se,12))}),(0,f.A)(K,"\u0275dir",ne.FsC({type:se,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),K})();class Te{constructor(K,ve,Z){(0,f.A)(this,"route",void 0),(0,f.A)(this,"childContexts",void 0),(0,f.A)(this,"parent",void 0),this.route=K,this.childContexts=ve,this.parent=Z}get(K,ve){return K===te.nX?this.route:K===te.Zp?this.childContexts:this.parent.get(K,ve)}}const Re=new ne.nKC("");let We=(()=>{var se;class K{constructor(){(0,f.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Z){this.unsubscribeFromRouteData(Z),this.subscribeToRouteData(Z)}unsubscribeFromRouteData(Z){var J;null===(J=this.outletDataSubscriptions.get(Z))||void 0===J||J.unsubscribe(),this.outletDataSubscriptions.delete(Z)}subscribeToRouteData(Z){const{activatedRoute:J}=Z,we=(0,Et.z)([J.queryParams,J.params,J.data]).pipe((0,ee.n)(([vt,Bt,rn],Bn)=>(rn={...vt,...Bt,...rn},0===Bn?(0,Dn.of)(rn):Promise.resolve(rn)))).subscribe(vt=>{if(!Z.isActivated||!Z.activatedComponentRef||Z.activatedRoute!==J||null===J.component)return void this.unsubscribeFromRouteData(Z);const Bt=(0,ne.HJs)(J.component);if(Bt)for(const{templateName:rn}of Bt.inputs)Z.activatedComponentRef.setInput(rn,vt[rn]);else this.unsubscribeFromRouteData(Z)});this.outletDataSubscriptions.set(Z,we)}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)}),(0,f.A)(K,"\u0275prov",ne.jDH({token:se,factory:se.\u0275fac})),K})();const Lt=()=>({provide:Re,useFactory:ft,deps:[te.Ix]});function ft(se){return null!=se&&se.componentInputBindingEnabled?new We:null}const pn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let cn=(()=>{var se;let K=((0,f.A)(se=class{constructor(Z,J,we,vt,Bt,rn){(0,f.A)(this,"routerOutlet",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"config",void 0),(0,f.A)(this,"r",void 0),(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.routerOutlet=Z,this.navCtrl=J,this.config=we,this.r=vt,this.z=Bt,rn.detach(),this.el=this.r.nativeElement}onClick(Z){var J;const we=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(J=this.routerOutlet)&&void 0!==J&&J.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Z.preventDefault()):null!=we&&(this.navCtrl.navigateBack(we,{animation:this.routerAnimation}),Z.preventDefault())}},"\u0275fac",function(Z){return new(Z||se)(ne.rXU(Ht,8),ne.rXU(An),ne.rXU(Mn),ne.rXU(ne.aKT),ne.rXU(ne.SKi),ne.rXU(ne.gRc))}),(0,f.A)(se,"\u0275dir",ne.FsC({type:se,hostBindings:function(Z,J){1&Z&&ne.bIt("click",function(vt){return J.onClick(vt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),se);return K=(0,Fe.Cg)([kn({inputs:pn})],K),K})(),Mr=(()=>{var se;class K{constructor(Z,J,we,vt,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=Z,this.navCtrl=J,this.elementRef=we,this.router=vt,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const J=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(J.tagName)&&"0"===J.getAttribute("tabindex")&&J.removeAttribute("tabindex")}updateTargetUrlAndHref(){var Z;if(null!==(Z=this.routerLink)&&void 0!==Z&&Z.urlTree){const J=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=J}}onClick(Z){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Z.preventDefault()}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ie.hb),ne.rXU(An),ne.rXU(ne.aKT),ne.rXU(te.Ix),ne.rXU(te.Wk,8))}),(0,f.A)(K,"\u0275dir",ne.FsC({type:se,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Z,J){1&Z&&ne.bIt("click",function(vt){return J.onClick(vt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ne.OA$]})),K})(),$r=(()=>{var se;class K{constructor(Z,J,we,vt,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=Z,this.navCtrl=J,this.elementRef=we,this.router=vt,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Z;if(null!==(Z=this.routerLink)&&void 0!==Z&&Z.urlTree){const J=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=J}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ie.hb),ne.rXU(An),ne.rXU(ne.aKT),ne.rXU(te.Ix),ne.rXU(te.Wk,8))}),(0,f.A)(K,"\u0275dir",ne.FsC({type:se,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Z,J){1&Z&&ne.bIt("click",function(){return J.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ne.OA$]})),K})();const Hn=["animated","animation","root","rootParams","swipeGesture"],Er=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Un=(()=>{var se;let K=((0,f.A)(se=class{constructor(Z,J,we,vt,Bt,rn){(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.z=Bt,rn.detach(),this.el=Z.nativeElement,Z.nativeElement.delegate=vt.create(J,we),Qn(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ne.aKT),ne.rXU(ne.uvJ),ne.rXU(ne.zZn),ne.rXU(ir),ne.rXU(ne.SKi),ne.rXU(ne.gRc))}),(0,f.A)(se,"\u0275dir",ne.FsC({type:se,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),se);return K=(0,Fe.Cg)([kn({inputs:Hn,methods:Er})],K),K})(),Lr=(()=>{var se;class K{constructor(Z){(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"tabsInner",void 0),(0,f.A)(this,"ionTabsWillChange",new ne.bkB),(0,f.A)(this,"ionTabsDidChange",new ne.bkB),(0,f.A)(this,"tabBarSlot","bottom"),(0,f.A)(this,"hasTab",!1),(0,f.A)(this,"selectedTab",void 0),(0,f.A)(this,"leavingTab",void 0),this.navCtrl=Z}ngAfterViewInit(){const Z=this.tabs.length>0?this.tabs.first:void 0;Z&&(this.hasTab=!0,this.setActiveTab(Z.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Z,tabSwitch:J}){const we=Z.stackId;J&&void 0!==we&&this.ionTabsWillChange.emit({tab:we})}onStackDidChange({enteringView:Z,tabSwitch:J}){const we=Z.stackId;J&&void 0!==we&&(this.tabBar&&(this.tabBar.selectedTab=we),this.ionTabsDidChange.emit({tab:we}))}select(Z){const J="string"==typeof Z,we=J?Z:Z.detail.tab;if(this.hasTab)return this.setActiveTab(we),void this.tabSwitch();const vt=this.outlet.getActiveStackId()===we,Bt=`${this.outlet.tabsPrefix}/${we}`;if(J||Z.stopPropagation(),vt){const rn=this.outlet.getActiveStackId(),Bn=this.outlet.getLastRouteView(rn);if((null==Bn?void 0:Bn.url)===Bt)return;const xn=this.outlet.getRootView(we);return this.navCtrl.navigateRoot(Bt,{...xn&&Bt===xn.url&&xn.savedExtras,animated:!0,animationDirection:"back"})}{const rn=this.outlet.getLastRouteView(we);return this.navCtrl.navigateRoot((null==rn?void 0:rn.url)||Bt,{...null==rn?void 0:rn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(Z){const we=this.tabs.find(vt=>vt.tab===Z);we?(this.leavingTab=this.selectedTab,this.selectedTab=we,this.ionTabsWillChange.emit({tab:Z}),we.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${Z}" does not exist`)}tabSwitch(){const{selectedTab:Z,leavingTab:J}=this;this.tabBar&&Z&&(this.tabBar.selectedTab=Z.tab),(null==J?void 0:J.tab)!==(null==Z?void 0:Z.tab)&&null!=J&&J.el&&(J.el.active=!1),Z&&this.ionTabsDidChange.emit({tab:Z.tab})}getSelected(){var Z;return this.hasTab?null===(Z=this.selectedTab)||void 0===Z?void 0:Z.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Z=>{const J=Z.el.getAttribute("slot");J!==this.tabBarSlot&&(this.tabBarSlot=J,this.relocateTabBar())})}relocateTabBar(){const Z=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Z):this.tabsInner.nativeElement.after(Z)}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.rXU(An))}),(0,f.A)(K,"\u0275dir",ne.FsC({type:se,selectors:[["ion-tabs"]],viewQuery:function(Z,J){if(1&Z&&ne.GBs(Ae,7,ne.aKT),2&Z){let we;ne.mGM(we=ne.lsd())&&(J.tabsInner=we.first)}},hostBindings:function(Z,J){1&Z&&ne.bIt("ionTabButtonClick",function(vt){return J.select(vt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),K})();const Sr=se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(se):"function"==typeof requestAnimationFrame?requestAnimationFrame(se):setTimeout(se);let Fn=(()=>{var se;class K{constructor(Z,J){(0,f.A)(this,"injector",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"onChange",()=>{}),(0,f.A)(this,"onTouched",()=>{}),(0,f.A)(this,"lastValue",void 0),(0,f.A)(this,"statusChanges",void 0),this.injector=Z,this.elementRef=J}writeValue(Z){this.elementRef.nativeElement.value=this.lastValue=Z,Pr(this.elementRef)}handleValueChange(Z,J){Z===this.elementRef.nativeElement&&(J!==this.lastValue&&(this.lastValue=J,this.onChange(J)),Pr(this.elementRef))}_handleBlurEvent(Z){Z===this.elementRef.nativeElement&&(this.onTouched(),Pr(this.elementRef))}registerOnChange(Z){this.onChange=Z}registerOnTouched(Z){this.onTouched=Z}setDisabledState(Z){this.elementRef.nativeElement.disabled=Z}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Z;try{Z=this.injector.get(re.vO)}catch{}if(!Z)return;Z.statusChanges&&(this.statusChanges=Z.statusChanges.subscribe(()=>Pr(this.elementRef)));const J=Z.control;J&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(vt=>{if(typeof J[vt]<"u"){const Bt=J[vt].bind(J);J[vt]=(...rn)=>{Bt(...rn),Pr(this.elementRef)}}})}}return se=K,(0,f.A)(K,"\u0275fac",function(Z){return new(Z||se)(ne.rXU(ne.zZn),ne.rXU(ne.aKT))}),(0,f.A)(K,"\u0275dir",ne.FsC({type:se,hostBindings:function(Z,J){1&Z&&ne.bIt("ionBlur",function(vt){return J._handleBlurEvent(vt.target)})}})),K})();const Pr=se=>{Sr(()=>{const K=se.nativeElement,ve=null!=K.value&&K.value.toString().length>0,Z=_i(K);Mi(K,Z);const J=K.closest("ion-item");J&&Mi(J,ve?[...Z,"item-has-value"]:Z)})},_i=se=>{const K=se.classList,ve=[];for(let Z=0;Z<K.length;Z++){const J=K.item(Z);null!==J&&ki(J,"ng-")&&ve.push(`ion-${J.substring(3)}`)}return ve},Mi=(se,K)=>{const ve=se.classList;ve.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ve.add(...K)},ki=(se,K)=>se.substring(0,K.length)===K;class Fi{shouldDetach(K){return!1}shouldAttach(K){return!1}store(K,ve){}retrieve(K){return null}shouldReuseRoute(K,ve){if(K.routeConfig!==ve.routeConfig)return!1;const Z=K.params,J=ve.params,we=Object.keys(Z),vt=Object.keys(J);if(we.length!==vt.length)return!1;for(const Bt of we)if(J[Bt]!==Z[Bt])return!1;return!0}}class gr{constructor(K){(0,f.A)(this,"ctrl",void 0),this.ctrl=K}create(K){return this.ctrl.create(K||{})}dismiss(K,ve,Z){return this.ctrl.dismiss(K,ve,Z)}getTop(){return this.ctrl.getTop()}}},4742:(mn,_t,k)=>{"use strict";k.d(_t,{xk:()=>St,YH:()=>An,U1:()=>Zt,mC:()=>Mn,el:()=>Di,Jm:()=>Tt,QW:()=>Pt,b_:()=>bt,I9:()=>Le,ME:()=>Nn,HW:()=>zn,tN:()=>vn,hU:()=>Qn,W9:()=>kn,A9:()=>er,M0:()=>jn,lO:()=>Vr,eU:()=>Ir,iq:()=>yt,$w:()=>ze,uz:()=>Oe,he:()=>Re,nf:()=>We,rQ:()=>ft,oS:()=>pn,MC:()=>cn,cA:()=>Mr,mN:()=>$r,Rg:()=>ji,ln:()=>ve,IO:()=>or,BC:()=>lr,ai:()=>vr,bv:()=>Oo,Xi:()=>jo,_t:()=>ii,W3:()=>Li,su:()=>ye,N7:()=>pi,oY:()=>ri,Je:()=>re,Gw:()=>Ae,K_:()=>bo});var c=k(9842),f=k(4438),ne=k(4341),te=k(2872),ie=k(1635),ae=k(3726),be=k(177),Be=k(4964),He=(k(9986),k(3604),k(5022),k(3615),k(8607),k(9483)),Ze=k(464),ct=k(1702),nt=k(5229),It=(k(8476),k(4261));k(1970),k(7192);var dt=k(467);const at=He.i,Mt=function(){var O=(0,dt.A)(function*(A,N){if(!(typeof window>"u"))return yield at(),(0,It.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),N)});return function(N,b){return O.apply(this,arguments)}}(),pe=["*"],De=["outletContent"];let ye=(()=>{var O;class A extends te.fL{constructor(b,j){super(b,j),(0,c.A)(this,"el",void 0),this.el=j}handleInputEvent(b){this.handleValueChange(b,b.value)}registerOnChange(b){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?j=>{b(""===j?null:parseFloat(j))}:b)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(b,j){1&b&&f.bIt("ionInput",function(Xe){return j.handleInputEvent(Xe.target)})},features:[f.Jv_([{provide:ne.kq,useExisting:O,multi:!0}]),f.Vt3]})),A})(),re=(()=>{var O;class A extends te.fL{constructor(b,j){super(b,j)}_handleChangeEvent(b){this.handleValueChange(b,b.value)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(b,j){1&b&&f.bIt("ionChange",function(Xe){return j._handleChangeEvent(Xe.target)})},features:[f.Jv_([{provide:ne.kq,useExisting:O,multi:!0}]),f.Vt3]})),A})(),Ae=(()=>{var O;class A extends te.fL{constructor(b,j){super(b,j)}_handleInputEvent(b){this.handleValueChange(b,b.value)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,j){1&b&&f.bIt("ionInput",function(Xe){return j._handleInputEvent(Xe.target)})},features:[f.Jv_([{provide:ne.kq,useExisting:O,multi:!0}]),f.Vt3]})),A})();const Qe=(O,A)=>{const N=O.prototype;A.forEach(b=>{Object.defineProperty(N,b,{get(){return this.el[b]},set(j){this.z.runOutsideAngular(()=>this.el[b]=j)},configurable:!0})})},Ke=(O,A)=>{const N=O.prototype;A.forEach(b=>{N[b]=function(){const j=arguments;return this.z.runOutsideAngular(()=>this.el[b].apply(this.el,j))}})},Ve=(O,A,N)=>{N.forEach(b=>O[b]=(0,ae.R)(A,b))};function lt(O){return function(N){const{defineCustomElementFn:b,inputs:j,methods:oe}=O;return void 0!==b&&b(),j&&Qe(N,j),oe&&Ke(N,oe),N}}let St=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],A),A})(),An=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionChange"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],A),A})(),Zt=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-app"]],ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({methods:["setFocus"]})],A),A})(),Mn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-avatar"]],ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({})],A),A})(),Tt=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],A),A})(),Pt=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["collapse"]})],A),A})(),bt=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],A),A})(),Le=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["mode"]})],A),A})(),Nn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode","translucent"]})],A),A})(),zn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode"]})],A),A})(),vn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode"]})],A),A})(),Qn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],A),A})(),kn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],A),A})(),er=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],A),A})(),jn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["collapse","mode","translucent"]})],A),A})(),Vr=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["fixed"]})],A),A})(),Ir=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["collapse","mode","translucent"]})],A),A})(),yt=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],A),A})(),ze=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],A),A})(),Oe=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],A),A})(),Re=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode","position"]})],A),A})(),We=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],A),A})(),ft=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],A),A})(),pn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement,Ve(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],A),A})(),cn=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["autoHide","color","disabled","menu","mode","type"]})],A),A})(),Mr=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["autoHide","menu"]})],A),A})(),$r=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-nav-link"]],inputs:{component:"component",componentProps:"componentProps",routerAnimation:"routerAnimation",routerDirection:"routerDirection"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["component","componentProps","routerAnimation","routerDirection"]})],A),A})(),ve=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-row"]],ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({})],A),A})(),or=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode"]})],A),A})(),lr=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","size"]})],A),A})(),vr=(()=>{var O;let A=((0,c.A)(O=class{constructor(b,j,oe){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=oe,b.detach(),this.el=j.nativeElement}},"\u0275fac",function(b){return new(b||O)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(O,"\u0275cmp",f.VBU({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),O);return A=(0,ie.Cg)([lt({inputs:["color","mode"]})],A),A})(),ji=(()=>{var O;class A extends te.Rg{constructor(b,j,oe,Xe,$t,Ct,qt,Jt){super(b,j,oe,Xe,$t,Ct,qt,Jt),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=Jt}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)(f.kS0("name"),f.kS0("tabs"),f.rXU(be.aZ),f.rXU(f.aKT),f.rXU(Be.Ix),f.rXU(f.SKi),f.rXU(Be.nX),f.rXU(O,12))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:O,selectors:[["ion-router-outlet"]],viewQuery:function(b,j){if(1&b&&f.GBs(De,7,f.c1b),2&b){let oe;f.mGM(oe=f.lsd())&&(j.outletContent=oe.first)}},features:[f.Vt3],ngContentSelectors:pe,decls:3,vars:0,consts:[["outletContent",""]],template:function(b,j){1&b&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),A})(),Di=(()=>{var O;class A extends te.el{constructor(b,j,oe,Xe,$t,Ct){super(b,j,oe,Xe,$t,Ct)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)(f.rXU(ji,8),f.rXU(te.q9),f.rXU(te.TS),f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(f.gRc))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:O,selectors:[["ion-back-button"]],features:[f.Vt3],ngContentSelectors:pe,decls:1,vars:0,template:function(b,j){1&b&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A})(),pi=(()=>{var O;class A extends te.CE{}return O=A,(0,c.A)(A,"\u0275fac",(()=>{let N;return function(j){return(N||(N=f.xGo(O)))(j||O)}})()),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],features:[f.Vt3]})),A})(),ri=(()=>{var O;class A extends te.pF{}return O=A,(0,c.A)(A,"\u0275fac",(()=>{let N;return function(j){return(N||(N=f.xGo(O)))(j||O)}})()),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[f.Vt3]})),A})();const di={provide:ne.cz,useExisting:(0,f.Rfq)(()=>bi),multi:!0};let bi=(()=>{var O;class A extends ne.zX{}return O=A,(0,c.A)(A,"\u0275fac",(()=>{let N;return function(j){return(N||(N=f.xGo(O)))(j||O)}})()),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(b,j){2&b&&f.BMQ("max",j._enabled?j.max:null)},features:[f.Jv_([di]),f.Vt3]})),A})();const Do={provide:ne.cz,useExisting:(0,f.Rfq)(()=>lo),multi:!0};let lo=(()=>{var O;class A extends ne.VZ{}return O=A,(0,c.A)(A,"\u0275fac",(()=>{let N;return function(j){return(N||(N=f.xGo(O)))(j||O)}})()),(0,c.A)(A,"\u0275dir",f.FsC({type:O,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(b,j){2&b&&f.BMQ("min",j._enabled?j.min:null)},features:[f.Jv_([Do]),f.Vt3]})),A})(),jo=(()=>{var O;class A extends te.Kb{constructor(){super(nt.l)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)}),(0,c.A)(A,"\u0275prov",f.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),A})(),ii=(()=>{var O;class A extends te._t{constructor(){super(ct.m)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)}),(0,c.A)(A,"\u0275prov",f.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),A})(),Li=(()=>{var O;class A extends te.Kb{constructor(){super(nt.m),(0,c.A)(this,"angularDelegate",(0,f.WQX)(te.Yq)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(b){return super.create({...b,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)}),(0,c.A)(A,"\u0275prov",f.jDH({token:O,factory:O.\u0275fac})),A})();class _o extends te.Kb{constructor(){super(nt.c),(0,c.A)(this,"angularDelegate",(0,f.WQX)(te.Yq)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(A){return super.create({...A,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let bo=(()=>{var O;class A extends te.Kb{constructor(){super(nt.t)}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)}),(0,c.A)(A,"\u0275prov",f.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),A})();const gi=(O,A,N)=>()=>{const b=A.defaultView;if(b&&typeof window<"u"){(0,Ze.s)({...O,_zoneGate:oe=>N.run(oe)});const j="__zone_symbol__addEventListener"in A.body?"__zone_symbol__addEventListener":"addEventListener";return function Me(){var O=[];if(typeof window<"u"){var A=window;(!A.customElements||A.Element&&(!A.Element.prototype.closest||!A.Element.prototype.matches||!A.Element.prototype.remove||!A.Element.prototype.getRootNode))&&O.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||A.NodeList&&!A.NodeList.prototype.forEach||!A.fetch||!function(){try{var b=new URL("b","http://a");return b.pathname="c%20d","http://a/c%20d"===b.href&&b.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&O.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(O)}().then(()=>Mt(b,{exclude:["ion-tabs"],syncQueue:!0,raf:te.er,jmp:oe=>N.runOutsideAngular(oe),ael(oe,Xe,$t,Ct){oe[j](Xe,$t,Ct)},rel(oe,Xe,$t,Ct){oe.removeEventListener(Xe,$t,Ct)}}))}};let Oo=(()=>{var O;class A{static forRoot(b={}){return{ngModule:A,providers:[{provide:te.sR,useValue:b},{provide:f.hnV,useFactory:gi,multi:!0,deps:[te.sR,be.qQ,f.SKi]},te.Yq,(0,te.YV)()]}}}return O=A,(0,c.A)(A,"\u0275fac",function(b){return new(b||O)}),(0,c.A)(A,"\u0275mod",f.$C({type:O})),(0,c.A)(A,"\u0275inj",f.G2t({providers:[Li,_o],imports:[be.MD]})),A})()},467:(mn,_t,k)=>{"use strict";function c(ne,te,ie,ae,be,Be,je){try{var Ee=ne[Be](je),ge=Ee.value}catch($e){return void ie($e)}Ee.done?te(ge):Promise.resolve(ge).then(ae,be)}function f(ne){return function(){var te=this,ie=arguments;return new Promise(function(ae,be){var Be=ne.apply(te,ie);function je(ge){c(Be,ae,be,je,Ee,"next",ge)}function Ee(ge){c(Be,ae,be,je,Ee,"throw",ge)}je(void 0)})}}k.d(_t,{A:()=>f})},9842:(mn,_t,k)=>{"use strict";function c(ie){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(ie)}function te(ie,ae,be){return(ae=function ne(ie){var ae=function f(ie,ae){if("object"!=c(ie)||!ie)return ie;var be=ie[Symbol.toPrimitive];if(void 0!==be){var Be=be.call(ie,ae||"default");if("object"!=c(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ae?String:Number)(ie)}(ie,"string");return"symbol"==c(ae)?ae:ae+""}(ae))in ie?Object.defineProperty(ie,ae,{value:be,enumerable:!0,configurable:!0,writable:!0}):ie[ae]=be,ie}k.d(_t,{A:()=>te})},1635:(mn,_t,k)=>{"use strict";function te(re,Ae){var Qe={};for(var Ke in re)Object.prototype.hasOwnProperty.call(re,Ke)&&Ae.indexOf(Ke)<0&&(Qe[Ke]=re[Ke]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Ke=Object.getOwnPropertySymbols(re);Ve<Ke.length;Ve++)Ae.indexOf(Ke[Ve])<0&&Object.prototype.propertyIsEnumerable.call(re,Ke[Ve])&&(Qe[Ke[Ve]]=re[Ke[Ve]])}return Qe}function ie(re,Ae,Qe,Ke){var lt,Ve=arguments.length,rt=Ve<3?Ae:null===Ke?Ke=Object.getOwnPropertyDescriptor(Ae,Qe):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rt=Reflect.decorate(re,Ae,Qe,Ke);else for(var St=re.length-1;St>=0;St--)(lt=re[St])&&(rt=(Ve<3?lt(rt):Ve>3?lt(Ae,Qe,rt):lt(Ae,Qe))||rt);return Ve>3&&rt&&Object.defineProperty(Ae,Qe,rt),rt}function $e(re,Ae,Qe,Ke){return new(Qe||(Qe=Promise))(function(rt,lt){function St(dn){try{sn(Ke.next(dn))}catch(Zt){lt(Zt)}}function An(dn){try{sn(Ke.throw(dn))}catch(Zt){lt(Zt)}}function sn(dn){dn.done?rt(dn.value):function Ve(rt){return rt instanceof Qe?rt:new Qe(function(lt){lt(rt)})}(dn.value).then(St,An)}sn((Ke=Ke.apply(re,Ae||[])).next())})}function Se(re){return this instanceof Se?(this.v=re,this):new Se(re)}function _e(re,Ae,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ke=Qe.apply(re,Ae||[]),rt=[];return Ve=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),St("next"),St("throw"),St("return",function lt(En){return function(_n){return Promise.resolve(_n).then(En,Zt)}}),Ve[Symbol.asyncIterator]=function(){return this},Ve;function St(En,_n){Ke[En]&&(Ve[En]=function(Kt){return new Promise(function(ir,Tt){rt.push([En,Kt,ir,Tt])>1||An(En,Kt)})},_n&&(Ve[En]=_n(Ve[En])))}function An(En,_n){try{!function sn(En){En.value instanceof Se?Promise.resolve(En.value.v).then(dn,Zt):Mn(rt[0][2],En)}(Ke[En](_n))}catch(Kt){Mn(rt[0][3],Kt)}}function dn(En){An("next",En)}function Zt(En){An("throw",En)}function Mn(En,_n){En(_n),rt.shift(),rt.length&&An(rt[0][0],rt[0][1])}}function dt(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ae=re[Symbol.asyncIterator];return Ae?Ae.call(re):(re=function ct(re){var Ae="function"==typeof Symbol&&Symbol.iterator,Qe=Ae&&re[Ae],Ke=0;if(Qe)return Qe.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Ke>=re.length&&(re=void 0),{value:re&&re[Ke++],done:!re}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),Qe={},Ke("next"),Ke("throw"),Ke("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Ke(rt){Qe[rt]=re[rt]&&function(lt){return new Promise(function(St,An){!function Ve(rt,lt,St,An){Promise.resolve(An).then(function(sn){rt({value:sn,done:St})},lt)}(St,An,(lt=re[rt](lt)).done,lt.value)})}}}k.d(_t,{AQ:()=>_e,Cg:()=>ie,N3:()=>Se,Tt:()=>te,sH:()=>$e,xN:()=>dt}),"function"==typeof SuppressedError&&SuppressedError}},mn=>{mn(mn.s=6132)}]);