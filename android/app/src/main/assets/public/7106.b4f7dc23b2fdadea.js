"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7106],{7106:(f,u,l)=>{l.r(u),l.d(u,{ProgramarViajePageModule:()=>M});var h=l(177),s=l(4341),i=l(4742),d=l(4964),e=l(4438),c=l(7687),p=l(1182);const j=[{path:"",component:(()=>{var n;class g{constructor(r,o,t){this.firestore=r,this.router=o,this.afAuth=t,this.destino="",this.comunaViaje="",this.fecha=new Date,this.precio=0,this.asientos=0,this.modelo="",this.patente="",this.conductorId=""}ngOnInit(){this.afAuth.onAuthStateChanged(r=>{r&&(this.conductorId=r.uid)})}programarViaje(){const r={destino:this.destino,comunaViaje:this.comunaViaje,fecha:this.fecha,precio:this.precio,asientos:this.asientos,conductor:this.conductorId,modelo:this.modelo,patente:this.patente,pasajeros:[],estado:"disponible"};this.firestore.collection("viajes").add(r).then(()=>{console.log("Viaje programado exitosamente!"),this.router.navigate(["/home"])}).catch(o=>{console.error("Error al programar el viaje:",o)})}formValid(){return this.destino&&this.comunaViaje&&this.precio&&this.asientos&&this.modelo&&this.patente}volverAlHome(){this.router.navigate(["/home"])}}return(n=g).\u0275fac=function(r){return new(r||n)(e.rXU(c.Qe),e.rXU(d.Ix),e.rXU(p.DS))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-programar-viaje"]],decls:39,vars:8,consts:[["slot","start"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["name","destino","required","",3,"ngModelChange","ngModel"],["name","comunaViaje","required","",3,"ngModelChange","ngModel"],["name","fecha","required","",3,"ngModelChange","ngModel"],["name","precio","type","number","required","",3,"ngModelChange","ngModel"],["name","asientos","type","number","required","",3,"ngModelChange","ngModel"],["name","modelo","required","",3,"ngModelChange","ngModel"],["name","patente","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"]],template:function(r,o){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return o.volverAlHome()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Programar Viaje"),e.k0s()()(),e.j41(7,"ion-content",3)(8,"form",4),e.bIt("ngSubmit",function(){return o.programarViaje()}),e.j41(9,"ion-item")(10,"ion-label",5),e.EFF(11,"Destino"),e.k0s(),e.j41(12,"ion-input",6),e.mxI("ngModelChange",function(a){return e.DH7(o.destino,a)||(o.destino=a),a}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",5),e.EFF(15,"Comuna de Viaje"),e.k0s(),e.j41(16,"ion-input",7),e.mxI("ngModelChange",function(a){return e.DH7(o.comunaViaje,a)||(o.comunaViaje=a),a}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-label",5),e.EFF(19,"Fecha"),e.k0s(),e.j41(20,"ion-datetime",8),e.mxI("ngModelChange",function(a){return e.DH7(o.fecha,a)||(o.fecha=a),a}),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",5),e.EFF(23,"Precio por Persona"),e.k0s(),e.j41(24,"ion-input",9),e.mxI("ngModelChange",function(a){return e.DH7(o.precio,a)||(o.precio=a),a}),e.k0s()(),e.j41(25,"ion-item")(26,"ion-label",5),e.EFF(27,"Asientos Disponibles"),e.k0s(),e.j41(28,"ion-input",10),e.mxI("ngModelChange",function(a){return e.DH7(o.asientos,a)||(o.asientos=a),a}),e.k0s()(),e.j41(29,"ion-item")(30,"ion-label",5),e.EFF(31,"Modelo del Auto"),e.k0s(),e.j41(32,"ion-input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.modelo,a)||(o.modelo=a),a}),e.k0s()(),e.j41(33,"ion-item")(34,"ion-label",5),e.EFF(35,"Patente del Auto"),e.k0s(),e.j41(36,"ion-input",12),e.mxI("ngModelChange",function(a){return e.DH7(o.patente,a)||(o.patente=a),a}),e.k0s()(),e.j41(37,"ion-button",13),e.EFF(38,"Programar Viaje"),e.k0s()()()),2&r&&(e.R7$(12),e.R50("ngModel",o.destino),e.R7$(4),e.R50("ngModel",o.comunaViaje),e.R7$(4),e.R50("ngModel",o.fecha),e.R7$(4),e.R50("ngModel",o.precio),e.R7$(4),e.R50("ngModel",o.asientos),e.R7$(4),e.R50("ngModel",o.modelo),e.R7$(4),e.R50("ngModel",o.patente),e.R7$(),e.Y8G("disabled",!o.formValid()))},dependencies:[s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,i.Jm,i.QW,i.W9,i.A9,i.eU,i.iq,i.$w,i.uz,i.he,i.BC,i.ai,i.su,i.Je,i.Gw],styles:['@charset "UTF-8";.datetime-selector[_ngcontent-%COMP%]{--min-width: 100%;--max-width: 100%;padding:5px 0}ion-grid[_ngcontent-%COMP%]{margin-bottom:15px}ion-col[_ngcontent-%COMP%]{display:flex;align-items:center}ion-toolbar[_ngcontent-%COMP%]{--background: #20f7ef;--color: rgb(0, 0, 0)}']}),g})()}];let P=(()=>{var n;class g{}return(n=g).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.iI.forChild(j),d.iI]}),g})(),M=(()=>{var n;class g{}return(n=g).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[h.MD,s.YN,i.bv,P]}),g})()}}]);